var MCP=function(t){var e={};function r(i){if(e[i]){return e[i].exports}var n=e[i]={i,l:false,exports:{}};t[i].call(n.exports,n,n.exports,r);n.l=true;return n.exports}r.m=t;r.c=e;r.d=function(t,e,i){if(!r.o(t,e)){Object.defineProperty(t,e,{enumerable:true,get:i})}};r.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};r.t=function(t,e){if(e&1)t=r(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var i=Object.create(null);r.r(i);Object.defineProperty(i,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i};r.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};r.d(e,"a",e);return e};r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};r.p="/dist/";return r(r.s=92)}([function(t,e,r){"use strict";e.__esModule=true;var i=e.VERSION="4.8.1";var n=e.PI_2=Math.PI*2;var a=e.RAD_TO_DEG=180/Math.PI;var o=e.DEG_TO_RAD=Math.PI/180;var s=e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2};var u=e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19};var l=e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};var h=e.SCALE_MODES={LINEAR:0,NEAREST:1};var f=e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2};var c=e.GC_MODES={AUTO:0,MANUAL:1};var d=e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i;var p=e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;var v=e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var y=e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4};var g=e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};var _=e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1};var m=e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1};var b=e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,r){"use strict";e.__esModule=true;e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.TextureMatrix=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=undefined;var i=r(0);Object.keys(i).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(e,t,{enumerable:true,get:function e(){return i[t]}})});var n=r(4);Object.keys(n).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(e,t,{enumerable:true,get:function e(){return n[t]}})});var a=r(5);Object.defineProperty(e,"glCore",{enumerable:true,get:function t(){return Q(a).default}});var o=r(34);Object.defineProperty(e,"Bounds",{enumerable:true,get:function t(){return Q(o).default}});var s=r(80);Object.defineProperty(e,"DisplayObject",{enumerable:true,get:function t(){return Q(s).default}});var u=r(15);Object.defineProperty(e,"Container",{enumerable:true,get:function t(){return Q(u).default}});var l=r(78);Object.defineProperty(e,"Transform",{enumerable:true,get:function t(){return Q(l).default}});var h=r(79);Object.defineProperty(e,"TransformStatic",{enumerable:true,get:function t(){return Q(h).default}});var f=r(32);Object.defineProperty(e,"TransformBase",{enumerable:true,get:function t(){return Q(f).default}});var c=r(30);Object.defineProperty(e,"Sprite",{enumerable:true,get:function t(){return Q(c).default}});var d=r(170);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:true,get:function t(){return Q(d).default}});var p=r(26);Object.defineProperty(e,"CanvasTinter",{enumerable:true,get:function t(){return Q(p).default}});var v=r(167);Object.defineProperty(e,"SpriteRenderer",{enumerable:true,get:function t(){return Q(v).default}});var y=r(152);Object.defineProperty(e,"Text",{enumerable:true,get:function t(){return Q(y).default}});var g=r(66);Object.defineProperty(e,"TextStyle",{enumerable:true,get:function t(){return Q(g).default}});var _=r(65);Object.defineProperty(e,"TextMetrics",{enumerable:true,get:function t(){return Q(_).default}});var m=r(150);Object.defineProperty(e,"Graphics",{enumerable:true,get:function t(){return Q(m).default}});var b=r(64);Object.defineProperty(e,"GraphicsData",{enumerable:true,get:function t(){return Q(b).default}});var x=r(148);Object.defineProperty(e,"GraphicsRenderer",{enumerable:true,get:function t(){return Q(x).default}});var T=r(141);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:true,get:function t(){return Q(T).default}});var w=r(140);Object.defineProperty(e,"Spritesheet",{enumerable:true,get:function t(){return Q(w).default}});var E=r(7);Object.defineProperty(e,"Texture",{enumerable:true,get:function t(){return Q(E).default}});var S=r(68);Object.defineProperty(e,"TextureMatrix",{enumerable:true,get:function t(){return Q(S).default}});var O=r(9);Object.defineProperty(e,"BaseTexture",{enumerable:true,get:function t(){return Q(O).default}});var M=r(27);Object.defineProperty(e,"RenderTexture",{enumerable:true,get:function t(){return Q(M).default}});var P=r(73);Object.defineProperty(e,"BaseRenderTexture",{enumerable:true,get:function t(){return Q(P).default}});var C=r(76);Object.defineProperty(e,"VideoBaseTexture",{enumerable:true,get:function t(){return Q(C).default}});var A=r(75);Object.defineProperty(e,"TextureUvs",{enumerable:true,get:function t(){return Q(A).default}});var I=r(72);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:true,get:function t(){return Q(I).default}});var R=r(12);Object.defineProperty(e,"Shader",{enumerable:true,get:function t(){return Q(R).default}});var D=r(13);Object.defineProperty(e,"WebGLManager",{enumerable:true,get:function t(){return Q(D).default}});var L=r(21);Object.defineProperty(e,"ObjectRenderer",{enumerable:true,get:function t(){return Q(L).default}});var N=r(19);Object.defineProperty(e,"RenderTarget",{enumerable:true,get:function t(){return Q(N).default}});var k=r(67);Object.defineProperty(e,"Quad",{enumerable:true,get:function t(){return Q(k).default}});var F=r(70);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:true,get:function t(){return Q(F).default}});var B=r(69);Object.defineProperty(e,"Filter",{enumerable:true,get:function t(){return Q(B).default}});var U=r(63);Object.defineProperty(e,"Application",{enumerable:true,get:function t(){return Q(U).default}});var j=r(62);Object.defineProperty(e,"autoDetectRenderer",{enumerable:true,get:function t(){return j.autoDetectRenderer}});var X=r(2);var G=J(X);var W=r(28);var H=J(W);var Y=r(3);var V=Q(Y);var z=r(14);var q=Q(z);var Z=r(20);var K=Q(Z);function J(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function Q(t){return t&&t.__esModule?t:{default:t}}e.settings=V.default;e.utils=G;e.ticker=H;e.CanvasRenderer=q.default;e.WebGLRenderer=K.default},function(t,e,r){"use strict";e.__esModule=true;e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.earcut=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=undefined;e.uid=E;e.hex2rgb=S;e.hex2string=O;e.rgb2hex=M;e.getResolutionOfUrl=P;e.decomposeDataUri=C;e.getUrlFileExtension=A;e.getSvgSize=I;e.skipHello=R;e.sayHello=D;e.isWebGLSupported=L;e.sign=N;e.destroyTextureCache=B;e.clearTextureCache=U;e.correctBlendMode=X;e.premultiplyTint=G;e.premultiplyRgba=W;e.premultiplyTintToRgba=H;var i=r(0);var n=r(3);var a=x(n);var o=r(8);var s=x(o);var u=r(176);var l=x(u);var h=r(175);var f=b(h);var c=r(33);var d=b(c);var p=r(174);var v=x(p);var y=r(173);var g=x(y);var _=r(31);var m=x(_);function b(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function x(t){return t&&t.__esModule?t:{default:t}}var T=0;var w=false;e.isMobile=d;e.removeItems=v.default;e.EventEmitter=s.default;e.pluginTarget=l.default;e.mixins=f;e.earcut=m.default;function E(){return++T}function S(t,e){e=e||[];e[0]=(t>>16&255)/255;e[1]=(t>>8&255)/255;e[2]=(t&255)/255;return e}function O(t){t=t.toString(16);t="000000".substr(0,6-t.length)+t;return"#"+t}function M(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function P(t,e){var r=a.default.RETINA_PREFIX.exec(t);if(r){return parseFloat(r[1])}return e!==undefined?e:1}function C(t){var e=i.DATA_URI.exec(t);if(e){return{mediaType:e[1]?e[1].toLowerCase():undefined,subType:e[2]?e[2].toLowerCase():undefined,charset:e[3]?e[3].toLowerCase():undefined,encoding:e[4]?e[4].toLowerCase():undefined,data:e[5]}}return undefined}function A(t){var e=i.URL_FILE_EXTENSION.exec(t);if(e){return e[1].toLowerCase()}return undefined}function I(t){var e=i.SVG_SIZE.exec(t);var r={};if(e){r[e[1]]=Math.round(parseFloat(e[3]));r[e[5]]=Math.round(parseFloat(e[7]))}return r}function R(){w=true}function D(t){if(w){return}if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+i.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else if(window.console){window.console.log("PixiJS "+i.VERSION+" - "+t+" - http://www.pixijs.com/")}w=true}function L(){var t={stencil:true,failIfMajorPerformanceCaveat:true};try{if(!window.WebGLRenderingContext){return false}var e=document.createElement("canvas");var r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);var i=!!(r&&r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");if(n){n.loseContext()}}r=null;return i}catch(t){return false}}function N(t){if(t===0)return 0;return t<0?-1:1}var k=e.TextureCache=Object.create(null);var F=e.BaseTextureCache=Object.create(null);function B(){var t=void 0;for(t in k){k[t].destroy()}for(t in F){F[t].destroy()}}function U(){var t=void 0;for(t in k){delete k[t]}for(t in F){delete F[t]}}var j=e.premultiplyBlendMode=(0,g.default)();function X(t,e){return j[e?1:0][t]}function G(t,e){if(e===1){return(e*255<<24)+t}if(e===0){return 0}var r=t>>16&255;var i=t>>8&255;var n=t&255;r=r*e+.5|0;i=i*e+.5|0;n=n*e+.5|0;return(e*255<<24)+(r<<16)+(i<<8)+n}function W(t,e,r,i){r=r||new Float32Array(4);if(i||i===undefined){r[0]=t[0]*e;r[1]=t[1]*e;r[2]=t[2]*e}else{r[0]=t[0];r[1]=t[1];r[2]=t[2]}r[3]=e;return r}function H(t,e,r,i){r=r||new Float32Array(4);r[0]=(t>>16&255)/255;r[1]=(t>>8&255)/255;r[2]=(t&255)/255;if(i||i===undefined){r[0]*=e;r[1]*=e;r[2]*=e}r[3]=e;return r}},function(t,e,r){"use strict";e.__esModule=true;var i=r(178);var n=s(i);var a=r(177);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:true,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:false,forceFXAA:false,autoResize:false,transparent:false,backgroundColor:0,clearBeforeRender:true,preserveDrawingBuffer:false,roundPixels:false,width:800,height:600,legacy:false},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,o.default)(),MESH_CANVAS_PADDING:0}},function(t,e,r){"use strict";e.__esModule=true;var i=r(38);Object.defineProperty(e,"Point",{enumerable:true,get:function t(){return c(i).default}});var n=r(91);Object.defineProperty(e,"ObservablePoint",{enumerable:true,get:function t(){return c(n).default}});var a=r(37);Object.defineProperty(e,"Matrix",{enumerable:true,get:function t(){return c(a).default}});var o=r(90);Object.defineProperty(e,"GroupD8",{enumerable:true,get:function t(){return c(o).default}});var s=r(188);Object.defineProperty(e,"Circle",{enumerable:true,get:function t(){return c(s).default}});var u=r(187);Object.defineProperty(e,"Ellipse",{enumerable:true,get:function t(){return c(u).default}});var l=r(186);Object.defineProperty(e,"Polygon",{enumerable:true,get:function t(){return c(l).default}});var h=r(36);Object.defineProperty(e,"Rectangle",{enumerable:true,get:function t(){return c(h).default}});var f=r(185);Object.defineProperty(e,"RoundedRectangle",{enumerable:true,get:function t(){return c(f).default}});function c(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){var i={createContext:r(184),setVertexAttribArrays:r(89),GLBuffer:r(183),GLFramebuffer:r(182),GLShader:r(181),GLTexture:r(88),VertexArrayObject:r(180),shader:r(179)};if(typeof t!=="undefined"&&t.exports){t.exports=i}if(typeof window!=="undefined"){window.PIXI=window.PIXI||{};window.PIXI.glCore=i}},function(t,e){t.exports=require("path")},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(9);var a=y(n);var o=r(76);var s=y(o);var u=r(75);var l=y(u);var h=r(8);var f=y(h);var c=r(4);var d=r(2);var p=r(3);var v=y(p);function y(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function _(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function m(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var b=function(t){m(e,t);function e(r,i,n,a,o){g(this,e);var s=_(this,t.call(this));s.noFrame=false;if(!i){s.noFrame=true;i=new c.Rectangle(0,0,1,1)}if(r instanceof e){r=r.baseTexture}s.baseTexture=r;s._frame=i;s.trim=a;s.valid=false;s.requiresUpdate=false;s._uvs=null;s.orig=n||i;s._rotate=Number(o||0);if(o===true){s._rotate=2}else if(s._rotate%2!==0){throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually")}if(r.hasLoaded){if(s.noFrame){i=new c.Rectangle(0,0,r.width,r.height);r.on("update",s.onBaseTextureUpdated,s)}s.frame=i}else{r.once("loaded",s.onBaseTextureLoaded,s)}s._updateID=0;s.transform=null;s.textureCacheIds=[];return s}e.prototype.update=function t(){this.baseTexture.update()};e.prototype.onBaseTextureLoaded=function t(e){this._updateID++;if(this.noFrame){this.frame=new c.Rectangle(0,0,e.width,e.height)}else{this.frame=this._frame}this.baseTexture.on("update",this.onBaseTextureUpdated,this);this.emit("update",this)};e.prototype.onBaseTextureUpdated=function t(e){this._updateID++;this._frame.width=e.width;this._frame.height=e.height;this.emit("update",this)};e.prototype.destroy=function t(r){if(this.baseTexture){if(r){if(d.TextureCache[this.baseTexture.imageUrl]){e.removeFromCache(this.baseTexture.imageUrl)}this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this);this.baseTexture.off("loaded",this.onBaseTextureLoaded,this);this.baseTexture=null}this._frame=null;this._uvs=null;this.trim=null;this.orig=null;this.valid=false;e.removeFromCache(this);this.textureCacheIds=null};e.prototype.clone=function t(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)};e.prototype._updateUvs=function t(){if(!this._uvs){this._uvs=new l.default}this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};e.fromImage=function t(r,i,n,o){var s=d.TextureCache[r];if(!s){s=new e(a.default.fromImage(r,i,n,o));e.addToCache(s,r)}return s};e.fromFrame=function t(e){var r=d.TextureCache[e];if(!r){throw new Error('The frameId "'+e+'" does not exist in the texture cache')}return r};e.fromCanvas=function t(r,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"canvas";return new e(a.default.fromCanvas(r,i,n))};e.fromVideo=function t(r,i){if(typeof r==="string"){return e.fromVideoUrl(r,i)}return new e(s.default.fromVideo(r,i))};e.fromVideoUrl=function t(r,i){return new e(s.default.fromUrl(r,i))};e.from=function t(r){if(typeof r==="string"){var i=d.TextureCache[r];if(!i){var n=r.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)!==null;if(n){return e.fromVideoUrl(r)}return e.fromImage(r)}return i}else if(r instanceof HTMLImageElement){return new e(a.default.from(r))}else if(r instanceof HTMLCanvasElement){return e.fromCanvas(r,v.default.SCALE_MODE,"HTMLCanvasElement")}else if(r instanceof HTMLVideoElement){return e.fromVideo(r)}else if(r instanceof a.default){return new e(r)}return r};e.fromLoader=function t(r,i,n){var o=new a.default(r,undefined,(0,d.getResolutionOfUrl)(i));var s=new e(o);o.imageUrl=i;if(!n){n=i}a.default.addToCache(s.baseTexture,n);e.addToCache(s,n);if(n!==i){a.default.addToCache(s.baseTexture,i);e.addToCache(s,i)}return s};e.addToCache=function t(e,r){if(r){if(e.textureCacheIds.indexOf(r)===-1){e.textureCacheIds.push(r)}if(d.TextureCache[r]){console.warn("Texture added to the cache with an id ["+r+"] that already had an entry")}d.TextureCache[r]=e}};e.removeFromCache=function t(e){if(typeof e==="string"){var r=d.TextureCache[e];if(r){var i=r.textureCacheIds.indexOf(e);if(i>-1){r.textureCacheIds.splice(i,1)}delete d.TextureCache[e];return r}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n){if(d.TextureCache[e.textureCacheIds[n]]===e){delete d.TextureCache[e.textureCacheIds[n]]}}e.textureCacheIds.length=0;return e}return null};i(e,[{key:"frame",get:function t(){return this._frame},set:function t(e){this._frame=e;this.noFrame=false;var r=e.x,i=e.y,n=e.width,a=e.height;var o=r+n>this.baseTexture.width;var s=i+a>this.baseTexture.height;if(o||s){var u=o&&s?"and":"or";var l="X: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.width;var h="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(l+" "+u+" "+h))}this.valid=n&&a&&this.baseTexture.hasLoaded;if(!this.trim&&!this.rotate){this.orig=e}if(this.valid){this._updateUvs()}}},{key:"rotate",get:function t(){return this._rotate},set:function t(e){this._rotate=e;if(this.valid){this._updateUvs()}}},{key:"width",get:function t(){return this.orig.width}},{key:"height",get:function t(){return this.orig.height}}]);return e}(f.default);e.default=b;function x(){var t=document.createElement("canvas");t.width=10;t.height=10;var e=t.getContext("2d");e.fillStyle="white";e.fillRect(0,0,10,10);return new b(new a.default(t))}function T(t){t.destroy=function t(){};t.on=function t(){};t.once=function t(){};t.emit=function t(){}}b.EMPTY=new b(new a.default);T(b.EMPTY);T(b.EMPTY.baseTexture);b.WHITE=x();T(b.WHITE);T(b.WHITE.baseTexture)},function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function a(){}if(Object.create){a.prototype=Object.create(null);if(!(new a).__proto__)n=false}function o(t,e,r){this.fn=t;this.context=e;this.once=r||false}function s(){this._events=new a;this._eventsCount=0}s.prototype.eventNames=function t(){var e=[],r,a;if(this._eventsCount===0)return e;for(a in r=this._events){if(i.call(r,a))e.push(n?a.slice(1):a)}if(Object.getOwnPropertySymbols){return e.concat(Object.getOwnPropertySymbols(r))}return e};s.prototype.listeners=function t(e,r){var i=n?n+e:e,a=this._events[i];if(r)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var o=0,s=a.length,u=new Array(s);o<s;o++){u[o]=a[o].fn}return u};s.prototype.emit=function t(e,r,i,a,o,s){var u=n?n+e:e;if(!this._events[u])return false;var l=this._events[u],h=arguments.length,f,c;if(l.fn){if(l.once)this.removeListener(e,l.fn,undefined,true);switch(h){case 1:return l.fn.call(l.context),true;case 2:return l.fn.call(l.context,r),true;case 3:return l.fn.call(l.context,r,i),true;case 4:return l.fn.call(l.context,r,i,a),true;case 5:return l.fn.call(l.context,r,i,a,o),true;case 6:return l.fn.call(l.context,r,i,a,o,s),true}for(c=1,f=new Array(h-1);c<h;c++){f[c-1]=arguments[c]}l.fn.apply(l.context,f)}else{var d=l.length,p;for(c=0;c<d;c++){if(l[c].once)this.removeListener(e,l[c].fn,undefined,true);switch(h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,r);break;case 3:l[c].fn.call(l[c].context,r,i);break;case 4:l[c].fn.call(l[c].context,r,i,a);break;default:if(!f)for(p=1,f=new Array(h-1);p<h;p++){f[p-1]=arguments[p]}l[c].fn.apply(l[c].context,f)}}}return true};s.prototype.on=function t(e,r,i){var a=new o(r,i||this),s=n?n+e:e;if(!this._events[s])this._events[s]=a,this._eventsCount++;else if(!this._events[s].fn)this._events[s].push(a);else this._events[s]=[this._events[s],a];return this};s.prototype.once=function t(e,r,i){var a=new o(r,i||this,true),s=n?n+e:e;if(!this._events[s])this._events[s]=a,this._eventsCount++;else if(!this._events[s].fn)this._events[s].push(a);else this._events[s]=[this._events[s],a];return this};s.prototype.removeListener=function t(e,r,i,o){var s=n?n+e:e;if(!this._events[s])return this;if(!r){if(--this._eventsCount===0)this._events=new a;else delete this._events[s];return this}var u=this._events[s];if(u.fn){if(u.fn===r&&(!o||u.once)&&(!i||u.context===i)){if(--this._eventsCount===0)this._events=new a;else delete this._events[s]}}else{for(var l=0,h=[],f=u.length;l<f;l++){if(u[l].fn!==r||o&&!u[l].once||i&&u[l].context!==i){h.push(u[l])}}if(h.length)this._events[s]=h.length===1?h[0]:h;else if(--this._eventsCount===0)this._events=new a;else delete this._events[s]}return this};s.prototype.removeAllListeners=function t(e){var r;if(e){r=n?n+e:e;if(this._events[r]){if(--this._eventsCount===0)this._events=new a;else delete this._events[r]}}else{this._events=new a;this._eventsCount=0}return this};s.prototype.off=s.prototype.removeListener;s.prototype.addListener=s.prototype.on;s.prototype.setMaxListeners=function t(){return this};s.prefixed=n;s.EventEmitter=s;if(true){t.exports=s}},function(t,e,r){"use strict";e.__esModule=true;var i=r(2);var n=r(3);var a=c(n);var o=r(8);var s=c(o);var u=r(77);var l=c(u);var h=r(29);var f=c(h);function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function p(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function v(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var y=function(t){v(e,t);function e(r,n,o){d(this,e);var s=p(this,t.call(this));s.uid=(0,i.uid)();s.touched=0;s.resolution=o||a.default.RESOLUTION;s.width=100;s.height=100;s.realWidth=100;s.realHeight=100;s.scaleMode=n!==undefined?n:a.default.SCALE_MODE;s.hasLoaded=false;s.isLoading=false;s.source=null;s.origSource=null;s.imageType=null;s.sourceScale=1;s.premultipliedAlpha=true;s.imageUrl=null;s.isPowerOfTwo=false;s.mipmap=a.default.MIPMAP_TEXTURES;s.wrapMode=a.default.WRAP_MODE;s._glTextures={};s._enabled=0;s._virtalBoundId=-1;s._destroyed=false;s.textureCacheIds=[];if(r){s.loadSource(r)}return s}e.prototype.update=function t(){if(this.imageType!=="svg"){this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width;this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height;this._updateDimensions()}this.emit("update",this)};e.prototype._updateDimensions=function t(){this.width=this.realWidth/this.resolution;this.height=this.realHeight/this.resolution;this.isPowerOfTwo=f.default.isPow2(this.realWidth)&&f.default.isPow2(this.realHeight)};e.prototype.loadSource=function t(e){var r=this.isLoading;this.hasLoaded=false;this.isLoading=false;if(r&&this.source){this.source.onload=null;this.source.onerror=null}var i=!this.source;this.source=e;if((e.src&&e.complete||e.getContext)&&e.width&&e.height){this._updateImageType();if(this.imageType==="svg"){this._loadSvgSource()}else{this._sourceLoaded()}if(i){this.emit("loaded",this)}}else if(!e.getContext){this.isLoading=true;var n=this;e.onload=function(){n._updateImageType();e.onload=null;e.onerror=null;if(!n.isLoading){return}n.isLoading=false;n._sourceLoaded();if(n.imageType==="svg"){n._loadSvgSource();return}n.emit("loaded",n)};e.onerror=function(){e.onload=null;e.onerror=null;if(!n.isLoading){return}n.isLoading=false;n.emit("error",n)};if(e.complete&&e.src){e.onload=null;e.onerror=null;if(n.imageType==="svg"){n._loadSvgSource();return}this.isLoading=false;if(e.width&&e.height){this._sourceLoaded();if(r){this.emit("loaded",this)}}else if(r){this.emit("error",this)}}}};e.prototype._updateImageType=function t(){if(!this.imageUrl){return}var e=(0,i.decomposeDataUri)(this.imageUrl);var r=void 0;if(e&&e.mediaType==="image"){var n=e.subType.split("+")[0];r=(0,i.getUrlFileExtension)("."+n);if(!r){throw new Error("Invalid image type in data URI.")}}else{r=(0,i.getUrlFileExtension)(this.imageUrl);if(!r){r="png"}}this.imageType=r};e.prototype._loadSvgSource=function t(){if(this.imageType!=="svg"){return}var e=(0,i.decomposeDataUri)(this.imageUrl);if(e){this._loadSvgSourceUsingDataUri(e)}else{this._loadSvgSourceUsingXhr()}};e.prototype._loadSvgSourceUsingDataUri=function t(e){var r=void 0;if(e.encoding==="base64"){if(!atob){throw new Error("Your browser doesn't support base64 conversions.")}r=atob(e.data)}else{r=e.data}this._loadSvgSourceUsingString(r)};e.prototype._loadSvgSourceUsingXhr=function t(){var e=this;var r=new XMLHttpRequest;r.onload=function(){if(r.readyState!==r.DONE||r.status!==200){throw new Error("Failed to load SVG using XHR.")}e._loadSvgSourceUsingString(r.response)};r.onerror=function(){return e.emit("error",e)};r.open("GET",this.imageUrl,true);r.send()};e.prototype._loadSvgSourceUsingString=function t(r){var n=(0,i.getSvgSize)(r);var a=n.width;var o=n.height;if(!a||!o){throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.")}this.realWidth=Math.round(a*this.sourceScale);this.realHeight=Math.round(o*this.sourceScale);this._updateDimensions();var s=document.createElement("canvas");s.width=this.realWidth;s.height=this.realHeight;s._pixiId="canvas_"+(0,i.uid)();s.getContext("2d").drawImage(this.source,0,0,a,o,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=s;e.addToCache(this,s._pixiId);this.isLoading=false;this._sourceLoaded();this.emit("loaded",this)};e.prototype._sourceLoaded=function t(){this.hasLoaded=true;this.update()};e.prototype.destroy=function t(){if(this.imageUrl){delete i.TextureCache[this.imageUrl];this.imageUrl=null;if(!navigator.isCocoonJS){this.source.src=""}}this.source=null;this.dispose();e.removeFromCache(this);this.textureCacheIds=null;this._destroyed=true};e.prototype.dispose=function t(){this.emit("dispose",this)};e.prototype.updateSourceImage=function t(e){this.source.src=e;this.loadSource(this.source)};e.fromImage=function t(r,n,a,o){var s=i.BaseTextureCache[r];if(!s){var u=new Image;if(n===undefined&&r.indexOf("data:")!==0){u.crossOrigin=(0,l.default)(r)}else if(n){u.crossOrigin=typeof n==="string"?n:"anonymous"}s=new e(u,a);s.imageUrl=r;if(o){s.sourceScale=o}s.resolution=(0,i.getResolutionOfUrl)(r);u.src=r;e.addToCache(s,r)}return s};e.fromCanvas=function t(r,n){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"canvas";if(!r._pixiId){r._pixiId=a+"_"+(0,i.uid)()}var o=i.BaseTextureCache[r._pixiId];if(!o){o=new e(r,n);e.addToCache(o,r._pixiId)}return o};e.from=function t(r,n,a){if(typeof r==="string"){return e.fromImage(r,undefined,n,a)}else if(r instanceof HTMLImageElement){var o=r.src;var s=i.BaseTextureCache[o];if(!s){s=new e(r,n);s.imageUrl=o;if(a){s.sourceScale=a}s.resolution=(0,i.getResolutionOfUrl)(o);e.addToCache(s,o)}return s}else if(r instanceof HTMLCanvasElement){return e.fromCanvas(r,n)}return r};e.addToCache=function t(e,r){if(r){if(e.textureCacheIds.indexOf(r)===-1){e.textureCacheIds.push(r)}if(i.BaseTextureCache[r]){console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry")}i.BaseTextureCache[r]=e}};e.removeFromCache=function t(e){if(typeof e==="string"){var r=i.BaseTextureCache[e];if(r){var n=r.textureCacheIds.indexOf(e);if(n>-1){r.textureCacheIds.splice(n,1)}delete i.BaseTextureCache[e];return r}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a){delete i.BaseTextureCache[e.textureCacheIds[a]]}e.textureCacheIds.length=0;return e}return null};return e}(s.default);e.default=y},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=l(n);var o=r(7);var s=u(o);function u(t){return t&&t.__esModule?t:{default:t}}function l(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function h(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function f(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function c(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var d=new a.Point;var p=new a.Polygon;var v=function(t){c(e,t);function e(r,i,n,o,u){h(this,e);var l=f(this,t.call(this));l._texture=r||s.default.EMPTY;l.uvs=n||new Float32Array([0,0,1,0,1,1,0,1]);l.vertices=i||new Float32Array([0,0,100,0,100,100,0,100]);l.indices=o||new Uint16Array([0,1,3,2]);l.dirty=0;l.indexDirty=0;l.vertexDirty=0;l.autoUpdate=true;l.blendMode=a.BLEND_MODES.NORMAL;l.canvasPadding=a.settings.MESH_CANVAS_PADDING;l.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH;l.shader=null;l.tintRgb=new Float32Array([1,1,1]);l._glDatas={};l._uvTransform=new a.TextureMatrix(l._texture);l.uploadUvTransform=false;l.pluginName="mesh";return l}e.prototype._renderWebGL=function t(e){this.refresh();e.setObjectRenderer(e.plugins[this.pluginName]);e.plugins[this.pluginName].render(this)};e.prototype._renderCanvas=function t(e){this.refresh();e.plugins[this.pluginName].render(this)};e.prototype._onTextureUpdate=function t(){this._uvTransform.texture=this._texture;this.refresh()};e.prototype.multiplyUvs=function t(){if(!this.uploadUvTransform){this._uvTransform.multiplyUvs(this.uvs)}};e.prototype.refresh=function t(e){if(this.autoUpdate){this.vertexDirty++}if(this._uvTransform.update(e)){this._refresh()}};e.prototype._refresh=function t(){};e.prototype._calculateBounds=function t(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)};e.prototype.containsPoint=function t(r){if(!this.getBounds().contains(r.x,r.y)){return false}this.worldTransform.applyInverse(r,d);var i=this.vertices;var n=p.points;var a=this.indices;var o=this.indices.length;var s=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1;for(var u=0;u+2<o;u+=s){var l=a[u]*2;var h=a[u+1]*2;var f=a[u+2]*2;n[0]=i[l];n[1]=i[l+1];n[2]=i[h];n[3]=i[h+1];n[4]=i[f];n[5]=i[f+1];if(p.contains(d.x,d.y)){return true}}return false};e.prototype.destroy=function e(r){for(var i in this._glDatas){var n=this._glDatas[i];if(n.destroy){n.destroy()}else{if(n.vertexBuffer){n.vertexBuffer.destroy();n.vertexBuffer=null}if(n.indexBuffer){n.indexBuffer.destroy();n.indexBuffer=null}if(n.uvBuffer){n.uvBuffer.destroy();n.uvBuffer=null}if(n.vao){n.vao.destroy();n.vao=null}}}this._glDatas=null;t.prototype.destroy.call(this,r)};i(e,[{key:"texture",get:function t(){return this._texture},set:function t(e){if(this._texture===e){return}this._texture=e;if(e){if(e.baseTexture.hasLoaded){this._onTextureUpdate()}else{e.once("update",this._onTextureUpdate,this)}}}},{key:"tint",get:function t(){return a.utils.rgb2hex(this.tintRgb)},set:function t(e){this.tintRgb=a.utils.hex2rgb(e,this.tintRgb)}}]);return e}(a.Container);e.default=v;v.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,r){"use strict";var i=r(116).default;var n=r(24).default;var a=r(47);var o=r(46);i.Resource=n;i.async=a;i.base64=o;t.exports=i;t.exports.default=i},function(t,e,r){"use strict";e.__esModule=true;var i=r(5);var n=r(3);var a=o(n);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function u(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function l(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function h(t,e){if(t instanceof Array){if(t[0].substring(0,9)!=="precision"){var r=t.slice(0);r.unshift("precision "+e+" float;");return r}}else if(t.trim().substring(0,9)!=="precision"){return"precision "+e+" float;\n"+t}return t}var f=function(t){l(e,t);function e(r,i,n,o,l){s(this,e);return u(this,t.call(this,r,h(i,l||a.default.PRECISION_VERTEX),h(n,l||a.default.PRECISION_FRAGMENT),undefined,o))}return e}(i.GLShader);e.default=f},function(t,e,r){"use strict";e.__esModule=true;function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function t(e){i(this,t);this.renderer=e;this.renderer.on("context",this.onContextChange,this)}t.prototype.onContextChange=function t(){};t.prototype.destroy=function t(){this.renderer.off("context",this.onContextChange,this);this.renderer=null};return t}();e.default=n},function(t,e,r){"use strict";e.__esModule=true;var i=r(74);var n=v(i);var a=r(169);var o=v(a);var s=r(72);var u=v(s);var l=r(168);var h=v(l);var f=r(2);var c=r(0);var d=r(3);var p=v(d);function v(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function g(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function _(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var m=function(t){_(e,t);function e(r,i,n){y(this,e);var a=g(this,t.call(this,"Canvas",r,i,n));a.type=c.RENDERER_TYPE.CANVAS;a.rootContext=a.view.getContext("2d",{alpha:a.transparent});a.context=a.rootContext;a.refresh=true;a.maskManager=new o.default(a);a.smoothProperty="imageSmoothingEnabled";if(!a.rootContext.imageSmoothingEnabled){if(a.rootContext.webkitImageSmoothingEnabled){a.smoothProperty="webkitImageSmoothingEnabled"}else if(a.rootContext.mozImageSmoothingEnabled){a.smoothProperty="mozImageSmoothingEnabled"}else if(a.rootContext.oImageSmoothingEnabled){a.smoothProperty="oImageSmoothingEnabled"}else if(a.rootContext.msImageSmoothingEnabled){a.smoothProperty="msImageSmoothingEnabled"}}a.initPlugins();a.blendModes=(0,h.default)();a._activeBlendMode=null;a.renderingToScreen=false;a.resize(a.options.width,a.options.height);return a}e.prototype.render=function t(e,r,i,n,a){if(!this.view){return}this.renderingToScreen=!r;this.emit("prerender");var o=this.resolution;if(r){r=r.baseTexture||r;if(!r._canvasRenderTarget){r._canvasRenderTarget=new u.default(r.width,r.height,r.resolution);r.source=r._canvasRenderTarget.canvas;r.valid=true}this.context=r._canvasRenderTarget.context;this.resolution=r._canvasRenderTarget.resolution}else{this.context=this.rootContext}var s=this.context;if(!r){this._lastObjectRendered=e}if(!a){var l=e.parent;var h=this._tempDisplayObjectParent.transform.worldTransform;if(n){n.copy(h);this._tempDisplayObjectParent.transform._worldID=-1}else{h.identity()}e.parent=this._tempDisplayObjectParent;e.updateTransform();e.parent=l}s.save();s.setTransform(1,0,0,1,0,0);s.globalAlpha=1;this._activeBlendMode=c.BLEND_MODES.NORMAL;s.globalCompositeOperation=this.blendModes[c.BLEND_MODES.NORMAL];if(navigator.isCocoonJS&&this.view.screencanvas){s.fillStyle="black";s.clear()}if(i!==undefined?i:this.clearBeforeRender){if(this.renderingToScreen){if(this.transparent){s.clearRect(0,0,this.width,this.height)}else{s.fillStyle=this._backgroundColorString;s.fillRect(0,0,this.width,this.height)}}}var f=this.context;this.context=s;e.renderCanvas(this);this.context=f;s.restore();this.resolution=o;this.emit("postrender")};e.prototype.clear=function t(e){var r=this.context;e=e||this._backgroundColorString;if(!this.transparent&&e){r.fillStyle=e;r.fillRect(0,0,this.width,this.height)}else{r.clearRect(0,0,this.width,this.height)}};e.prototype.setBlendMode=function t(e){if(this._activeBlendMode===e){return}this._activeBlendMode=e;this.context.globalCompositeOperation=this.blendModes[e]};e.prototype.destroy=function e(r){this.destroyPlugins();t.prototype.destroy.call(this,r);this.context=null;this.refresh=true;this.maskManager.destroy();this.maskManager=null;this.smoothProperty=null};e.prototype.resize=function e(r,i){t.prototype.resize.call(this,r,i);if(this.smoothProperty){this.rootContext[this.smoothProperty]=p.default.SCALE_MODE===c.SCALE_MODES.LINEAR}};e.prototype.invalidateBlendMode=function t(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)};return e}(n.default);e.default=m;f.pluginTarget.mixin(m)},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(2);var a=r(80);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(){u(this,e);var r=l(this,t.call(this));r.children=[];return r}e.prototype.onChildrenChange=function t(){};e.prototype.addChild=function t(e){var r=arguments.length;if(r>1){for(var i=0;i<r;i++){this.addChild(arguments[i])}}else{if(e.parent){e.parent.removeChild(e)}e.parent=this;e.transform._parentID=-1;this.children.push(e);this._boundsID++;this.onChildrenChange(this.children.length-1);e.emit("added",this)}return e};e.prototype.addChildAt=function t(e,r){if(r<0||r>this.children.length){throw new Error(e+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length)}if(e.parent){e.parent.removeChild(e)}e.parent=this;e.transform._parentID=-1;this.children.splice(r,0,e);this._boundsID++;this.onChildrenChange(r);e.emit("added",this);return e};e.prototype.swapChildren=function t(e,r){if(e===r){return}var i=this.getChildIndex(e);var n=this.getChildIndex(r);this.children[i]=r;this.children[n]=e;this.onChildrenChange(i<n?i:n)};e.prototype.getChildIndex=function t(e){var r=this.children.indexOf(e);if(r===-1){throw new Error("The supplied DisplayObject must be a child of the caller")}return r};e.prototype.setChildIndex=function t(e,r){if(r<0||r>=this.children.length){throw new Error("The index "+r+" supplied is out of bounds "+this.children.length)}var i=this.getChildIndex(e);(0,n.removeItems)(this.children,i,1);this.children.splice(r,0,e);this.onChildrenChange(r)};e.prototype.getChildAt=function t(e){if(e<0||e>=this.children.length){throw new Error("getChildAt: Index ("+e+") does not exist.")}return this.children[e]};e.prototype.removeChild=function t(e){var r=arguments.length;if(r>1){for(var i=0;i<r;i++){this.removeChild(arguments[i])}}else{var a=this.children.indexOf(e);if(a===-1)return null;e.parent=null;e.transform._parentID=-1;(0,n.removeItems)(this.children,a,1);this._boundsID++;this.onChildrenChange(a);e.emit("removed",this)}return e};e.prototype.removeChildAt=function t(e){var r=this.getChildAt(e);r.parent=null;r.transform._parentID=-1;(0,n.removeItems)(this.children,e,1);this._boundsID++;this.onChildrenChange(e);r.emit("removed",this);return r};e.prototype.removeChildren=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments[1];var i=e;var n=typeof r==="number"?r:this.children.length;var a=n-i;var o=void 0;if(a>0&&a<=n){o=this.children.splice(i,a);for(var s=0;s<o.length;++s){o[s].parent=null;if(o[s].transform){o[s].transform._parentID=-1}}this._boundsID++;this.onChildrenChange(e);for(var u=0;u<o.length;++u){o[u].emit("removed",this)}return o}else if(a===0&&this.children.length===0){return[]}throw new RangeError("removeChildren: numeric values are outside the acceptable range.")};e.prototype.updateTransform=function t(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,r=this.children.length;e<r;++e){var i=this.children[e];if(i.visible){i.updateTransform()}}};e.prototype.calculateBounds=function t(){this._bounds.clear();this._calculateBounds();for(var e=0;e<this.children.length;e++){var r=this.children[e];if(!r.visible||!r.renderable){continue}r.calculateBounds();if(r._mask){r._mask.calculateBounds();this._bounds.addBoundsMask(r._bounds,r._mask._bounds)}else if(r.filterArea){this._bounds.addBoundsArea(r._bounds,r.filterArea)}else{this._bounds.addBounds(r._bounds)}}this._lastBoundsID=this._boundsID};e.prototype._calculateBounds=function t(){};e.prototype.renderWebGL=function t(e){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}if(this._mask||this._filters){this.renderAdvancedWebGL(e)}else{this._renderWebGL(e);for(var r=0,i=this.children.length;r<i;++r){this.children[r].renderWebGL(e)}}};e.prototype.renderAdvancedWebGL=function t(e){e.flush();var r=this._filters;var i=this._mask;if(r){if(!this._enabledFilters){this._enabledFilters=[]}this._enabledFilters.length=0;for(var n=0;n<r.length;n++){if(r[n].enabled){this._enabledFilters.push(r[n])}}if(this._enabledFilters.length){e.filterManager.pushFilter(this,this._enabledFilters)}}if(i){e.maskManager.pushMask(this,this._mask)}this._renderWebGL(e);for(var a=0,o=this.children.length;a<o;a++){this.children[a].renderWebGL(e)}e.flush();if(i){e.maskManager.popMask(this,this._mask)}if(r&&this._enabledFilters&&this._enabledFilters.length){e.filterManager.popFilter()}};e.prototype._renderWebGL=function t(e){};e.prototype._renderCanvas=function t(e){};e.prototype.renderCanvas=function t(e){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}if(this._mask){e.maskManager.pushMask(this._mask)}this._renderCanvas(e);for(var r=0,i=this.children.length;r<i;++r){this.children[r].renderCanvas(e)}if(this._mask){e.maskManager.popMask(e)}};e.prototype.destroy=function e(r){t.prototype.destroy.call(this);var i=typeof r==="boolean"?r:r&&r.children;var n=this.removeChildren(0,this.children.length);if(i){for(var a=0;a<n.length;++a){n[a].destroy(r)}}};i(e,[{key:"width",get:function t(){return this.scale.x*this.getLocalBounds().width},set:function t(e){var r=this.getLocalBounds().width;if(r!==0){this.scale.x=e/r}else{this.scale.x=1}this._width=e}},{key:"height",get:function t(){return this.scale.y*this.getLocalBounds().height},set:function t(e){var r=this.getLocalBounds().height;if(r!==0){this.scale.y=e/r}else{this.scale.y=1}this._height=e}}]);return e}(o.default);e.default=f;f.prototype.containerUpdateTransform=f.prototype.updateTransform},,function(t,e){t.exports=require("url")},function(t,e,r){"use strict";e.__esModule=true;e.default=function(t,e,r){if(t.nativeLines){o(t,r)}else{a(t,e)}};var i=r(4);var n=r(2);function a(t,e){var r=t.points;if(r.length===0){return}var a=new i.Point(r[0],r[1]);var o=new i.Point(r[r.length-2],r[r.length-1]);if(a.x===o.x&&a.y===o.y){r=r.slice();r.pop();r.pop();o=new i.Point(r[r.length-2],r[r.length-1]);var s=o.x+(a.x-o.x)*.5;var u=o.y+(a.y-o.y)*.5;r.unshift(s,u);r.push(s,u)}var l=e.points;var h=e.indices;var f=r.length/2;var c=r.length;var d=l.length/6;var p=t.lineWidth/2;var v=(0,n.hex2rgb)(t.lineColor);var y=t.lineAlpha;var g=v[0]*y;var _=v[1]*y;var m=v[2]*y;var b=r[0];var x=r[1];var T=r[2];var w=r[3];var E=0;var S=0;var O=-(x-w);var M=b-T;var P=0;var C=0;var A=0;var I=0;var R=Math.sqrt(O*O+M*M);O/=R;M/=R;O*=p;M*=p;var D=t.lineAlignment;var L=(1-D)*2;var N=D*2;l.push(b-O*L,x-M*L,g,_,m,y);l.push(b+O*N,x+M*N,g,_,m,y);for(var k=1;k<f-1;++k){b=r[(k-1)*2];x=r[(k-1)*2+1];T=r[k*2];w=r[k*2+1];E=r[(k+1)*2];S=r[(k+1)*2+1];O=-(x-w);M=b-T;R=Math.sqrt(O*O+M*M);O/=R;M/=R;O*=p;M*=p;P=-(w-S);C=T-E;R=Math.sqrt(P*P+C*C);P/=R;C/=R;P*=p;C*=p;var F=-M+x-(-M+w);var B=-O+T-(-O+b);var U=(-O+b)*(-M+w)-(-O+T)*(-M+x);var j=-C+S-(-C+w);var X=-P+T-(-P+E);var G=(-P+E)*(-C+w)-(-P+T)*(-C+S);var W=F*X-j*B;if(Math.abs(W)<.1){W+=10.1;l.push(T-O*L,w-M*L,g,_,m,y);l.push(T+O*N,w+M*N,g,_,m,y);continue}var H=(B*G-X*U)/W;var Y=(j*U-F*G)/W;var V=(H-T)*(H-T)+(Y-w)*(Y-w);if(V>196*p*p){A=O-P;I=M-C;R=Math.sqrt(A*A+I*I);A/=R;I/=R;A*=p;I*=p;l.push(T-A*L,w-I*L);l.push(g,_,m,y);l.push(T+A*N,w+I*N);l.push(g,_,m,y);l.push(T-A*N*L,w-I*L);l.push(g,_,m,y);c++}else{l.push(T+(H-T)*L,w+(Y-w)*L);l.push(g,_,m,y);l.push(T-(H-T)*N,w-(Y-w)*N);l.push(g,_,m,y)}}b=r[(f-2)*2];x=r[(f-2)*2+1];T=r[(f-1)*2];w=r[(f-1)*2+1];O=-(x-w);M=b-T;R=Math.sqrt(O*O+M*M);O/=R;M/=R;O*=p;M*=p;l.push(T-O*L,w-M*L);l.push(g,_,m,y);l.push(T+O*N,w+M*N);l.push(g,_,m,y);h.push(d);for(var z=0;z<c;++z){h.push(d++)}h.push(d-1)}function o(t,e){var r=0;var i=t.points;if(i.length===0)return;var a=e.points;var o=i.length/2;var s=(0,n.hex2rgb)(t.lineColor);var u=t.lineAlpha;var l=s[0]*u;var h=s[1]*u;var f=s[2]*u;for(r=1;r<o;r++){var c=i[(r-1)*2];var d=i[(r-1)*2+1];var p=i[r*2];var v=i[r*2+1];a.push(c,d);a.push(l,h,f,u);a.push(p,v);a.push(l,h,f,u)}}},function(t,e,r){"use strict";e.__esModule=true;var i=r(4);var n=r(0);var a=r(3);var o=u(a);var s=r(5);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var h=function(){function t(e,r,a,u,h,f){l(this,t);this.gl=e;this.frameBuffer=null;this.texture=null;this.clearColor=[0,0,0,0];this.size=new i.Rectangle(0,0,1,1);this.resolution=h||o.default.RESOLUTION;this.projectionMatrix=new i.Matrix;this.transform=null;this.frame=null;this.defaultFrame=new i.Rectangle;this.destinationFrame=null;this.sourceFrame=null;this.stencilBuffer=null;this.stencilMaskStack=[];this.filterData=null;this.filterPoolKey="";this.scaleMode=u!==undefined?u:o.default.SCALE_MODE;this.root=f;if(!this.root){this.frameBuffer=s.GLFramebuffer.createRGBA(e,100,100);if(this.scaleMode===n.SCALE_MODES.NEAREST){this.frameBuffer.texture.enableNearestScaling()}else{this.frameBuffer.texture.enableLinearScaling()}this.texture=this.frameBuffer.texture}else{this.frameBuffer=new s.GLFramebuffer(e,100,100);this.frameBuffer.framebuffer=null}this.setFrame();this.resize(r,a)}t.prototype.clear=function t(e){var r=e||this.clearColor;this.frameBuffer.clear(r[0],r[1],r[2],r[3])};t.prototype.attachStencilBuffer=function t(){if(!this.root){this.frameBuffer.enableStencil()}};t.prototype.setFrame=function t(e,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame;this.sourceFrame=r||this.sourceFrame||this.destinationFrame};t.prototype.activate=function t(){var e=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,this.sourceFrame);if(this.transform){this.projectionMatrix.append(this.transform)}if(this.destinationFrame!==this.sourceFrame){e.enable(e.SCISSOR_TEST);e.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)}else{e.disable(e.SCISSOR_TEST)}e.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};t.prototype.calculateProjection=function t(e,r){var i=this.projectionMatrix;r=r||e;i.identity();if(!this.root){i.a=1/e.width*2;i.d=1/e.height*2;i.tx=-1-r.x*i.a;i.ty=-1-r.y*i.d}else{i.a=1/e.width*2;i.d=-1/e.height*2;i.tx=-1-r.x*i.a;i.ty=1-r.y*i.d}};t.prototype.resize=function t(e,r){e=e|0;r=r|0;if(this.size.width===e&&this.size.height===r){return}this.size.width=e;this.size.height=r;this.defaultFrame.width=e;this.defaultFrame.height=r;this.frameBuffer.resize(e*this.resolution,r*this.resolution);var i=this.frame||this.size;this.calculateProjection(i)};t.prototype.destroy=function t(){this.frameBuffer.destroy();this.frameBuffer=null;this.texture=null};return t}();e.default=h},function(t,e,r){"use strict";e.__esModule=true;var i=r(74);var n=I(i);var a=r(166);var o=I(a);var s=r(164);var u=I(s);var l=r(163);var h=I(l);var f=r(19);var c=I(f);var d=r(21);var p=I(d);var v=r(161);var y=I(v);var g=r(9);var _=I(g);var m=r(160);var b=I(m);var x=r(159);var T=I(x);var w=r(157);var E=I(w);var S=r(156);var O=I(S);var M=r(2);var P=r(5);var C=I(P);var A=r(0);function I(t){return t&&t.__esModule?t:{default:t}}function R(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function D(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function L(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var N=0;var k=function(t){L(e,t);function e(r,i,n){R(this,e);var a=D(this,t.call(this,"WebGL",r,i,n));a.legacy=a.options.legacy;if(a.legacy){C.default.VertexArrayObject.FORCE_NATIVE=true}a.type=A.RENDERER_TYPE.WEBGL;a.handleContextLost=a.handleContextLost.bind(a);a.handleContextRestored=a.handleContextRestored.bind(a);a.view.addEventListener("webglcontextlost",a.handleContextLost,false);a.view.addEventListener("webglcontextrestored",a.handleContextRestored,false);a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&a.transparent!=="notMultiplied",stencil:true,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference};a._backgroundColorRgba[3]=a.transparent?0:1;a.maskManager=new o.default(a);a.stencilManager=new u.default(a);a.emptyRenderer=new p.default(a);a.currentRenderer=a.emptyRenderer;a.textureManager=null;a.filterManager=null;a.initPlugins();if(a.options.context){(0,O.default)(a.options.context)}a.gl=a.options.context||C.default.createContext(a.view,a._contextOptions);a.CONTEXT_UID=N++;a.state=new T.default(a.gl);a.renderingToScreen=true;a.boundTextures=null;a._activeShader=null;a._activeVao=null;a._activeRenderTarget=null;a._initContext();a.drawModes=(0,E.default)(a.gl);a._nextTextureLocation=0;a.setBlendMode(0);return a}e.prototype._initContext=function t(){var e=this.gl;if(e.isContextLost()&&e.getExtension("WEBGL_lose_context")){e.getExtension("WEBGL_lose_context").restoreContext()}var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null;this._activeVao=null;this.boundTextures=new Array(r);this.emptyTextures=new Array(r);this.textureManager=new y.default(this);this.filterManager=new h.default(this);this.textureGC=new b.default(this);this.state.resetToDefault();this.rootRenderTarget=new c.default(e,this.width,this.height,null,this.resolution,true);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var i=new C.default.GLTexture.fromData(e,null,1,1);var n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var a=0;a<r;a++){var o=new _.default;o._glTextures[this.CONTEXT_UID]=i;this.boundTextures[a]=n;this.emptyTextures[a]=o;this.bindTexture(null,a)}this.emit("context",e);this.resize(this.screen.width,this.screen.height)};e.prototype.render=function t(e,r,i,n,a){this.renderingToScreen=!r;this.emit("prerender");if(!this.gl||this.gl.isContextLost()){return}this._nextTextureLocation=0;if(!r){this._lastObjectRendered=e}if(!a){var o=e.parent;e.parent=this._tempDisplayObjectParent;e.updateTransform();e.parent=o}this.bindRenderTexture(r,n);this.currentRenderer.start();if(i!==undefined?i:this.clearBeforeRender){this._activeRenderTarget.clear()}e.renderWebGL(this);this.currentRenderer.flush();this.textureGC.update();this.emit("postrender")};e.prototype.setObjectRenderer=function t(e){if(this.currentRenderer===e){return}this.currentRenderer.stop();this.currentRenderer=e;this.currentRenderer.start()};e.prototype.flush=function t(){this.setObjectRenderer(this.emptyRenderer)};e.prototype.resize=function t(e,r){n.default.prototype.resize.call(this,e,r);this.rootRenderTarget.resize(e,r);if(this._activeRenderTarget===this.rootRenderTarget){this.rootRenderTarget.activate();if(this._activeShader){this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(true)}}};e.prototype.setBlendMode=function t(e){this.state.setBlendMode(e)};e.prototype.clear=function t(e){this._activeRenderTarget.clear(e)};e.prototype.setTransform=function t(e){this._activeRenderTarget.transform=e};e.prototype.clearRenderTexture=function t(e,r){var i=e.baseTexture;var n=i._glRenderTargets[this.CONTEXT_UID];if(n){n.clear(r)}return this};e.prototype.bindRenderTexture=function t(e,r){var i=void 0;if(e){var n=e.baseTexture;if(!n._glRenderTargets[this.CONTEXT_UID]){this.textureManager.updateTexture(n,0)}this.unbindTexture(n);i=n._glRenderTargets[this.CONTEXT_UID];i.setFrame(e.frame)}else{i=this.rootRenderTarget}i.transform=r;this.bindRenderTarget(i);return this};e.prototype.bindRenderTarget=function t(e){if(e!==this._activeRenderTarget){this._activeRenderTarget=e;e.activate();if(this._activeShader){this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(true)}this.stencilManager.setMaskStack(e.stencilMaskStack)}return this};e.prototype.bindShader=function t(e,r){if(this._activeShader!==e){this._activeShader=e;e.bind();if(r!==false){e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(true)}}return this};e.prototype.bindTexture=function t(e,r,i){e=e||this.emptyTextures[r];e=e.baseTexture||e;e.touched=this.textureGC.count;if(!i){for(var n=0;n<this.boundTextures.length;n++){if(this.boundTextures[n]===e){return n}}if(r===undefined){this._nextTextureLocation++;this._nextTextureLocation%=this.boundTextures.length;r=this.boundTextures.length-this._nextTextureLocation-1}}else{r=r||0}var a=this.gl;var o=e._glTextures[this.CONTEXT_UID];if(!o){this.textureManager.updateTexture(e,r)}else{this.boundTextures[r]=e;a.activeTexture(a.TEXTURE0+r);a.bindTexture(a.TEXTURE_2D,o.texture)}return r};e.prototype.unbindTexture=function t(e){var r=this.gl;e=e.baseTexture||e;for(var i=0;i<this.boundTextures.length;i++){if(this.boundTextures[i]===e){this.boundTextures[i]=this.emptyTextures[i];r.activeTexture(r.TEXTURE0+i);r.bindTexture(r.TEXTURE_2D,this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture)}}return this};e.prototype.createVao=function t(){return new C.default.VertexArrayObject(this.gl,this.state.attribState)};e.prototype.bindVao=function t(e){if(this._activeVao===e){return this}if(e){e.bind()}else if(this._activeVao){this._activeVao.unbind()}this._activeVao=e;return this};e.prototype.reset=function t(){this.setObjectRenderer(this.emptyRenderer);this.bindVao(null);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;for(var e=0;e<this.boundTextures.length;e++){this.boundTextures[e]=this.emptyTextures[e]}this.rootRenderTarget.activate();this.state.resetToDefault();return this};e.prototype.handleContextLost=function t(e){e.preventDefault()};e.prototype.handleContextRestored=function t(){this.textureManager.removeAll();this.filterManager.destroy(true);this._initContext()};e.prototype.destroy=function e(r){this.destroyPlugins();this.view.removeEventListener("webglcontextlost",this.handleContextLost);this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);this.textureManager.destroy();t.prototype.destroy.call(this,r);this.uid=0;this.maskManager.destroy();this.stencilManager.destroy();this.filterManager.destroy();this.maskManager=null;this.filterManager=null;this.textureManager=null;this.currentRenderer=null;this.handleContextLost=null;this.handleContextRestored=null;this._contextOptions=null;this.gl.useProgram(null);if(this.gl.getExtension("WEBGL_lose_context")){this.gl.getExtension("WEBGL_lose_context").loseContext()}this.gl=null};return e}(n.default);e.default=k;M.pluginTarget.mixin(k)},function(t,e,r){"use strict";e.__esModule=true;var i=r(13);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function s(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var l=function(t){u(e,t);function e(){o(this,e);return s(this,t.apply(this,arguments))}e.prototype.start=function t(){};e.prototype.stop=function t(){this.flush()};e.prototype.flush=function t(){};e.prototype.render=function t(e){};return e}(n.default);e.default=l},,function(t,e,r){"use strict";e.__esModule=true;var i=r(1);var n=u(i);var a=r(42);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var h=n.ticker.shared;n.settings.UPLOADS_PER_FRAME=4;var f=function(){function t(e){var r=this;l(this,t);this.limiter=new o.default(n.settings.UPLOADS_PER_FRAME);this.renderer=e;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=false;this.delayedTick=function(){if(!r.queue){return}r.prepareItems()};this.registerFindHook(g);this.registerFindHook(_);this.registerFindHook(c);this.registerFindHook(d);this.registerFindHook(p);this.registerUploadHook(v);this.registerUploadHook(y)}t.prototype.upload=function t(e,r){if(typeof e==="function"){r=e;e=null}if(e){this.add(e)}if(this.queue.length){if(r){this.completes.push(r)}if(!this.ticking){this.ticking=true;h.addOnce(this.tick,this,n.UPDATE_PRIORITY.UTILITY)}}else if(r){r()}};t.prototype.tick=function t(){setTimeout(this.delayedTick,0)};t.prototype.prepareItems=function t(){this.limiter.beginFrame();while(this.queue.length&&this.limiter.allowedToUpload()){var e=this.queue[0];var r=false;if(e&&!e._destroyed){for(var i=0,a=this.uploadHooks.length;i<a;i++){if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift();r=true;break}}}if(!r){this.queue.shift()}}if(!this.queue.length){this.ticking=false;var o=this.completes.slice(0);this.completes.length=0;for(var s=0,u=o.length;s<u;s++){o[s]()}}else{h.addOnce(this.tick,this,n.UPDATE_PRIORITY.UTILITY)}};t.prototype.registerFindHook=function t(e){if(e){this.addHooks.push(e)}return this};t.prototype.registerUploadHook=function t(e){if(e){this.uploadHooks.push(e)}return this};t.prototype.add=function t(e){for(var r=0,i=this.addHooks.length;r<i;r++){if(this.addHooks[r](e,this.queue)){break}}if(e instanceof n.Container){for(var a=e.children.length-1;a>=0;a--){this.add(e.children[a])}}return this};t.prototype.destroy=function t(){if(this.ticking){h.remove(this.tick,this)}this.ticking=false;this.addHooks=null;this.uploadHooks=null;this.renderer=null;this.completes=null;this.queue=null;this.limiter=null;this.uploadHookHelper=null};return t}();e.default=f;function c(t,e){var r=false;if(t&&t._textures&&t._textures.length){for(var i=0;i<t._textures.length;i++){if(t._textures[i]instanceof n.Texture){var a=t._textures[i].baseTexture;if(e.indexOf(a)===-1){e.push(a);r=true}}}}return r}function d(t,e){if(t instanceof n.BaseTexture){if(e.indexOf(t)===-1){e.push(t)}return true}return false}function p(t,e){if(t._texture&&t._texture instanceof n.Texture){var r=t._texture.baseTexture;if(e.indexOf(r)===-1){e.push(r)}return true}return false}function v(t,e){if(e instanceof n.Text){e.updateText(true);return true}return false}function y(t,e){if(e instanceof n.TextStyle){var r=e.toFontString();n.TextMetrics.measureFont(r);return true}return false}function g(t,e){if(t instanceof n.Text){if(e.indexOf(t.style)===-1){e.push(t.style)}if(e.indexOf(t)===-1){e.push(t)}var r=t._texture.baseTexture;if(e.indexOf(r)===-1){e.push(r)}return true}return false}function _(t,e){if(t instanceof n.TextStyle){if(e.indexOf(t)===-1){e.push(t)}return true}return false}},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(48);var a=u(n);var o=r(49);var s=u(o);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var h=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest));var f=null;var c=0;var d=200;var p=204;var v=1223;var y=2;function g(){}var _=function(){t.setExtensionLoadType=function e(r,i){m(t._loadTypeMap,r,i)};t.setExtensionXhrType=function e(r,i){m(t._xhrTypeMap,r,i)};function t(e,r,i){l(this,t);if(typeof e!=="string"||typeof r!=="string"){throw new Error("Both name and url are required for constructing a resource.")}i=i||{};this._flags=0;this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0);this.name=e;this.url=r;this.extension=this._getExtension();this.data=null;this.crossOrigin=i.crossOrigin===true?"anonymous":i.crossOrigin;this.loadType=i.loadType||this._determineLoadType();this.xhrType=i.xhrType;this.metadata=i.metadata||{};this.error=null;this.xhr=null;this.children=[];this.type=t.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=g;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);this.onStart=new s.default;this.onProgress=new s.default;this.onComplete=new s.default;this.onAfterMiddleware=new s.default}t.prototype.complete=function e(){if(this.data&&this.data.removeEventListener){this.data.removeEventListener("error",this._boundOnError,false);this.data.removeEventListener("load",this._boundComplete,false);this.data.removeEventListener("progress",this._boundOnProgress,false);this.data.removeEventListener("canplaythrough",this._boundComplete,false)}if(this.xhr){if(this.xhr.removeEventListener){this.xhr.removeEventListener("error",this._boundXhrOnError,false);this.xhr.removeEventListener("abort",this._boundXhrOnAbort,false);this.xhr.removeEventListener("progress",this._boundOnProgress,false);this.xhr.removeEventListener("load",this._boundXhrOnLoad,false)}else{this.xhr.onerror=null;this.xhr.ontimeout=null;this.xhr.onprogress=null;this.xhr.onload=null}}if(this.isComplete){throw new Error("Complete called again for an already completed resource.")}this._setFlag(t.STATUS_FLAGS.COMPLETE,true);this._setFlag(t.STATUS_FLAGS.LOADING,false);this.onComplete.dispatch(this)};t.prototype.abort=function e(r){if(this.error){return}this.error=new Error(r);if(this.xhr){this.xhr.abort()}else if(this.xdr){this.xdr.abort()}else if(this.data){if(this.data.src){this.data.src=t.EMPTY_GIF}else{while(this.data.firstChild){this.data.removeChild(this.data.firstChild)}}}this.complete()};t.prototype.load=function e(r){var i=this;if(this.isLoading){return}if(this.isComplete){if(r){setTimeout(function(){return r(i)},1)}return}else if(r){this.onComplete.once(r)}this._setFlag(t.STATUS_FLAGS.LOADING,true);this.onStart.dispatch(this);if(this.crossOrigin===false||typeof this.crossOrigin!=="string"){this.crossOrigin=this._determineCrossOrigin(this.url)}switch(this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE;this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO;this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO;this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:if(h&&this.crossOrigin){this._loadXdr()}else{this._loadXhr()}break}};t.prototype._hasFlag=function t(e){return!!(this._flags&e)};t.prototype._setFlag=function t(e,r){this._flags=r?this._flags|e:this._flags&~e};t.prototype._loadElement=function t(e){if(this.metadata.loadElement){this.data=this.metadata.loadElement}else if(e==="image"&&typeof window.Image!=="undefined"){this.data=new Image}else{this.data=document.createElement(e)}if(this.crossOrigin){this.data.crossOrigin=this.crossOrigin}if(!this.metadata.skipSource){this.data.src=this.url}this.data.addEventListener("error",this._boundOnError,false);this.data.addEventListener("load",this._boundComplete,false);this.data.addEventListener("progress",this._boundOnProgress,false)};t.prototype._loadSourceElement=function t(e){if(this.metadata.loadElement){this.data=this.metadata.loadElement}else if(e==="audio"&&typeof window.Audio!=="undefined"){this.data=new Audio}else{this.data=document.createElement(e)}if(this.data===null){this.abort("Unsupported element: "+e);return}if(!this.metadata.skipSource){if(navigator.isCocoonJS){this.data.src=Array.isArray(this.url)?this.url[0]:this.url}else if(Array.isArray(this.url)){var r=this.metadata.mimeType;for(var i=0;i<this.url.length;++i){this.data.appendChild(this._createSource(e,this.url[i],Array.isArray(r)?r[i]:r))}}else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(n)?n[0]:n))}}this.data.addEventListener("error",this._boundOnError,false);this.data.addEventListener("load",this._boundComplete,false);this.data.addEventListener("progress",this._boundOnProgress,false);this.data.addEventListener("canplaythrough",this._boundComplete,false);this.data.load()};t.prototype._loadXhr=function e(){if(typeof this.xhrType!=="string"){this.xhrType=this._determineXhrType()}var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,true);if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT){r.responseType=t.XHR_RESPONSE_TYPE.TEXT}else{r.responseType=this.xhrType}r.addEventListener("error",this._boundXhrOnError,false);r.addEventListener("abort",this._boundXhrOnAbort,false);r.addEventListener("progress",this._boundOnProgress,false);r.addEventListener("load",this._boundXhrOnLoad,false);r.send()};t.prototype._loadXdr=function t(){if(typeof this.xhrType!=="string"){this.xhrType=this._determineXhrType()}var e=this.xhr=new XDomainRequest;e.timeout=5e3;e.onerror=this._boundXhrOnError;e.ontimeout=this._boundXdrOnTimeout;e.onprogress=this._boundOnProgress;e.onload=this._boundXhrOnLoad;e.open("GET",this.url,true);setTimeout(function(){return e.send()},1)};t.prototype._createSource=function t(e,r,i){if(!i){i=e+"/"+this._getExtension(r)}var n=document.createElement("source");n.src=r;n.type=i;return n};t.prototype._onError=function t(e){this.abort("Failed to load element using: "+e.target.nodeName)};t.prototype._onProgress=function t(e){if(e&&e.lengthComputable){this.onProgress.dispatch(this,e.loaded/e.total)}};t.prototype._xhrOnError=function t(){var e=this.xhr;this.abort(b(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')};t.prototype._xhrOnAbort=function t(){this.abort(b(this.xhr)+" Request was aborted by the user.")};t.prototype._xdrOnTimeout=function t(){this.abort(b(this.xhr)+" Request timed out.")};t.prototype._xhrOnLoad=function e(){var r=this.xhr;var i="";var n=typeof r.status==="undefined"?d:r.status;if(r.responseType===""||r.responseType==="text"||typeof r.responseType==="undefined"){i=r.responseText}if(n===c&&(i.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)){n=d}else if(n===v){n=p}var a=n/100|0;if(a===y){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT){this.data=i;this.type=t.TYPE.TEXT}else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON){try{this.data=JSON.parse(i);this.type=t.TYPE.JSON}catch(t){this.abort("Error trying to parse loaded json: "+t);return}}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT){try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(i,"text/xml")}else{var s=document.createElement("div");s.innerHTML=i;this.data=s}this.type=t.TYPE.XML}catch(t){this.abort("Error trying to parse loaded xml: "+t);return}}else{this.data=r.response||i}}else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()};t.prototype._determineCrossOrigin=function t(e,r){if(e.indexOf("data:")===0){return""}r=r||window.location;if(!f){f=document.createElement("a")}f.href=e;e=(0,a.default)(f.href,{strictMode:true});var i=!e.port&&r.port===""||e.port===r.port;var n=e.protocol?e.protocol+":":"";if(e.host!==r.hostname||!i||n!==r.protocol){return"anonymous"}return""};t.prototype._determineXhrType=function e(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT};t.prototype._determineLoadType=function e(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR};t.prototype._getExtension=function t(){var e=this.url;var r="";if(this.isDataUrl){var i=e.indexOf("/");r=e.substring(i+1,e.indexOf(";",i))}else{var n=e.indexOf("?");var a=e.indexOf("#");var o=Math.min(n>-1?n:e.length,a>-1?a:e.length);e=e.substring(0,o);r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()};t.prototype._getMimeFromXhrType=function e(r){switch(r){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}};i(t,[{key:"isDataUrl",get:function e(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function e(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function e(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]);return t}();e.default=_;_.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};_.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};_.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};_.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};_._loadTypeMap={gif:_.LOAD_TYPE.IMAGE,png:_.LOAD_TYPE.IMAGE,bmp:_.LOAD_TYPE.IMAGE,jpg:_.LOAD_TYPE.IMAGE,jpeg:_.LOAD_TYPE.IMAGE,tif:_.LOAD_TYPE.IMAGE,tiff:_.LOAD_TYPE.IMAGE,webp:_.LOAD_TYPE.IMAGE,tga:_.LOAD_TYPE.IMAGE,svg:_.LOAD_TYPE.IMAGE,"svg+xml":_.LOAD_TYPE.IMAGE,mp3:_.LOAD_TYPE.AUDIO,ogg:_.LOAD_TYPE.AUDIO,wav:_.LOAD_TYPE.AUDIO,mp4:_.LOAD_TYPE.VIDEO,webm:_.LOAD_TYPE.VIDEO};_._xhrTypeMap={xhtml:_.XHR_RESPONSE_TYPE.DOCUMENT,html:_.XHR_RESPONSE_TYPE.DOCUMENT,htm:_.XHR_RESPONSE_TYPE.DOCUMENT,xml:_.XHR_RESPONSE_TYPE.DOCUMENT,tmx:_.XHR_RESPONSE_TYPE.DOCUMENT,svg:_.XHR_RESPONSE_TYPE.DOCUMENT,tsx:_.XHR_RESPONSE_TYPE.DOCUMENT,gif:_.XHR_RESPONSE_TYPE.BLOB,png:_.XHR_RESPONSE_TYPE.BLOB,bmp:_.XHR_RESPONSE_TYPE.BLOB,jpg:_.XHR_RESPONSE_TYPE.BLOB,jpeg:_.XHR_RESPONSE_TYPE.BLOB,tif:_.XHR_RESPONSE_TYPE.BLOB,tiff:_.XHR_RESPONSE_TYPE.BLOB,webp:_.XHR_RESPONSE_TYPE.BLOB,tga:_.XHR_RESPONSE_TYPE.BLOB,json:_.XHR_RESPONSE_TYPE.JSON,text:_.XHR_RESPONSE_TYPE.TEXT,txt:_.XHR_RESPONSE_TYPE.TEXT,ttf:_.XHR_RESPONSE_TYPE.BUFFER,otf:_.XHR_RESPONSE_TYPE.BUFFER};_.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function m(t,e,r){if(e&&e.indexOf(".")===0){e=e.substring(1)}if(!e){return}t[e]=r}function b(t){return t.toString().replace("object ","")}},function(t,e,r){"use strict";e.__esModule=true;e.default=i;function i(t){var e=t*6;var r=new Uint16Array(e);for(var i=0,n=0;i<e;i+=6,n+=4){r[i+0]=n+0;r[i+1]=n+1;r[i+2]=n+2;r[i+3]=n+0;r[i+4]=n+2;r[i+5]=n+3}return r}},function(t,e,r){"use strict";e.__esModule=true;var i=r(2);var n=r(71);var a=o(n);function o(t){return t&&t.__esModule?t:{default:t}}var s={getTintedTexture:function t(e,r){var i=e._texture;r=s.roundColor(r);var n="#"+("00000"+(r|0).toString(16)).substr(-6);i.tintCache=i.tintCache||{};var a=i.tintCache[n];var o=void 0;if(a){if(a.tintId===i._updateID){return i.tintCache[n]}o=i.tintCache[n]}else{o=s.canvas||document.createElement("canvas")}s.tintMethod(i,r,o);o.tintId=i._updateID;if(s.convertTintToImage){var u=new Image;u.src=o.toDataURL();i.tintCache[n]=u}else{i.tintCache[n]=o;s.canvas=null}return o},tintWithMultiply:function t(e,r,i){var n=i.getContext("2d");var a=e._frame.clone();var o=e.baseTexture.resolution;a.x*=o;a.y*=o;a.width*=o;a.height*=o;i.width=Math.ceil(a.width);i.height=Math.ceil(a.height);n.save();n.fillStyle="#"+("00000"+(r|0).toString(16)).substr(-6);n.fillRect(0,0,a.width,a.height);n.globalCompositeOperation="multiply";n.drawImage(e.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height);n.globalCompositeOperation="destination-atop";n.drawImage(e.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height);n.restore()},tintWithOverlay:function t(e,r,i){var n=i.getContext("2d");var a=e._frame.clone();var o=e.baseTexture.resolution;a.x*=o;a.y*=o;a.width*=o;a.height*=o;i.width=Math.ceil(a.width);i.height=Math.ceil(a.height);n.save();n.globalCompositeOperation="copy";n.fillStyle="#"+("00000"+(r|0).toString(16)).substr(-6);n.fillRect(0,0,a.width,a.height);n.globalCompositeOperation="destination-atop";n.drawImage(e.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height);n.restore()},tintWithPerPixel:function t(e,r,n){var a=n.getContext("2d");var o=e._frame.clone();var s=e.baseTexture.resolution;o.x*=s;o.y*=s;o.width*=s;o.height*=s;n.width=Math.ceil(o.width);n.height=Math.ceil(o.height);a.save();a.globalCompositeOperation="copy";a.drawImage(e.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);a.restore();var u=(0,i.hex2rgb)(r);var l=u[0];var h=u[1];var f=u[2];var c=a.getImageData(0,0,o.width,o.height);var d=c.data;for(var p=0;p<d.length;p+=4){d[p+0]*=l;d[p+1]*=h;d[p+2]*=f}a.putImageData(c,0,0)},roundColor:function t(e){var r=s.cacheStepsPerColorChannel;var n=(0,i.hex2rgb)(e);n[0]=Math.min(255,n[0]/r*r);n[1]=Math.min(255,n[1]/r*r);n[2]=Math.min(255,n[2]/r*r);return(0,i.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:false,canUseMultiply:(0,a.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel;e.default=s},function(t,e,r){"use strict";e.__esModule=true;var i=r(73);var n=s(i);var a=r(7);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(r,i){u(this,e);var a=null;if(!(r instanceof n.default)){var o=arguments[1];var s=arguments[2];var h=arguments[3];var f=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly.");a=arguments[0];i=null;r=new n.default(o,s,h,f)}var c=l(this,t.call(this,r,i));c.legacyRenderer=a;c.valid=true;c._updateUvs();return c}e.prototype.resize=function t(e,r,i){e=Math.ceil(e);r=Math.ceil(r);this.valid=e>0&&r>0;this._frame.width=this.orig.width=e;this._frame.height=this.orig.height=r;if(!i){this.baseTexture.resize(e,r)}this._updateUvs()};e.create=function t(r,i,a,o){return new e(new n.default(r,i,a,o))};return e}(o.default);e.default=f},function(t,e,r){"use strict";e.__esModule=true;e.Ticker=e.shared=undefined;var i=r(172);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var o=new n.default;o.autoStart=true;o.destroy=function(){};e.shared=o;e.Ticker=n.default},function(t,e,r){"use strict";"use restrict";var i=32;e.INT_BITS=i;e.INT_MAX=2147483647;e.INT_MIN=-1<<i-1;e.sign=function(t){return(t>0)-(t<0)};e.abs=function(t){var e=t>>i-1;return(t^e)-e};e.min=function(t,e){return e^(t^e)&-(t<e)};e.max=function(t,e){return t^(t^e)&-(t<e)};e.isPow2=function(t){return!(t&t-1)&&!!t};e.log2=function(t){var e,r;e=(t>65535)<<4;t>>>=e;r=(t>255)<<3;t>>>=r;e|=r;r=(t>15)<<2;t>>>=r;e|=r;r=(t>3)<<1;t>>>=r;e|=r;return e|t>>1};e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0};e.popCount=function(t){t=t-(t>>>1&1431655765);t=(t&858993459)+(t>>>2&858993459);return(t+(t>>>4)&252645135)*16843009>>>24};function n(t){var e=32;t&=-t;if(t)e--;if(t&65535)e-=16;if(t&16711935)e-=8;if(t&252645135)e-=4;if(t&858993459)e-=2;if(t&1431655765)e-=1;return e}e.countTrailingZeros=n;e.nextPow2=function(t){t+=t===0;--t;t|=t>>>1;t|=t>>>2;t|=t>>>4;t|=t>>>8;t|=t>>>16;return t+1};e.prevPow2=function(t){t|=t>>>1;t|=t>>>2;t|=t>>>4;t|=t>>>8;t|=t>>>16;return t-(t>>>1)};e.parity=function(t){t^=t>>>16;t^=t>>>8;t^=t>>>4;t&=15;return 27030>>>t&1};var a=new Array(256);(function(t){for(var e=0;e<256;++e){var r=e,i=e,n=7;for(r>>>=1;r;r>>>=1){i<<=1;i|=r&1;--n}t[e]=i<<n&255}})(a);e.reverse=function(t){return a[t&255]<<24|a[t>>>8&255]<<16|a[t>>>16&255]<<8|a[t>>>24&255]};e.interleave2=function(t,e){t&=65535;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;e&=65535;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;e=(e|e<<1)&1431655765;return t|e<<1};e.deinterleave2=function(t,e){t=t>>>e&1431655765;t=(t|t>>>1)&858993459;t=(t|t>>>2)&252645135;t=(t|t>>>4)&16711935;t=(t|t>>>16)&65535;return t<<16>>16};e.interleave3=function(t,e,r){t&=1023;t=(t|t<<16)&4278190335;t=(t|t<<8)&251719695;t=(t|t<<4)&3272356035;t=(t|t<<2)&1227133513;e&=1023;e=(e|e<<16)&4278190335;e=(e|e<<8)&251719695;e=(e|e<<4)&3272356035;e=(e|e<<2)&1227133513;t|=e<<1;r&=1023;r=(r|r<<16)&4278190335;r=(r|r<<8)&251719695;r=(r|r<<4)&3272356035;r=(r|r<<2)&1227133513;return t|r<<2};e.deinterleave3=function(t,e){t=t>>>e&1227133513;t=(t|t>>>2)&3272356035;t=(t|t>>>4)&251719695;t=(t|t>>>8)&4278190335;t=(t|t>>>16)&1023;return t<<22>>22};e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(4);var a=r(2);var o=r(0);var s=r(7);var u=f(s);var l=r(15);var h=f(l);function f(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function d(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function p(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var v=new n.Point;var y=function(t){p(e,t);function e(r){c(this,e);var i=d(this,t.call(this));i._anchor=new n.ObservablePoint(i._onAnchorUpdate,i);i._texture=null;i._width=0;i._height=0;i._tint=null;i._tintRGB=null;i.tint=16777215;i.blendMode=o.BLEND_MODES.NORMAL;i.shader=null;i.cachedTint=16777215;i.texture=r||u.default.EMPTY;i.vertexData=new Float32Array(8);i.vertexTrimmedData=null;i._transformID=-1;i._textureID=-1;i._transformTrimmedID=-1;i._textureTrimmedID=-1;i.pluginName="sprite";return i}e.prototype._onTextureUpdate=function t(){this._textureID=-1;this._textureTrimmedID=-1;this.cachedTint=16777215;if(this._width){this.scale.x=(0,a.sign)(this.scale.x)*this._width/this._texture.orig.width}if(this._height){this.scale.y=(0,a.sign)(this.scale.y)*this._height/this._texture.orig.height}};e.prototype._onAnchorUpdate=function t(){this._transformID=-1;this._transformTrimmedID=-1};e.prototype.calculateVertices=function t(){if(this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID){return}this._transformID=this.transform._worldID;this._textureID=this._texture._updateID;var e=this._texture;var r=this.transform.worldTransform;var i=r.a;var n=r.b;var a=r.c;var o=r.d;var s=r.tx;var u=r.ty;var l=this.vertexData;var h=e.trim;var f=e.orig;var c=this._anchor;var d=0;var p=0;var v=0;var y=0;if(h){p=h.x-c._x*f.width;d=p+h.width;y=h.y-c._y*f.height;v=y+h.height}else{p=-c._x*f.width;d=p+f.width;y=-c._y*f.height;v=y+f.height}l[0]=i*p+a*y+s;l[1]=o*y+n*p+u;l[2]=i*d+a*y+s;l[3]=o*y+n*d+u;l[4]=i*d+a*v+s;l[5]=o*v+n*d+u;l[6]=i*p+a*v+s;l[7]=o*v+n*p+u};e.prototype.calculateTrimmedVertices=function t(){if(!this.vertexTrimmedData){this.vertexTrimmedData=new Float32Array(8)}else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID){return}this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var e=this._texture;var r=this.vertexTrimmedData;var i=e.orig;var n=this._anchor;var a=this.transform.worldTransform;var o=a.a;var s=a.b;var u=a.c;var l=a.d;var h=a.tx;var f=a.ty;var c=-n._x*i.width;var d=c+i.width;var p=-n._y*i.height;var v=p+i.height;r[0]=o*c+u*p+h;r[1]=l*p+s*c+f;r[2]=o*d+u*p+h;r[3]=l*p+s*d+f;r[4]=o*d+u*v+h;r[5]=l*v+s*d+f;r[6]=o*c+u*v+h;r[7]=l*v+s*c+f};e.prototype._renderWebGL=function t(e){this.calculateVertices();e.setObjectRenderer(e.plugins[this.pluginName]);e.plugins[this.pluginName].render(this)};e.prototype._renderCanvas=function t(e){e.plugins[this.pluginName].render(this)};e.prototype._calculateBounds=function t(){var e=this._texture.trim;var r=this._texture.orig;if(!e||e.width===r.width&&e.height===r.height){this.calculateVertices();this._bounds.addQuad(this.vertexData)}else{this.calculateTrimmedVertices();this._bounds.addQuad(this.vertexTrimmedData)}};e.prototype.getLocalBounds=function e(r){if(this.children.length===0){this._bounds.minX=this._texture.orig.width*-this._anchor._x;this._bounds.minY=this._texture.orig.height*-this._anchor._y;this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x);this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y);if(!r){if(!this._localBoundsRect){this._localBoundsRect=new n.Rectangle}r=this._localBoundsRect}return this._bounds.getRectangle(r)}return t.prototype.getLocalBounds.call(this,r)};e.prototype.containsPoint=function t(e){this.worldTransform.applyInverse(e,v);var r=this._texture.orig.width;var i=this._texture.orig.height;var n=-r*this.anchor.x;var a=0;if(v.x>=n&&v.x<n+r){a=-i*this.anchor.y;if(v.y>=a&&v.y<a+i){return true}}return false};e.prototype.destroy=function e(r){t.prototype.destroy.call(this,r);this._texture.off("update",this._onTextureUpdate,this);this._anchor=null;var i=typeof r==="boolean"?r:r&&r.texture;if(i){var n=typeof r==="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!n)}this._texture=null;this.shader=null};e.from=function t(r){return new e(u.default.from(r))};e.fromFrame=function t(r){var i=a.TextureCache[r];if(!i){throw new Error('The frameId "'+r+'" does not exist in the texture cache')}return new e(i)};e.fromImage=function t(r,i,n){return new e(u.default.fromImage(r,i,n))};i(e,[{key:"width",get:function t(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function t(e){var r=(0,a.sign)(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width;this._width=e}},{key:"height",get:function t(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function t(e){var r=(0,a.sign)(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height;this._height=e}},{key:"anchor",get:function t(){return this._anchor},set:function t(e){this._anchor.copy(e)}},{key:"tint",get:function t(){return this._tint},set:function t(e){this._tint=e;this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}},{key:"texture",get:function t(){return this._texture},set:function t(e){if(this._texture===e){return}this._texture=e;this.cachedTint=16777215;this._textureID=-1;this._textureTrimmedID=-1;if(e){if(e.baseTexture.hasLoaded){this._onTextureUpdate()}else{e.once("update",this._onTextureUpdate,this)}}}}]);return e}(h.default);e.default=y},function(t,e,r){"use strict";t.exports=i;t.exports.default=i;function i(t,e,r){r=r||2;var i=e&&e.length,a=i?e[0]*r:t.length,s=n(t,0,a,r,true),u=[];if(!s)return u;var l,h,c,d,p,v,y;if(i)s=f(t,e,s,r);if(t.length>80*r){l=c=t[0];h=d=t[1];for(var g=r;g<a;g+=r){p=t[g];v=t[g+1];if(p<l)l=p;if(v<h)h=v;if(p>c)c=p;if(v>d)d=v}y=Math.max(c-l,d-h);y=y!==0?1/y:0}o(s,u,r,l,h,y);return u}function n(t,e,r,i,n){var a,o;if(n===I(t,e,r,i)>0){for(a=e;a<r;a+=i)o=P(a,t[a],t[a+1],o)}else{for(a=r-i;a>=e;a-=i)o=P(a,t[a],t[a+1],o)}if(o&&T(o,o.next)){C(o);o=o.next}return o}function a(t,e){if(!t)return t;if(!e)e=t;var r=t,i;do{i=false;if(!r.steiner&&(T(r,r.next)||x(r.prev,r,r.next)===0)){C(r);r=e=r.prev;if(r===r.next)break;i=true}else{r=r.next}}while(i||r!==e);return e}function o(t,e,r,i,n,f,c){if(!t)return;if(!c&&f)v(t,i,n,f);var d=t,p,y;while(t.prev!==t.next){p=t.prev;y=t.next;if(f?u(t,i,n,f):s(t)){e.push(p.i/r);e.push(t.i/r);e.push(y.i/r);C(t);t=y.next;d=y.next;continue}t=y;if(t===d){if(!c){o(a(t),e,r,i,n,f,1)}else if(c===1){t=l(t,e,r);o(t,e,r,i,n,f,2)}else if(c===2){h(t,e,r,i,n,f)}break}}}function s(t){var e=t.prev,r=t,i=t.next;if(x(e,r,i)>=0)return false;var n=t.next.next;while(n!==t.prev){if(m(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&x(n.prev,n,n.next)>=0)return false;n=n.next}return true}function u(t,e,r,i){var n=t.prev,a=t,o=t.next;if(x(n,a,o)>=0)return false;var s=n.x<a.x?n.x<o.x?n.x:o.x:a.x<o.x?a.x:o.x,u=n.y<a.y?n.y<o.y?n.y:o.y:a.y<o.y?a.y:o.y,l=n.x>a.x?n.x>o.x?n.x:o.x:a.x>o.x?a.x:o.x,h=n.y>a.y?n.y>o.y?n.y:o.y:a.y>o.y?a.y:o.y;var f=g(s,u,e,r,i),c=g(l,h,e,r,i);var d=t.prevZ,p=t.nextZ;while(d&&d.z>=f&&p&&p.z<=c){if(d!==t.prev&&d!==t.next&&m(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return false;d=d.prevZ;if(p!==t.prev&&p!==t.next&&m(n.x,n.y,a.x,a.y,o.x,o.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return false;p=p.nextZ}while(d&&d.z>=f){if(d!==t.prev&&d!==t.next&&m(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return false;d=d.prevZ}while(p&&p.z<=c){if(p!==t.prev&&p!==t.next&&m(n.x,n.y,a.x,a.y,o.x,o.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return false;p=p.nextZ}return true}function l(t,e,r){var i=t;do{var n=i.prev,a=i.next.next;if(!T(n,a)&&w(n,i,i.next,a)&&S(n,a)&&S(a,n)){e.push(n.i/r);e.push(i.i/r);e.push(a.i/r);C(i);C(i.next);i=t=a}i=i.next}while(i!==t);return i}function h(t,e,r,i,n,s){var u=t;do{var l=u.next.next;while(l!==u.prev){if(u.i!==l.i&&b(u,l)){var h=M(u,l);u=a(u,u.next);h=a(h,h.next);o(u,e,r,i,n,s);o(h,e,r,i,n,s);return}l=l.next}u=u.next}while(u!==t)}function f(t,e,r,i){var o=[],s,u,l,h,f;for(s=0,u=e.length;s<u;s++){l=e[s]*i;h=s<u-1?e[s+1]*i:t.length;f=n(t,l,h,i,false);if(f===f.next)f.steiner=true;o.push(_(f))}o.sort(c);for(s=0;s<o.length;s++){d(o[s],r);r=a(r,r.next)}return r}function c(t,e){return t.x-e.x}function d(t,e){e=p(t,e);if(e){var r=M(e,t);a(r,r.next)}}function p(t,e){var r=e,i=t.x,n=t.y,a=-Infinity,o;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var s=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){a=s;if(s===i){if(n===r.y)return r;if(n===r.next.y)return r.next}o=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!o)return null;if(i===a)return o.prev;var u=o,l=o.x,h=o.y,f=Infinity,c;r=o.next;while(r!==u){if(i>=r.x&&r.x>=l&&i!==r.x&&m(n<h?i:a,n,l,h,n<h?a:i,n,r.x,r.y)){c=Math.abs(n-r.y)/(i-r.x);if((c<f||c===f&&r.x>o.x)&&S(r,t)){o=r;f=c}}r=r.next}return o}function v(t,e,r,i){var n=t;do{if(n.z===null)n.z=g(n.x,n.y,e,r,i);n.prevZ=n.prev;n.nextZ=n.next;n=n.next}while(n!==t);n.prevZ.nextZ=null;n.prevZ=null;y(n)}function y(t){var e,r,i,n,a,o,s,u,l=1;do{r=t;t=null;a=null;o=0;while(r){o++;i=r;s=0;for(e=0;e<l;e++){s++;i=i.nextZ;if(!i)break}u=l;while(s>0||u>0&&i){if(s!==0&&(u===0||!i||r.z<=i.z)){n=r;r=r.nextZ;s--}else{n=i;i=i.nextZ;u--}if(a)a.nextZ=n;else t=n;n.prevZ=a;a=n}r=i}a.nextZ=null;l*=2}while(o>1);return t}function g(t,e,r,i,n){t=32767*(t-r)*n;e=32767*(e-i)*n;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;e=(e|e<<1)&1431655765;return t|e<<1}function _(t){var e=t,r=t;do{if(e.x<r.x)r=e;e=e.next}while(e!==t);return r}function m(t,e,r,i,n,a,o,s){return(n-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(i-s)-(r-o)*(e-s)>=0&&(r-o)*(a-s)-(n-o)*(i-s)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&S(t,e)&&S(e,t)&&O(t,e)}function x(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function T(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,r,i){if(T(t,e)&&T(r,i)||T(t,i)&&T(r,e))return true;return x(t,e,r)>0!==x(t,e,i)>0&&x(r,i,t)>0!==x(r,i,e)>0}function E(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&w(r,r.next,t,e))return true;r=r.next}while(r!==t);return false}function S(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function O(t,e){var r=t,i=false,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{if(r.y>a!==r.next.y>a&&r.next.y!==r.y&&n<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x)i=!i;r=r.next}while(r!==t);return i}function M(t,e){var r=new A(t.i,t.x,t.y),i=new A(e.i,e.x,e.y),n=t.next,a=e.prev;t.next=e;e.prev=t;r.next=n;n.prev=r;i.next=r;r.prev=i;a.next=i;i.prev=a;return i}function P(t,e,r,i){var n=new A(t,e,r);if(!i){n.prev=n;n.next=n}else{n.next=i.next;n.prev=i;i.next.prev=n;i.next=n}return n}function C(t){t.next.prev=t.prev;t.prev.next=t.next;if(t.prevZ)t.prevZ.nextZ=t.nextZ;if(t.nextZ)t.nextZ.prevZ=t.prevZ}function A(t,e,r){this.i=t;this.x=e;this.y=r;this.prev=null;this.next=null;this.z=null;this.prevZ=null;this.nextZ=null;this.steiner=false}i.deviation=function(t,e,r,i){var n=e&&e.length;var a=n?e[0]*r:t.length;var o=Math.abs(I(t,0,a,r));if(n){for(var s=0,u=e.length;s<u;s++){var l=e[s]*r;var h=s<u-1?e[s+1]*r:t.length;o-=Math.abs(I(t,l,h,r))}}var f=0;for(s=0;s<i.length;s+=3){var c=i[s]*r;var d=i[s+1]*r;var p=i[s+2]*r;f+=Math.abs((t[c]-t[p])*(t[d+1]-t[c+1])-(t[c]-t[d])*(t[p+1]-t[c+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function I(t,e,r,i){var n=0;for(var a=e,o=r-i;a<r;a+=i){n+=(t[o]-t[a])*(t[a+1]+t[o+1]);o=a}return n}i.flatten=function(t){var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0;for(var n=0;n<t.length;n++){for(var a=0;a<t[n].length;a++){for(var o=0;o<e;o++)r.vertices.push(t[n][a][o])}if(n>0){i+=t[n-1].length;r.holes.push(i)}}return r}},function(t,e,r){"use strict";e.__esModule=true;var i=r(4);function n(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(){n(this,t);this.worldTransform=new i.Matrix;this.localTransform=new i.Matrix;this._worldID=0;this._parentID=0}t.prototype.updateLocalTransform=function t(){};t.prototype.updateTransform=function t(e){var r=e.worldTransform;var i=this.worldTransform;var n=this.localTransform;i.a=n.a*r.a+n.b*r.c;i.b=n.a*r.b+n.b*r.d;i.c=n.c*r.a+n.d*r.c;i.d=n.c*r.b+n.d*r.d;i.tx=n.tx*r.a+n.ty*r.c+r.tx;i.ty=n.tx*r.b+n.ty*r.d+r.ty;this._worldID++};return t}();e.default=a;a.prototype.updateWorldTransform=a.prototype.updateTransform;a.IDENTITY=new a},function(t,e,r){var i,n,a;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
(function(r){var o=/iPhone/i,s=/iPod/i,u=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,h=/Android/i,f=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,c=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,d=/Windows Phone/i,p=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,v=/BlackBerry/i,y=/BB10/i,g=/Opera Mini/i,_=/(CriOS|Chrome)(?=.*\bMobile\b)/i,m=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=new RegExp("(?:"+"Nexus 7"+"|"+"BNTV250"+"|"+"Kindle Fire"+"|"+"Silk"+"|"+"GT-P1000"+")","i");var x=function(t,e){return t.test(e)};var T=function(t){var e=t||navigator.userAgent;var r=e.split("[FBAN");if(typeof r[1]!=="undefined"){e=r[0]}r=e.split("Twitter");if(typeof r[1]!=="undefined"){e=r[0]}this.apple={phone:x(o,e),ipod:x(s,e),tablet:!x(o,e)&&x(u,e),device:x(o,e)||x(s,e)||x(u,e)};this.amazon={phone:x(f,e),tablet:!x(f,e)&&x(c,e),device:x(f,e)||x(c,e)};this.android={phone:x(f,e)||x(l,e),tablet:!x(f,e)&&!x(l,e)&&(x(c,e)||x(h,e)),device:x(f,e)||x(c,e)||x(l,e)||x(h,e)};this.windows={phone:x(d,e),tablet:x(p,e),device:x(d,e)||x(p,e)};this.other={blackberry:x(v,e),blackberry10:x(y,e),opera:x(g,e),firefox:x(m,e),chrome:x(_,e),device:x(v,e)||x(y,e)||x(g,e)||x(m,e)||x(_,e)};this.seven_inch=x(b,e);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if(typeof window==="undefined"){return this}};var w=function(){var t=new T;t.Class=T;return t};if(typeof t!=="undefined"&&t.exports&&typeof window==="undefined"){t.exports=T}else if(typeof t!=="undefined"&&t.exports&&typeof window!=="undefined"){t.exports=w()}else if(true){!(n=[],i=r.isMobile=w(),a=typeof i==="function"?i.apply(e,n):i,a!==undefined&&(t.exports=a))}else{}})(this)},function(t,e,r){"use strict";e.__esModule=true;var i=r(4);function n(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(){n(this,t);this.minX=Infinity;this.minY=Infinity;this.maxX=-Infinity;this.maxY=-Infinity;this.rect=null}t.prototype.isEmpty=function t(){return this.minX>this.maxX||this.minY>this.maxY};t.prototype.clear=function t(){this.updateID++;this.minX=Infinity;this.minY=Infinity;this.maxX=-Infinity;this.maxY=-Infinity};t.prototype.getRectangle=function t(e){if(this.minX>this.maxX||this.minY>this.maxY){return i.Rectangle.EMPTY}e=e||new i.Rectangle(0,0,1,1);e.x=this.minX;e.y=this.minY;e.width=this.maxX-this.minX;e.height=this.maxY-this.minY;return e};t.prototype.addPoint=function t(e){this.minX=Math.min(this.minX,e.x);this.maxX=Math.max(this.maxX,e.x);this.minY=Math.min(this.minY,e.y);this.maxY=Math.max(this.maxY,e.y)};t.prototype.addQuad=function t(e){var r=this.minX;var i=this.minY;var n=this.maxX;var a=this.maxY;var o=e[0];var s=e[1];r=o<r?o:r;i=s<i?s:i;n=o>n?o:n;a=s>a?s:a;o=e[2];s=e[3];r=o<r?o:r;i=s<i?s:i;n=o>n?o:n;a=s>a?s:a;o=e[4];s=e[5];r=o<r?o:r;i=s<i?s:i;n=o>n?o:n;a=s>a?s:a;o=e[6];s=e[7];r=o<r?o:r;i=s<i?s:i;n=o>n?o:n;a=s>a?s:a;this.minX=r;this.minY=i;this.maxX=n;this.maxY=a};t.prototype.addFrame=function t(e,r,i,n,a){var o=e.worldTransform;var s=o.a;var u=o.b;var l=o.c;var h=o.d;var f=o.tx;var c=o.ty;var d=this.minX;var p=this.minY;var v=this.maxX;var y=this.maxY;var g=s*r+l*i+f;var _=u*r+h*i+c;d=g<d?g:d;p=_<p?_:p;v=g>v?g:v;y=_>y?_:y;g=s*n+l*i+f;_=u*n+h*i+c;d=g<d?g:d;p=_<p?_:p;v=g>v?g:v;y=_>y?_:y;g=s*r+l*a+f;_=u*r+h*a+c;d=g<d?g:d;p=_<p?_:p;v=g>v?g:v;y=_>y?_:y;g=s*n+l*a+f;_=u*n+h*a+c;d=g<d?g:d;p=_<p?_:p;v=g>v?g:v;y=_>y?_:y;this.minX=d;this.minY=p;this.maxX=v;this.maxY=y};t.prototype.addVertices=function t(e,r,i,n){var a=e.worldTransform;var o=a.a;var s=a.b;var u=a.c;var l=a.d;var h=a.tx;var f=a.ty;var c=this.minX;var d=this.minY;var p=this.maxX;var v=this.maxY;for(var y=i;y<n;y+=2){var g=r[y];var _=r[y+1];var m=o*g+u*_+h;var b=l*_+s*g+f;c=m<c?m:c;d=b<d?b:d;p=m>p?m:p;v=b>v?b:v}this.minX=c;this.minY=d;this.maxX=p;this.maxY=v};t.prototype.addBounds=function t(e){var r=this.minX;var i=this.minY;var n=this.maxX;var a=this.maxY;this.minX=e.minX<r?e.minX:r;this.minY=e.minY<i?e.minY:i;this.maxX=e.maxX>n?e.maxX:n;this.maxY=e.maxY>a?e.maxY:a};t.prototype.addBoundsMask=function t(e,r){var i=e.minX>r.minX?e.minX:r.minX;var n=e.minY>r.minY?e.minY:r.minY;var a=e.maxX<r.maxX?e.maxX:r.maxX;var o=e.maxY<r.maxY?e.maxY:r.maxY;if(i<=a&&n<=o){var s=this.minX;var u=this.minY;var l=this.maxX;var h=this.maxY;this.minX=i<s?i:s;this.minY=n<u?n:u;this.maxX=a>l?a:l;this.maxY=o>h?o:h}};t.prototype.addBoundsArea=function t(e,r){var i=e.minX>r.x?e.minX:r.x;var n=e.minY>r.y?e.minY:r.y;var a=e.maxX<r.x+r.width?e.maxX:r.x+r.width;var o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(i<=a&&n<=o){var s=this.minX;var u=this.minY;var l=this.maxX;var h=this.maxY;this.minX=i<s?i:s;this.minY=n<u?n:u;this.maxX=a>l?a:l;this.maxY=o>h?o:h}};return t}();e.default=a},function(t,e){var r=function(t,e){if(!i){var r=Object.keys(n);i={};for(var a=0;a<r.length;++a){var o=r[a];i[t[o]]=n[o]}}return i[e]};var i=null;var n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=r},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(0);function a(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;a(this,t);this.x=Number(e);this.y=Number(r);this.width=Number(i);this.height=Number(o);this.type=n.SHAPES.RECT}t.prototype.clone=function e(){return new t(this.x,this.y,this.width,this.height)};t.prototype.copy=function t(e){this.x=e.x;this.y=e.y;this.width=e.width;this.height=e.height;return this};t.prototype.contains=function t(e,r){if(this.width<=0||this.height<=0){return false}if(e>=this.x&&e<this.x+this.width){if(r>=this.y&&r<this.y+this.height){return true}}return false};t.prototype.pad=function t(e,r){e=e||0;r=r||(r!==0?e:0);this.x-=e;this.y-=r;this.width+=e*2;this.height+=r*2};t.prototype.fit=function t(e){if(this.x<e.x){this.width+=this.x;if(this.width<0){this.width=0}this.x=e.x}if(this.y<e.y){this.height+=this.y;if(this.height<0){this.height=0}this.y=e.y}if(this.x+this.width>e.x+e.width){this.width=e.width-this.x;if(this.width<0){this.width=0}}if(this.y+this.height>e.y+e.height){this.height=e.height-this.y;if(this.height<0){this.height=0}}};t.prototype.enlarge=function t(e){var r=Math.min(this.x,e.x);var i=Math.max(this.x+this.width,e.x+e.width);var n=Math.min(this.y,e.y);var a=Math.max(this.y+this.height,e.y+e.height);this.x=r;this.width=i-r;this.y=n;this.height=a-n};i(t,[{key:"left",get:function t(){return this.x}},{key:"right",get:function t(){return this.x+this.width}},{key:"top",get:function t(){return this.y}},{key:"bottom",get:function t(){return this.y+this.height}}],[{key:"EMPTY",get:function e(){return new t(0,0,0,0)}}]);return t}();e.default=o},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(38);var a=s(n);var o=r(0);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var l=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;u(this,t);this.a=e;this.b=r;this.c=i;this.d=n;this.tx=a;this.ty=o;this.array=null}t.prototype.fromArray=function t(e){this.a=e[0];this.b=e[1];this.c=e[3];this.d=e[4];this.tx=e[2];this.ty=e[5]};t.prototype.set=function t(e,r,i,n,a,o){this.a=e;this.b=r;this.c=i;this.d=n;this.tx=a;this.ty=o;return this};t.prototype.toArray=function t(e,r){if(!this.array){this.array=new Float32Array(9)}var i=r||this.array;if(e){i[0]=this.a;i[1]=this.b;i[2]=0;i[3]=this.c;i[4]=this.d;i[5]=0;i[6]=this.tx;i[7]=this.ty;i[8]=1}else{i[0]=this.a;i[1]=this.c;i[2]=this.tx;i[3]=this.b;i[4]=this.d;i[5]=this.ty;i[6]=0;i[7]=0;i[8]=1}return i};t.prototype.apply=function t(e,r){r=r||new a.default;var i=e.x;var n=e.y;r.x=this.a*i+this.c*n+this.tx;r.y=this.b*i+this.d*n+this.ty;return r};t.prototype.applyInverse=function t(e,r){r=r||new a.default;var i=1/(this.a*this.d+this.c*-this.b);var n=e.x;var o=e.y;r.x=this.d*i*n+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i;r.y=this.a*i*o+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i;return r};t.prototype.translate=function t(e,r){this.tx+=e;this.ty+=r;return this};t.prototype.scale=function t(e,r){this.a*=e;this.d*=r;this.c*=e;this.b*=r;this.tx*=e;this.ty*=r;return this};t.prototype.rotate=function t(e){var r=Math.cos(e);var i=Math.sin(e);var n=this.a;var a=this.c;var o=this.tx;this.a=n*r-this.b*i;this.b=n*i+this.b*r;this.c=a*r-this.d*i;this.d=a*i+this.d*r;this.tx=o*r-this.ty*i;this.ty=o*i+this.ty*r;return this};t.prototype.append=function t(e){var r=this.a;var i=this.b;var n=this.c;var a=this.d;this.a=e.a*r+e.b*n;this.b=e.a*i+e.b*a;this.c=e.c*r+e.d*n;this.d=e.c*i+e.d*a;this.tx=e.tx*r+e.ty*n+this.tx;this.ty=e.tx*i+e.ty*a+this.ty;return this};t.prototype.setTransform=function t(e,r,i,n,a,o,s,u,l){this.a=Math.cos(s+l)*a;this.b=Math.sin(s+l)*a;this.c=-Math.sin(s-u)*o;this.d=Math.cos(s-u)*o;this.tx=e-(i*this.a+n*this.c);this.ty=r-(i*this.b+n*this.d);return this};t.prototype.prepend=function t(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var i=this.a;var n=this.c;this.a=i*e.a+this.b*e.c;this.b=i*e.b+this.b*e.d;this.c=n*e.a+this.d*e.c;this.d=n*e.b+this.d*e.d}this.tx=r*e.a+this.ty*e.c+e.tx;this.ty=r*e.b+this.ty*e.d+e.ty;return this};t.prototype.decompose=function t(e){var r=this.a;var i=this.b;var n=this.c;var a=this.d;var s=-Math.atan2(-n,a);var u=Math.atan2(i,r);var l=Math.abs(s+u);if(l<1e-5||Math.abs(o.PI_2-l)<1e-5){e.rotation=u;if(r<0&&a>=0){e.rotation+=e.rotation<=0?Math.PI:-Math.PI}e.skew.x=e.skew.y=0}else{e.rotation=0;e.skew.x=s;e.skew.y=u}e.scale.x=Math.sqrt(r*r+i*i);e.scale.y=Math.sqrt(n*n+a*a);e.position.x=this.tx;e.position.y=this.ty;return e};t.prototype.invert=function t(){var e=this.a;var r=this.b;var i=this.c;var n=this.d;var a=this.tx;var o=e*n-r*i;this.a=n/o;this.b=-r/o;this.c=-i/o;this.d=e/o;this.tx=(i*this.ty-n*a)/o;this.ty=-(e*this.ty-r*a)/o;return this};t.prototype.identity=function t(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;return this};t.prototype.clone=function e(){var r=new t;r.a=this.a;r.b=this.b;r.c=this.c;r.d=this.d;r.tx=this.tx;r.ty=this.ty;return r};t.prototype.copy=function t(e){e.a=this.a;e.b=this.b;e.c=this.c;e.d=this.d;e.tx=this.tx;e.ty=this.ty;return e};i(t,null,[{key:"IDENTITY",get:function e(){return new t}},{key:"TEMP_MATRIX",get:function e(){return new t}}]);return t}();e.default=l},function(t,e,r){"use strict";e.__esModule=true;function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;i(this,t);this.x=e;this.y=r}t.prototype.clone=function e(){return new t(this.x,this.y)};t.prototype.copy=function t(e){this.set(e.x,e.y)};t.prototype.equals=function t(e){return e.x===this.x&&e.y===this.y};t.prototype.set=function t(e,r){this.x=e||0;this.y=r||(r!==0?this.x:0)};return t}();e.default=n},,,function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});const i=r(92);function n(t,e){return t+Math.floor(Math.random()*Math.floor(e-t))}class a{constructor(t,e){this.x=t;this.y=e;this.rd=10}}e.Point=a;class o extends a{constructor(t,e,r){super(t,e);this.type=r;this.sprite=new PIXI.Sprite(i.SaclaySlitherGame.texfood)}static newFood(t){let e=n(0,1e4)*Math.PI/5e3;let r=n(0,i.SaclaySlitherGame.WORLDRADIUS);let a=n(0,i.SaclaySlitherGame.colors.length);let s=n(0,i.SaclaySlitherGame.colors[0].length);let u=new o(r*Math.cos(e),r*Math.sin(e),a*i.SaclaySlitherGame.colors[0].length+s);u.sprite.anchor.set(.5);u.sprite.x=u.x-t.panX;u.sprite.y=u.y-t.panY;u.sprite.rotation=Math.random()*Math.PI;let l=u.type%i.SaclaySlitherGame.colors.length;u.sprite.tint=PIXI.utils.rgb2hex([i.SaclaySlitherGame.colors[a][s][0]/255,i.SaclaySlitherGame.colors[a][s][1]/255,i.SaclaySlitherGame.colors[a][s][2]/255]);u.rd=n(5,30);let h=u.rd/i.SaclaySlitherGame.texfood.width;u.sprite.scale=new PIXI.Point(h,h);u.sprite.blendMode=PIXI.BLEND_MODES.ADD;return u}}e.Food=o;var s;(function(t){t[t["FREE"]=-1]="FREE";t[t["RANDWALK"]=0]="RANDWALK";t[t["ROT"]=1]="ROT";t[t["FASTSTRAIGHT"]=2]="FASTSTRAIGHT";t[t["AVOIDCLOSEST"]=3]="AVOIDCLOSEST";t[t["GOCLOSESTFOOD"]=4]="GOCLOSESTFOOD";t[t["GOBESTFOOD"]=5]="GOBESTFOOD";t[t["AVOIDWORST"]=6]="AVOIDWORST";t[t["AVOIDBORDER"]=7]="AVOIDBORDER"})(s=e.SnakeStrategy||(e.SnakeStrategy={}));class u{constructor(t,e,r,n,o,u,l,h,f){this.pos=[];this.size=0;this.weight=0;this.dirX=1;this.dirY=0;this.speed=0;this.dAlph=0;this.state=s.GOBESTFOOD;this.bestFood=null;this.dbestFood=0;this.closestFood=null;this.dclosestFood=0;this.closestSnake=null;this.closestSnakeP=null;this.dclosestSnake=0;this.closestBadSnake=null;this.closestBadSnakeP=null;this.dclosestBadSnake=0;this.type=u;this.ssg=t;this.speed=i.SaclaySlitherGame.PREF_SPEED;this.state=f;this.name=e;this.dirX=l;this.dirY=h;this.size=Math.floor(4+Math.sqrt(r)/10+r/25);this.container=new PIXI.Container;let c=new a(n,o);this.pos.push(c);this.bodys=[];this.bodys[0]=new PIXI.Sprite(i.SaclaySlitherGame.texhead);this.bodys[0].x=0;this.bodys[0].y=0;this.bodys[0].anchor.set(.5);this.bodys[0].rotation=Math.atan2(this.dirY,this.dirX);this.bodys[0].tint=PIXI.utils.rgb2hex([i.SaclaySlitherGame.colors[this.type][0%6][0]/255,i.SaclaySlitherGame.colors[this.type][0%6][1]/255,i.SaclaySlitherGame.colors[this.type][0%6][2]/255]);this.deco=new PIXI.Graphics;this.deco.lineStyle(0);this.deco.beginFill(0,1);this.deco.drawEllipse(10,-25,10,16);this.deco.drawEllipse(10,25,10,16);this.deco.beginFill(16776971,.8);this.deco.drawCircle(14,-26,6);this.deco.drawCircle(14,26,6);this.deco.drawRect(i.SaclaySlitherGame.IMG_SIZE/2,0,40,4);this.deco.endFill();this.deco.rotation=Math.atan2(this.dirY,this.dirX);for(let t=1;t<this.size;t++){let e=new a(n-t*this.dirX,o-t*this.dirY);this.pos.push(e);this.bodys[t]=new PIXI.Sprite(i.SaclaySlitherGame.texbody);this.bodys[t].x=e.x-c.x;this.bodys[t].y=e.y-c.y;this.bodys[t].anchor.set(.5);this.bodys[t].tint=PIXI.utils.rgb2hex([i.SaclaySlitherGame.colors[this.type][(t-1)%6][0]/255,i.SaclaySlitherGame.colors[this.type][(t-1)%6][1]/255,i.SaclaySlitherGame.colors[this.type][(t-1)%6][2]/255]);this.container.addChild(this.bodys[t])}this.container.addChild(this.bodys[0]);this.container.addChild(this.deco);this.container.x=c.x-t.panX;this.container.y=c.y-t.panY;this.setWeight(r)}setWeight(t){this.weight=t;for(let t=this.size-1;t>=0;t--){let e=this.pos[t];e.rd=10+Math.sqrt(this.weight-39)/4;if(t==1)e.rd-=2;if(t==2)e.rd--}let e=8;for(let t=this.size-1;t>=3;t--){let r=this.pos[t];if(e<r.rd)r.rd=e;else break;e+=1}for(let t=this.size-1;t>=0;t--){let e=this.pos[t];let r=2*e.rd/i.SaclaySlitherGame.IMG_SIZE;if(t==0)r*=1.3;this.bodys[t].scale=new PIXI.Point(r,r);if(t==0)this.deco.scale=new PIXI.Point(r,r)}}moveSnake(t,e){let r=this.pos[0];let n=this.pos[this.pos.length-1];let a=.75+64/(128+this.size);let s=i.dist(r.x,r.y,t,e);let u=Math.atan2(e-r.y,t-r.x);let l=Math.atan2(this.dirY,this.dirX);let h=u-l;if(h>Math.PI)h-=2*Math.PI;if(h<-Math.PI)h+=2*Math.PI;if(h>i.SaclaySlitherGame.MAX_TURN*a*a*a){t=r.x+Math.max(s,i.SaclaySlitherGame.MIN_SPEED)*Math.cos(l+i.SaclaySlitherGame.MAX_TURN*a*a*a);e=r.y+Math.max(s,i.SaclaySlitherGame.MIN_SPEED)*Math.sin(l+i.SaclaySlitherGame.MAX_TURN*a*a*a)}else if(h<-i.SaclaySlitherGame.MAX_TURN*a*a*a){t=r.x+Math.max(s,i.SaclaySlitherGame.MIN_SPEED)*Math.cos(l-i.SaclaySlitherGame.MAX_TURN*a*a*a);e=r.y+Math.max(s,i.SaclaySlitherGame.MIN_SPEED)*Math.sin(l-i.SaclaySlitherGame.MAX_TURN*a*a*a)}else{t=Math.round(r.x+Math.max(s,i.SaclaySlitherGame.MIN_SPEED)*Math.cos(u));e=Math.round(r.y+Math.max(s,i.SaclaySlitherGame.MIN_SPEED)*Math.sin(u))}let f=i.dist(r.x,r.y,t,e);let c=t;let d=e;if(f>this.speed){c=r.x+(t-r.x)/f*this.speed;d=r.y+(e-r.y)/f*this.speed}if(f>0){this.dirX=(t-r.x)/f*this.speed;this.dirY=(e-r.y)/f*this.speed}if(this.speed>i.SaclaySlitherGame.PREF_SPEED&&this.ssg.frameCount%i.SaclaySlitherGame.LOOSEWEIGHTPACE==0){this.setWeight(this.weight-i.SaclaySlitherGame.LOOSEWEIGHT);let t=new o(n.x,n.y,this.type);t.rd=1;this.ssg.foods.push(t);if(4+Math.sqrt(this.weight)/10+this.weight/25<this.size){this.size--;this.pos.splice(this.pos.length-1,1)}if(this.weight<40+i.SaclaySlitherGame.LOOSEWEIGHT){this.speed=i.SaclaySlitherGame.PREF_SPEED}}let p=0;let v=this.dAlph;for(let t=0;t<this.pos.length;t++){v+=.25;let e=this.pos[t];let r=i.dist(e.x,e.y,c,d);let n=Math.atan2(d-e.y,c-e.x);h=n-l;if(h>Math.PI)h-=2*Math.PI;if(h<-Math.PI)h+=2*Math.PI;if(h>i.SaclaySlitherGame.MAX_TURN){h=i.SaclaySlitherGame.MAX_TURN}else if(h<-i.SaclaySlitherGame.MAX_TURN){h=-i.SaclaySlitherGame.MAX_TURN}if(r>p){e.x=c-p*Math.cos(l+h)+Math.sin(v*2)/12*p*Math.sin(l+h);e.y=d-p*Math.sin(l+h)-Math.sin(v*2)/12*p*Math.cos(l+h)}c=e.x;d=e.y;l=n;p=10+2*Math.sin(v)}this.dAlph+=.02*this.speed}testCollision(){let t=this.pos[0];let e=this.pos[this.pos.length-1];this.closestSnake=null;this.closestSnakeP=null;this.closestBadSnake=null;this.closestBadSnakeP=null;this.dclosestBadSnake=i.SaclaySlitherGame.WORLDRADIUS;this.dclosestSnake=i.SaclaySlitherGame.WORLDRADIUS;if(i.dist(0,0,t.x,t.y)>i.SaclaySlitherGame.WORLDRADIUS){return true}for(let e=0;e<this.ssg.snakes.length;e++){let r=this.ssg.snakes[e];if(r!=null&&r!=this){for(let e=0;e<r.pos.length;e++){let n=r.pos[e];let a=i.dist(n.x,n.y,t.x,t.y);if(a<t.rd+n.rd){return true}else{if(this.closestSnake==null||a<this.dclosestSnake){this.closestSnake=r;this.closestSnakeP=n;this.dclosestSnake=a}let e=Math.atan2(this.dirY,this.dirX);let i=Math.atan2(n.y-t.y,n.x-t.x);let o=Math.abs(e-i);if(this.closestBadSnake==null||a*Math.sin(o/2+1)<this.dclosestBadSnake){this.closestBadSnake=r;this.closestBadSnakeP=n;this.dclosestBadSnake=a*Math.sin(o/2+1)}}}}}let r=this.speed*Math.sin(Math.PI/2-i.SaclaySlitherGame.MAX_TURN)/Math.sin(Math.PI-2*i.SaclaySlitherGame.MAX_TURN);let n=i.dist(0,0,this.dirX,this.dirY);let o=t.x+this.dirY*r/n;let s=t.y-this.dirX*r/n;let u=t.x-this.dirY*r/n;let l=t.y+this.dirX*r/n;this.closestFood=null;this.bestFood=null;this.dclosestFood=i.SaclaySlitherGame.WORLDRADIUS;for(let n=this.ssg.foods.length-1;n>=0;n--){let h=this.ssg.foods[n];let f=i.dist(t.x,t.y,h.x,h.y);let c=Math.atan2(h.y-t.y,h.x-t.x);let d=i.dist(o,s,h.x,h.y);let p=i.dist(u,l,h.x,h.y);if(f<t.rd+h.rd){this.setWeight(this.weight+Math.round(h.rd));if(4+Math.sqrt(this.weight)/10+this.weight/25>this.size){this.size++;let t=new a(e.x,e.y);t.rd=8;this.pos.push(t)}this.ssg.foods.splice(n,1)}else{if((this.closestFood==null||f<this.dclosestFood)&&(d>r&&p>r)){this.closestFood=h;this.dclosestFood=f}if((this.bestFood==null||f/h.rd<this.dbestFood)&&(d>r&&p>r)){this.bestFood=h;this.dbestFood=f/h.rd}}}return false}drawSnake(t){let e=this.pos[0];this.container.x=e.x-this.ssg.panX;this.container.y=e.y-this.ssg.panY;for(let t=1;t<this.pos.length;t++){let r=this.pos[t];this.bodys[t].x=r.x-e.x;this.bodys[t].y=r.y-e.y}this.bodys[0].rotation=Math.atan2(this.dirY,this.dirX);this.deco.rotation=Math.atan2(this.dirY,this.dirX)}}e.Snake=u},function(t,e,r){"use strict";e.__esModule=true;function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function t(e){i(this,t);this.maxItemsPerFrame=e;this.itemsLeft=0}t.prototype.beginFrame=function t(){this.itemsLeft=this.maxItemsPerFrame};t.prototype.allowedToUpload=function t(){return this.itemsLeft-- >0};return t}();e.default=n},function(t,e,r){"use strict";e.__esModule=true;var i=r(10);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function s(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var l=function(t){u(e,t);function e(r,i,a){o(this,e);var u=s(this,t.call(this,r));u._ready=true;u.verticesX=i||10;u.verticesY=a||10;u.drawMode=n.default.DRAW_MODES.TRIANGLES;u.refresh();return u}e.prototype._refresh=function t(){var e=this._texture;var r=this.verticesX*this.verticesY;var i=[];var n=[];var a=[];var o=[];var s=this.verticesX-1;var u=this.verticesY-1;var l=e.width/s;var h=e.height/u;for(var f=0;f<r;f++){var c=f%this.verticesX;var d=f/this.verticesX|0;i.push(c*l,d*h);a.push(c/s,d/u)}var p=s*u;for(var v=0;v<p;v++){var y=v%s;var g=v/s|0;var _=g*this.verticesX+y;var m=g*this.verticesX+y+1;var b=(g+1)*this.verticesX+y;var x=(g+1)*this.verticesX+y+1;o.push(_,m,b);o.push(m,x,b)}this.vertices=new Float32Array(i);this.uvs=new Float32Array(a);this.colors=new Float32Array(n);this.indices=new Uint16Array(o);this.dirty++;this.indexDirty++;this.multiplyUvs()};e.prototype._onTextureUpdate=function t(){n.default.prototype._onTextureUpdate.call(this);if(this._ready){this.refresh()}};return e}(n.default);e.default=l},function(t,e,r){"use strict";e.__esModule=true;e.default=function(){return function t(e,r){if(e.data&&e.type===i.Resource.TYPE.IMAGE){e.texture=a.default.fromLoader(e.data,e.url,e.name)}r()}};var i=r(11);var n=r(7);var a=o(n);function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=true;e.default=function(){return function t(e,r){var n=e.name+"_image";if(!e.data||e.type!==i.Resource.TYPE.JSON||!e.data.frames||this.resources[n]){r();return}var a={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e};var s=u(e,this.baseUrl);this.add(n,s,a,function t(i){if(i.error){r(i.error);return}var n=new o.Spritesheet(i.texture.baseTexture,e.data,e.url);n.parse(function(){e.spritesheet=n;e.textures=n.textures;r()})})}};e.getResourcePath=u;var i=r(11);var n=r(17);var a=s(n);var o=r(1);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(t.isDataUrl){return t.data.meta.image}return a.default.resolve(t.url.replace(e,""),t.data.meta.image)}},function(t,e,r){"use strict";e.__esModule=true;e.encodeBinary=n;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){var e="";var r=0;while(r<t.length){var n=[0,0,0];var a=[0,0,0,0];for(var o=0;o<n.length;++o){if(r<t.length){n[o]=t.charCodeAt(r++)&255}else{n[o]=0}}a[0]=n[0]>>2;a[1]=(n[0]&3)<<4|n[1]>>4;a[2]=(n[1]&15)<<2|n[2]>>6;a[3]=n[2]&63;var s=r-(t.length-1);switch(s){case 2:a[3]=64;a[2]=64;break;case 1:a[3]=64;break;default:break}for(var u=0;u<a.length;++u){e+=i.charAt(a[u])}}return e}},function(t,e,r){"use strict";e.__esModule=true;e.eachSeries=n;e.queue=o;function i(){}function n(t,e,r,i){var n=0;var a=t.length;(function o(s){if(s||n===a){if(r){r(s)}return}if(i){setTimeout(function(){e(t[n++],o)},1)}else{e(t[n++],o)}})()}function a(t){return function e(){if(t===null){throw new Error("Callback was already called.")}var r=t;t=null;r.apply(this,arguments)}}function o(t,e){if(e==null){e=1}else if(e===0){throw new Error("Concurrency must not be zero")}var r=0;var n={_tasks:[],concurrency:e,saturated:i,unsaturated:i,buffer:e/4,empty:i,drain:i,error:i,started:false,paused:false,push:function t(e,r){o(e,false,r)},kill:function t(){r=0;n.drain=i;n.started=false;n._tasks=[]},unshift:function t(e,r){o(e,true,r)},process:function e(){while(!n.paused&&r<n.concurrency&&n._tasks.length){var i=n._tasks.shift();if(n._tasks.length===0){n.empty()}r+=1;if(r===n.concurrency){n.saturated()}t(i.data,a(s(i)))}},length:function t(){return n._tasks.length},running:function t(){return r},idle:function t(){return n._tasks.length+r===0},pause:function t(){if(n.paused===true){return}n.paused=true},resume:function t(){if(n.paused===false){return}n.paused=false;for(var e=1;e<=n.concurrency;e++){n.process()}}};function o(t,e,r){if(r!=null&&typeof r!=="function"){throw new Error("task callback must be a function")}n.started=true;if(t==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var a={data:t,callback:typeof r==="function"?r:i};if(e){n._tasks.unshift(a)}else{n._tasks.push(a)}setTimeout(function(){return n.process()},1)}function s(t){return function e(){r-=1;t.callback.apply(t,arguments);if(arguments[0]!=null){n.error(arguments[0],t.data)}if(r<=n.concurrency-n.buffer){n.unsaturated()}if(n.idle()){n.drain()}n.process()}}return n}},function(t,e,r){"use strict";t.exports=function t(e,r){r=r||{};var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var n=i.parser[r.strictMode?"strict":"loose"].exec(e);var a={};var o=14;while(o--)a[i.key[o]]=n[o]||"";a[i.q.name]={};a[i.key[12]].replace(i.q.parser,function(t,e,r){if(e)a[i.q.name][e]=r});return a}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();function n(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(e,r,i){if(r===undefined)r=false;n(this,t);this._fn=e;this._once=r;this._thisArg=i;this._next=this._prev=this._owner=null}i(t,[{key:"detach",value:function t(){if(this._owner===null)return false;this._owner.detach(this);return true}}]);return t}();function o(t,e){if(!t._head){t._head=e;t._tail=e}else{t._tail._next=e;e._prev=t._tail;t._tail=e}e._owner=t;return e}var s=function(){function t(){n(this,t);this._head=this._tail=undefined}i(t,[{key:"handlers",value:function t(){var e=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var r=this._head;if(e)return!!r;var i=[];while(r){i.push(r);r=r._next}return i}},{key:"has",value:function t(e){if(!(e instanceof a)){throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.")}return e._owner===this}},{key:"dispatch",value:function t(){var e=this._head;if(!e)return false;while(e){if(e._once)this.detach(e);e._fn.apply(e._thisArg,arguments);e=e._next}return true}},{key:"add",value:function t(e){var r=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(typeof e!=="function"){throw new Error("MiniSignal#add(): First arg must be a Function.")}return o(this,new a(e,false,r))}},{key:"once",value:function t(e){var r=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(typeof e!=="function"){throw new Error("MiniSignal#once(): First arg must be a Function.")}return o(this,new a(e,true,r))}},{key:"detach",value:function t(e){if(!(e instanceof a)){throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.")}if(e._owner!==this)return this;if(e._prev)e._prev._next=e._next;if(e._next)e._next._prev=e._prev;if(e===this._head){this._head=e._next;if(e._next===null){this._tail=null}}else if(e===this._tail){this._tail=e._prev;this._tail._next=null}e._owner=null;return this}},{key:"detachAll",value:function t(){var e=this._head;if(!e)return this;this._head=this._tail=null;while(e){e._owner=null;e=e._next}return this}}]);return t}();s.MiniSignalBinding=a;e["default"]=s;t.exports=e["default"]},function(t,e,r){"use strict";e.__esModule=true;e.parse=u;e.default=function(){return function t(e,r){if(!e.data||e.type!==a.Resource.TYPE.XML){r();return}if(e.data.getElementsByTagName("page").length===0||e.data.getElementsByTagName("info").length===0||e.data.getElementsByTagName("info")[0].getAttribute("face")===null){r();return}var i=!e.isDataUrl?n.dirname(e.url):"";if(e.isDataUrl){if(i==="."){i=""}if(this.baseUrl&&i){if(this.baseUrl.charAt(this.baseUrl.length-1)==="/"){i+="/"}}}i=i.replace(this.baseUrl,"");if(i&&i.charAt(i.length-1)!=="/"){i+="/"}var o=e.data.getElementsByTagName("page");var s={};var l=function t(i){s[i.metadata.pageFile]=i.texture;if(Object.keys(s).length===o.length){u(e,s);r()}};for(var h=0;h<o.length;++h){var f=o[h].getAttribute("file");var c=i+f;var d=false;for(var p in this.resources){if(this.resources[p].url===c){this.resources[p].metadata.pageFile=f;l(this.resources[p]);d=true;break}}if(!d){var v={crossOrigin:e.crossOrigin,loadType:a.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:f},e.metadata.imageMetadata),parentResource:e};this.add(c,v,l)}}}};var i=r(6);var n=s(i);var a=r(11);var o=r(60);function s(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function u(t,e){t.bitmapFont=o.BitmapText.registerFont(t.data,e)}},function(t,e,r){"use strict";e.__esModule=true;e.default={interactive:false,interactiveChildren:true,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){if(t){this.cursor="pointer"}else if(this.cursor==="pointer"){this.cursor=null}},cursor:null,get trackedPointers(){if(this._trackedPointers===undefined)this._trackedPointers={};return this._trackedPointers},_trackedPointers:undefined}},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();function n(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(e){n(this,t);this._pointerId=e;this._flags=t.FLAGS.NONE}t.prototype._doSet=function t(e,r){if(r){this._flags=this._flags|e}else{this._flags=this._flags&~e}};i(t,[{key:"pointerId",get:function t(){return this._pointerId}},{key:"flags",get:function t(){return this._flags},set:function t(e){this._flags=e}},{key:"none",get:function t(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function t(){return(this._flags&this.constructor.FLAGS.OVER)!==0},set:function t(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:"rightDown",get:function t(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!==0},set:function t(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:"leftDown",get:function t(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!==0},set:function t(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]);return t}();e.default=a;a.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2})},function(t,e,r){"use strict";e.__esModule=true;function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function t(){i(this,t);this.stopped=false;this.target=null;this.currentTarget=null;this.type=null;this.data=null}t.prototype.stopPropagation=function t(){this.stopped=true};t.prototype.reset=function t(){this.stopped=false;this.currentTarget=null;this.target=null};return t}();e.default=n},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=o(n);function o(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function t(){s(this,t);this.global=new a.Point;this.target=null;this.originalEvent=null;this.identifier=null;this.isPrimary=false;this.button=0;this.buttons=0;this.width=0;this.height=0;this.tiltX=0;this.tiltY=0;this.pointerType=null;this.pressure=0;this.rotationAngle=0;this.twist=0;this.tangentialPressure=0}t.prototype.getLocalPosition=function t(e,r,i){return e.worldTransform.applyInverse(i||this.global,r)};t.prototype.copyEvent=function t(e){if(e.isPrimary){this.isPrimary=true}this.button=e.button;this.buttons=Number.isInteger(e.buttons)?e.buttons:e.which;this.width=e.width;this.height=e.height;this.tiltX=e.tiltX;this.tiltY=e.tiltY;this.pointerType=e.pointerType;this.pressure=e.pressure;this.rotationAngle=e.rotationAngle;this.twist=e.twist||0;this.tangentialPressure=e.tangentialPressure||0};t.prototype.reset=function t(){this.isPrimary=false};i(t,[{key:"pointerId",get:function t(){return this.identifier}}]);return t}();e.default=u},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=d(n);var o=r(58);var s=c(o);var u=r(57);var l=c(u);var h=r(56);var f=c(h);function c(t){return t&&t.__esModule?t:{default:t}}function d(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function p(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function v(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function y(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var g=function(t){y(e,t);function e(r,i,n,o){p(this,e);o=o||5;var u=(0,s.default)(o,false);var h=(0,l.default)(o);var f=v(this,t.call(this,u,h));f.resolution=n||a.settings.RESOLUTION;f._quality=0;f.quality=i||4;f.strength=r||8;f.firstRun=true;return f}e.prototype.apply=function t(e,r,i,n){if(this.firstRun){var a=e.renderer.gl;var o=(0,f.default)(a);this.vertexSrc=(0,s.default)(o,false);this.fragmentSrc=(0,l.default)(o);this.firstRun=false}this.uniforms.strength=1/i.size.height*(i.size.height/r.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1){e.applyFilter(this,r,i,n)}else{var u=e.getRenderTarget(true);var h=r;var c=u;for(var d=0;d<this.passes-1;d++){e.applyFilter(this,h,c,true);var p=c;c=h;h=p}e.applyFilter(this,h,i,n);e.returnRenderTarget(u)}};i(e,[{key:"blur",get:function t(){return this.strength},set:function t(e){this.padding=Math.abs(e)*2;this.strength=e}},{key:"quality",get:function t(){return this._quality},set:function t(e){this._quality=e;this.passes=e}}]);return e}(a.Filter);e.default=g},function(t,e,r){"use strict";e.__esModule=true;e.default=i;function i(t){var e=t.getParameter(t.MAX_VARYING_VECTORS);var r=15;while(r>e){r-=2}return r}},function(t,e,r){"use strict";e.__esModule=true;e.default=a;var i={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]};var n=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function a(t){var e=i[t];var r=e.length;var a=n;var o="";var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";var u=void 0;for(var l=0;l<t;l++){var h=s.replace("%index%",l);u=l;if(l>=r){u=t-l-1}h=h.replace("%value%",e[u]);o+=h;o+="\n"}a=a.replace("%blur%",o);a=a.replace("%size%",t);return a}},function(t,e,r){"use strict";e.__esModule=true;e.default=n;var i=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n");function n(t,e){var r=Math.ceil(t/2);var n=i;var a="";var o=void 0;if(e){o="vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);"}else{o="vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);"}for(var s=0;s<t;s++){var u=o.replace("%index%",s);u=u.replace("%sampleIndex%",s-(r-1)+".0");a+=u;a+="\n"}n=n.replace("%blur%",a);n=n.replace("%size%",t);return n}},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=d(n);var o=r(58);var s=c(o);var u=r(57);var l=c(u);var h=r(56);var f=c(h);function c(t){return t&&t.__esModule?t:{default:t}}function d(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function p(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function v(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function y(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var g=function(t){y(e,t);function e(r,i,n,o){p(this,e);o=o||5;var u=(0,s.default)(o,true);var h=(0,l.default)(o);var f=v(this,t.call(this,u,h));f.resolution=n||a.settings.RESOLUTION;f._quality=0;f.quality=i||4;f.strength=r||8;f.firstRun=true;return f}e.prototype.apply=function t(e,r,i,n){if(this.firstRun){var a=e.renderer.gl;var o=(0,f.default)(a);this.vertexSrc=(0,s.default)(o,true);this.fragmentSrc=(0,l.default)(o);this.firstRun=false}this.uniforms.strength=1/i.size.width*(i.size.width/r.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1){e.applyFilter(this,r,i,n)}else{var u=e.getRenderTarget(true);var h=r;var c=u;for(var d=0;d<this.passes-1;d++){e.applyFilter(this,h,c,true);var p=c;c=h;h=p}e.applyFilter(this,h,i,n);e.returnRenderTarget(u)}};i(e,[{key:"blur",get:function t(){return this.strength},set:function t(e){this.padding=Math.abs(e)*2;this.strength=e}},{key:"quality",get:function t(){return this._quality},set:function t(e){this._quality=e;this.passes=e}}]);return e}(a.Filter);e.default=g},function(t,e,r){"use strict";e.__esModule=true;e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.AnimatedSprite=undefined;var i=r(133);Object.defineProperty(e,"AnimatedSprite",{enumerable:true,get:function t(){return s(i).default}});var n=r(132);Object.defineProperty(e,"TilingSprite",{enumerable:true,get:function t(){return s(n).default}});var a=r(131);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:true,get:function t(){return s(a).default}});var o=r(130);Object.defineProperty(e,"BitmapText",{enumerable:true,get:function t(){return s(o).default}});r(129);r(128);r(127);function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=true;e.default={accessible:false,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:false,_accessibleDiv:false}},function(t,e,r){"use strict";e.__esModule=true;e.autoDetectRenderer=f;var i=r(2);var n=h(i);var a=r(14);var o=l(a);var s=r(20);var u=l(s);function l(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function f(t,e,r,i){var a=t&&t.forceCanvas;if(i!==undefined){a=i}if(!a&&n.isWebGLSupported()){return new u.default(t,e,r)}return new o.default(t,e,r)}},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(62);var a=r(15);var o=f(a);var s=r(28);var u=r(3);var l=f(u);var h=r(0);function f(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var d=function(){function t(e,r,i,a,u){c(this,t);if(typeof e==="number"){e=Object.assign({width:e,height:r||l.default.RENDER_OPTIONS.height,forceCanvas:!!a,sharedTicker:!!u},i)}this._options=e=Object.assign({autoStart:true,sharedTicker:false,forceCanvas:false,sharedLoader:false},e);this.renderer=(0,n.autoDetectRenderer)(e);this.stage=new o.default;this._ticker=null;this.ticker=e.sharedTicker?s.shared:new s.Ticker;if(e.autoStart){this.start()}}t.prototype.render=function t(){this.renderer.render(this.stage)};t.prototype.stop=function t(){this._ticker.stop()};t.prototype.start=function t(){this._ticker.start()};t.prototype.destroy=function t(e,r){if(this._ticker){var i=this._ticker;this.ticker=null;i.destroy()}this.stage.destroy(r);this.stage=null;this.renderer.destroy(e);this.renderer=null;this._options=null};i(t,[{key:"ticker",set:function t(e){if(this._ticker){this._ticker.remove(this.render,this)}this._ticker=e;if(e){e.add(this.render,this,h.UPDATE_PRIORITY.LOW)}},get:function t(){return this._ticker}},{key:"view",get:function t(){return this.renderer.view}},{key:"screen",get:function t(){return this.renderer.screen}}]);return t}();e.default=d},function(t,e,r){"use strict";e.__esModule=true;function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function t(e,r,n,a,o,s,u,l,h){i(this,t);this.lineWidth=e;this.lineAlignment=h;this.nativeLines=u;this.lineColor=r;this.lineAlpha=n;this._lineTint=r;this.fillColor=a;this.fillAlpha=o;this._fillTint=a;this.fill=s;this.holes=[];this.shape=l;this.type=l.type}t.prototype.clone=function e(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)};t.prototype.addHole=function t(e){this.holes.push(e)};t.prototype.destroy=function t(){this.shape=null;this.holes=null};return t}();e.default=n},function(t,e,r){"use strict";e.__esModule=true;function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function t(e,r,n,a,o,s,u,l,h){i(this,t);this.text=e;this.style=r;this.width=n;this.height=a;this.lines=o;this.lineWidths=s;this.lineHeight=u;this.maxLineWidth=l;this.fontProperties=h}t.measureText=function e(r,i,n){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:t._canvas;n=n||i.wordWrap;var o=i.toFontString();var s=t.measureFont(o);var u=a.getContext("2d");u.font=o;var l=n?t.wordWrap(r,i,a):r;var h=l.split(/(?:\r\n|\r|\n)/);var f=new Array(h.length);var c=0;for(var d=0;d<h.length;d++){var p=u.measureText(h[d]).width+(h[d].length-1)*i.letterSpacing;f[d]=p;c=Math.max(c,p)}var v=c+i.strokeThickness;if(i.dropShadow){v+=i.dropShadowDistance}var y=i.lineHeight||s.fontSize+i.strokeThickness;var g=Math.max(y,s.fontSize+i.strokeThickness)+(h.length-1)*(y+i.leading);if(i.dropShadow){g+=i.dropShadowDistance}return new t(r,i,v,g,h,f,y+i.leading,c,s)};t.wordWrap=function e(r,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:t._canvas;var a=n.getContext("2d");var o=0;var s="";var u="";var l={};var h=i.letterSpacing,f=i.whiteSpace;var c=t.collapseSpaces(f);var d=t.collapseNewlines(f);var p=!c;var v=i.wordWrapWidth+h;var y=t.tokenize(r);for(var g=0;g<y.length;g++){var _=y[g];if(t.isNewline(_)){if(!d){u+=t.addLine(s);p=!c;s="";o=0;continue}_=" "}if(c){var m=t.isBreakingSpace(_);var b=t.isBreakingSpace(s[s.length-1]);if(m&&b){continue}}var x=t.getFromCache(_,h,l,a);if(x>v){if(s!==""){u+=t.addLine(s);s="";o=0}if(t.canBreakWords(_,i.breakWords)){var T=_.split("");for(var w=0;w<T.length;w++){var E=T[w];var S=1;while(T[w+S]){var O=T[w+S];var M=E[E.length-1];if(!t.canBreakChars(M,O,_,w,i.breakWords)){E+=O}else{break}S++}w+=E.length-1;var P=t.getFromCache(E,h,l,a);if(P+o>v){u+=t.addLine(s);p=false;s="";o=0}s+=E;o+=P}}else{if(s.length>0){u+=t.addLine(s);s="";o=0}var C=g===y.length-1;u+=t.addLine(_,!C);p=false;s="";o=0}}else{if(x+o>v){p=false;u+=t.addLine(s);s="";o=0}if(s.length>0||!t.isBreakingSpace(_)||p){s+=_;o+=x}}}u+=t.addLine(s,false);return u};t.addLine=function e(r){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;r=t.trimRight(r);r=i?r+"\n":r;return r};t.getFromCache=function t(e,r,i,n){var a=i[e];if(a===undefined){var o=e.length*r;a=n.measureText(e).width+o;i[e]=a}return a};t.collapseSpaces=function t(e){return e==="normal"||e==="pre-line"};t.collapseNewlines=function t(e){return e==="normal"};t.trimRight=function e(r){if(typeof r!=="string"){return""}for(var i=r.length-1;i>=0;i--){var n=r[i];if(!t.isBreakingSpace(n)){break}r=r.slice(0,-1)}return r};t.isNewline=function e(r){if(typeof r!=="string"){return false}return t._newlines.indexOf(r.charCodeAt(0))>=0};t.isBreakingSpace=function e(r){if(typeof r!=="string"){return false}return t._breakingSpaces.indexOf(r.charCodeAt(0))>=0};t.tokenize=function e(r){var i=[];var n="";if(typeof r!=="string"){return i}for(var a=0;a<r.length;a++){var o=r[a];if(t.isBreakingSpace(o)||t.isNewline(o)){if(n!==""){i.push(n);n=""}i.push(o);continue}n+=o}if(n!==""){i.push(n)}return i};t.canBreakWords=function t(e,r){return r};t.canBreakChars=function t(e,r,i,n,a){return true};t.measureFont=function e(r){if(t._fonts[r]){return t._fonts[r]}var i={};var n=t._canvas;var a=t._context;a.font=r;var o=t.METRICS_STRING+t.BASELINE_SYMBOL;var s=Math.ceil(a.measureText(o).width);var u=Math.ceil(a.measureText(t.BASELINE_SYMBOL).width);var l=2*u;u=u*t.BASELINE_MULTIPLIER|0;n.width=s;n.height=l;a.fillStyle="#f00";a.fillRect(0,0,s,l);a.font=r;a.textBaseline="alphabetic";a.fillStyle="#000";a.fillText(o,0,u);var h=a.getImageData(0,0,s,l).data;var f=h.length;var c=s*4;var d=0;var p=0;var v=false;for(d=0;d<u;++d){for(var y=0;y<c;y+=4){if(h[p+y]!==255){v=true;break}}if(!v){p+=c}else{break}}i.ascent=u-d;p=f-c;v=false;for(d=l;d>u;--d){for(var g=0;g<c;g+=4){if(h[p+g]!==255){v=true;break}}if(!v){p-=c}else{break}}i.descent=d-u;i.fontSize=i.ascent+i.descent;t._fonts[r]=i;return i};t.clearMetrics=function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";if(r){delete t._fonts[r]}else{t._fonts={}}};return t}();e.default=n;var a=document.createElement("canvas");a.width=a.height=10;n._canvas=a;n._context=a.getContext("2d");n._fonts={};n.METRICS_STRING="|Éq";n.BASELINE_SYMBOL="M";n.BASELINE_MULTIPLIER=1.4;n._newlines=[10,13];n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(0);var a=r(2);function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var s={align:"left",breakWords:false,dropShadow:false,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:n.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:false,whiteSpace:"pre",wordWrap:false,wordWrapWidth:100,leading:0};var u=function(){function t(e){o(this,t);this.styleID=0;this.reset();c(this,e,e)}t.prototype.clone=function e(){var r={};c(r,this,s);return new t(r)};t.prototype.reset=function t(){c(this,s,s)};t.prototype.toFontString=function t(){var e=typeof this.fontSize==="number"?this.fontSize+"px":this.fontSize;var r=this.fontFamily;if(!Array.isArray(this.fontFamily)){r=this.fontFamily.split(",")}for(var i=r.length-1;i>=0;i--){var n=r[i].trim();if(!/([\"\'])[^\'\"]+\1/.test(n)){n='"'+n+'"'}r[i]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")};i(t,[{key:"align",get:function t(){return this._align},set:function t(e){if(this._align!==e){this._align=e;this.styleID++}}},{key:"breakWords",get:function t(){return this._breakWords},set:function t(e){if(this._breakWords!==e){this._breakWords=e;this.styleID++}}},{key:"dropShadow",get:function t(){return this._dropShadow},set:function t(e){if(this._dropShadow!==e){this._dropShadow=e;this.styleID++}}},{key:"dropShadowAlpha",get:function t(){return this._dropShadowAlpha},set:function t(e){if(this._dropShadowAlpha!==e){this._dropShadowAlpha=e;this.styleID++}}},{key:"dropShadowAngle",get:function t(){return this._dropShadowAngle},set:function t(e){if(this._dropShadowAngle!==e){this._dropShadowAngle=e;this.styleID++}}},{key:"dropShadowBlur",get:function t(){return this._dropShadowBlur},set:function t(e){if(this._dropShadowBlur!==e){this._dropShadowBlur=e;this.styleID++}}},{key:"dropShadowColor",get:function t(){return this._dropShadowColor},set:function t(e){var r=h(e);if(this._dropShadowColor!==r){this._dropShadowColor=r;this.styleID++}}},{key:"dropShadowDistance",get:function t(){return this._dropShadowDistance},set:function t(e){if(this._dropShadowDistance!==e){this._dropShadowDistance=e;this.styleID++}}},{key:"fill",get:function t(){return this._fill},set:function t(e){var r=h(e);if(this._fill!==r){this._fill=r;this.styleID++}}},{key:"fillGradientType",get:function t(){return this._fillGradientType},set:function t(e){if(this._fillGradientType!==e){this._fillGradientType=e;this.styleID++}}},{key:"fillGradientStops",get:function t(){return this._fillGradientStops},set:function t(e){if(!f(this._fillGradientStops,e)){this._fillGradientStops=e;this.styleID++}}},{key:"fontFamily",get:function t(){return this._fontFamily},set:function t(e){if(this.fontFamily!==e){this._fontFamily=e;this.styleID++}}},{key:"fontSize",get:function t(){return this._fontSize},set:function t(e){if(this._fontSize!==e){this._fontSize=e;this.styleID++}}},{key:"fontStyle",get:function t(){return this._fontStyle},set:function t(e){if(this._fontStyle!==e){this._fontStyle=e;this.styleID++}}},{key:"fontVariant",get:function t(){return this._fontVariant},set:function t(e){if(this._fontVariant!==e){this._fontVariant=e;this.styleID++}}},{key:"fontWeight",get:function t(){return this._fontWeight},set:function t(e){if(this._fontWeight!==e){this._fontWeight=e;this.styleID++}}},{key:"letterSpacing",get:function t(){return this._letterSpacing},set:function t(e){if(this._letterSpacing!==e){this._letterSpacing=e;this.styleID++}}},{key:"lineHeight",get:function t(){return this._lineHeight},set:function t(e){if(this._lineHeight!==e){this._lineHeight=e;this.styleID++}}},{key:"leading",get:function t(){return this._leading},set:function t(e){if(this._leading!==e){this._leading=e;this.styleID++}}},{key:"lineJoin",get:function t(){return this._lineJoin},set:function t(e){if(this._lineJoin!==e){this._lineJoin=e;this.styleID++}}},{key:"miterLimit",get:function t(){return this._miterLimit},set:function t(e){if(this._miterLimit!==e){this._miterLimit=e;this.styleID++}}},{key:"padding",get:function t(){return this._padding},set:function t(e){if(this._padding!==e){this._padding=e;this.styleID++}}},{key:"stroke",get:function t(){return this._stroke},set:function t(e){var r=h(e);if(this._stroke!==r){this._stroke=r;this.styleID++}}},{key:"strokeThickness",get:function t(){return this._strokeThickness},set:function t(e){if(this._strokeThickness!==e){this._strokeThickness=e;this.styleID++}}},{key:"textBaseline",get:function t(){return this._textBaseline},set:function t(e){if(this._textBaseline!==e){this._textBaseline=e;this.styleID++}}},{key:"trim",get:function t(){return this._trim},set:function t(e){if(this._trim!==e){this._trim=e;this.styleID++}}},{key:"whiteSpace",get:function t(){return this._whiteSpace},set:function t(e){if(this._whiteSpace!==e){this._whiteSpace=e;this.styleID++}}},{key:"wordWrap",get:function t(){return this._wordWrap},set:function t(e){if(this._wordWrap!==e){this._wordWrap=e;this.styleID++}}},{key:"wordWrapWidth",get:function t(){return this._wordWrapWidth},set:function t(e){if(this._wordWrapWidth!==e){this._wordWrapWidth=e;this.styleID++}}}]);return t}();e.default=u;function l(t){if(typeof t==="number"){return(0,a.hex2string)(t)}else if(typeof t==="string"){if(t.indexOf("0x")===0){t=t.replace("0x","#")}}return t}function h(t){if(!Array.isArray(t)){return l(t)}else{for(var e=0;e<t.length;++e){t[e]=l(t[e])}return t}}function f(t,e){if(!Array.isArray(t)||!Array.isArray(e)){return false}if(t.length!==e.length){return false}for(var r=0;r<t.length;++r){if(t[r]!==e[r]){return false}}return true}function c(t,e,r){for(var i in r){if(Array.isArray(e[i])){t[i]=e[i].slice()}else{t[i]=e[i]}}}},function(t,e,r){"use strict";e.__esModule=true;var i=r(5);var n=s(i);var a=r(25);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var l=function(){function t(e,r){u(this,t);this.gl=e;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(8*2);for(var i=0;i<4;i++){this.interleaved[i*4]=this.vertices[i*2];this.interleaved[i*4+1]=this.vertices[i*2+1];this.interleaved[i*4+2]=this.uvs[i*2];this.interleaved[i*4+3]=this.uvs[i*2+1]}this.indices=(0,o.default)(1);this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW);this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW);this.vao=new n.default.VertexArrayObject(e,r)}t.prototype.initVao=function t(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,false,4*4,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,false,4*4,2*4)};t.prototype.map=function t(e,r){var i=0;var n=0;this.uvs[0]=i;this.uvs[1]=n;this.uvs[2]=i+r.width/e.width;this.uvs[3]=n;this.uvs[4]=i+r.width/e.width;this.uvs[5]=n+r.height/e.height;this.uvs[6]=i;this.uvs[7]=n+r.height/e.height;i=r.x;n=r.y;this.vertices[0]=i;this.vertices[1]=n;this.vertices[2]=i+r.width;this.vertices[3]=n;this.vertices[4]=i+r.width;this.vertices[5]=n+r.height;this.vertices[6]=i;this.vertices[7]=n+r.height;return this};t.prototype.upload=function t(){for(var e=0;e<4;e++){this.interleaved[e*4]=this.vertices[e*2];this.interleaved[e*4+1]=this.vertices[e*2+1];this.interleaved[e*4+2]=this.uvs[e*2];this.interleaved[e*4+3]=this.uvs[e*2+1]}this.vertexBuffer.upload(this.interleaved);return this};t.prototype.destroy=function t(){var e=this.gl;e.deleteBuffer(this.vertexBuffer);e.deleteBuffer(this.indexBuffer)};return t}();e.default=l},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(37);var a=o(n);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var u=new a.default;var l=function(){function t(e,r){s(this,t);this._texture=e;this.mapCoord=new a.default;this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._lastTextureID=-1;this.clampOffset=0;this.clampMargin=typeof r==="undefined"?.5:r}t.prototype.multiplyUvs=function t(e,r){if(r===undefined){r=e}var i=this.mapCoord;for(var n=0;n<e.length;n+=2){var a=e[n];var o=e[n+1];r[n]=a*i.a+o*i.c+i.tx;r[n+1]=a*i.b+o*i.d+i.ty}return r};t.prototype.update=function t(e){var r=this._texture;if(!r||!r.valid){return false}if(!e&&this._lastTextureID===r._updateID){return false}this._lastTextureID=r._updateID;var i=r._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var n=r.orig;var a=r.trim;if(a){u.set(n.width/a.width,0,0,n.height/a.height,-a.x/a.width,-a.y/a.height);this.mapCoord.append(u)}var o=r.baseTexture;var s=this.uClampFrame;var l=this.clampMargin/o.resolution;var h=this.clampOffset;s[0]=(r._frame.x+l+h)/o.width;s[1]=(r._frame.y+l+h)/o.height;s[2]=(r._frame.x+r._frame.width-l+h)/o.width;s[3]=(r._frame.y+r._frame.height-l+h)/o.height;this.uClampOffset[0]=h/o.realWidth;this.uClampOffset[1]=h/o.realHeight;return true};i(t,[{key:"texture",get:function t(){return this._texture},set:function t(e){this._texture=e;this._lastTextureID=-1}}]);return t}();e.default=l},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(165);var a=h(n);var o=r(2);var s=r(0);var u=r(3);var l=h(u);function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var c={};var d=function(){function t(e,r,i){f(this,t);this.vertexSrc=e||t.defaultVertexSrc;this.fragmentSrc=r||t.defaultFragmentSrc;this._blendMode=s.BLEND_MODES.NORMAL;this.uniformData=i||(0,a.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var n in this.uniformData){this.uniforms[n]=this.uniformData[n].value;if(this.uniformData[n].type){this.uniformData[n].type=this.uniformData[n].type.toLowerCase()}}this.glShaders={};if(!c[this.vertexSrc+this.fragmentSrc]){c[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()}this.glShaderKey=c[this.vertexSrc+this.fragmentSrc];this.padding=4;this.resolution=l.default.FILTER_RESOLUTION;this.enabled=true;this.autoFit=true}t.prototype.apply=function t(e,r,i,n,a){e.applyFilter(this,r,i,n)};i(t,[{key:"blendMode",get:function t(){return this._blendMode},set:function t(e){this._blendMode=e}}],[{key:"defaultVertexSrc",get:function t(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function t(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]);return t}();e.default=d},function(t,e,r){"use strict";e.__esModule=true;var i=r(69);var n=l(i);var a=r(4);var o=r(6);var s=r(68);var u=l(s);function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function f(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function c(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var d=function(t){c(e,t);function e(r){h(this,e);var i=new a.Matrix;var n=f(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));r.renderable=false;n.maskSprite=r;n.maskMatrix=i;return n}e.prototype.apply=function t(e,r,i){var n=this.maskSprite;var a=this.maskSprite.texture;if(!a.valid){return}if(!a.transform){a.transform=new u.default(a,0)}a.transform.update();this.uniforms.mask=a;this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(a.transform.mapCoord);this.uniforms.alpha=n.worldAlpha;this.uniforms.maskClamp=a.transform.uClampFrame;e.applyFilter(this,r,i)};return e}(n.default);e.default=d},function(t,e,r){"use strict";e.__esModule=true;e.default=n;function i(t){var e=document.createElement("canvas");e.width=6;e.height=1;var r=e.getContext("2d");r.fillStyle=t;r.fillRect(0,0,6,1);return e}function n(){if(typeof document==="undefined"){return false}var t=i("#ff00ff");var e=i("#ffff00");var r=document.createElement("canvas");r.width=6;r.height=1;var n=r.getContext("2d");n.globalCompositeOperation="multiply";n.drawImage(t,0,0);n.drawImage(e,2,0);var a=n.getImageData(2,0,1,1);if(!a){return false}var o=a.data;return o[0]===255&&o[1]===0&&o[2]===0}},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(3);var a=o(n);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function t(e,r,i){s(this,t);this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=i||a.default.RESOLUTION;this.resize(e,r)}t.prototype.clear=function t(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};t.prototype.resize=function t(e,r){this.canvas.width=e*this.resolution;this.canvas.height=r*this.resolution};t.prototype.destroy=function t(){this.context=null;this.canvas=null};i(t,[{key:"width",get:function t(){return this.canvas.width},set:function t(e){this.canvas.width=e}},{key:"height",get:function t(){return this.canvas.height},set:function t(e){this.canvas.height=e}}]);return t}();e.default=u},function(t,e,r){"use strict";e.__esModule=true;var i=r(9);var n=s(i);var a=r(3);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var n=arguments[2];var a=arguments[3];u(this,e);var s=l(this,t.call(this,null,n));s.resolution=a||o.default.RESOLUTION;s.width=Math.ceil(r);s.height=Math.ceil(i);s.realWidth=s.width*s.resolution;s.realHeight=s.height*s.resolution;s.scaleMode=n!==undefined?n:o.default.SCALE_MODE;s.hasLoaded=true;s._glRenderTargets={};s._canvasRenderTarget=null;s.valid=false;return s}e.prototype.resize=function t(e,r){e=Math.ceil(e);r=Math.ceil(r);if(e===this.width&&r===this.height){return}this.valid=e>0&&r>0;this.width=e;this.height=r;this.realWidth=this.width*this.resolution;this.realHeight=this.height*this.resolution;if(!this.valid){return}this.emit("update",this)};e.prototype.destroy=function e(){t.prototype.destroy.call(this,true);this.renderer=null};return e}(n.default);e.default=f},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(2);var a=r(4);var o=r(0);var s=r(3);var u=v(s);var l=r(15);var h=v(l);var f=r(27);var c=v(f);var d=r(8);var p=v(d);function v(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function g(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function _(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var m=new a.Matrix;var b=function(t){_(e,t);function e(r,i,s,l){y(this,e);var f=g(this,t.call(this));(0,n.sayHello)(r);if(typeof i==="number"){i=Object.assign({width:i,height:s||u.default.RENDER_OPTIONS.height},l)}i=Object.assign({},u.default.RENDER_OPTIONS,i);f.options=i;f.type=o.RENDERER_TYPE.UNKNOWN;f.screen=new a.Rectangle(0,0,i.width,i.height);f.view=i.view||document.createElement("canvas");f.resolution=i.resolution||u.default.RESOLUTION;f.transparent=i.transparent;f.autoResize=i.autoResize||false;f.blendModes=null;f.preserveDrawingBuffer=i.preserveDrawingBuffer;f.clearBeforeRender=i.clearBeforeRender;f.roundPixels=i.roundPixels;f._backgroundColor=0;f._backgroundColorRgba=[0,0,0,0];f._backgroundColorString="#000000";f.backgroundColor=i.backgroundColor||f._backgroundColor;f._tempDisplayObjectParent=new h.default;f._lastObjectRendered=f._tempDisplayObjectParent;return f}e.prototype.resize=function t(e,r){this.screen.width=e;this.screen.height=r;this.view.width=e*this.resolution;this.view.height=r*this.resolution;if(this.autoResize){this.view.style.width=e+"px";this.view.style.height=r+"px"}};e.prototype.generateTexture=function t(e,r,i,n){n=n||e.getLocalBounds();var a=c.default.create(n.width|0,n.height|0,r,i);m.tx=-n.x;m.ty=-n.y;this.render(e,a,false,m,true);return a};e.prototype.destroy=function t(e){if(e&&this.view.parentNode){this.view.parentNode.removeChild(this.view)}this.type=o.RENDERER_TYPE.UNKNOWN;this.view=null;this.screen=null;this.resolution=0;this.transparent=false;this.autoResize=false;this.blendModes=null;this.options=null;this.preserveDrawingBuffer=false;this.clearBeforeRender=false;this.roundPixels=false;this._backgroundColor=0;this._backgroundColorRgba=null;this._backgroundColorString=null;this._tempDisplayObjectParent=null;this._lastObjectRendered=null};i(e,[{key:"width",get:function t(){return this.view.width}},{key:"height",get:function t(){return this.view.height}},{key:"backgroundColor",get:function t(){return this._backgroundColor},set:function t(e){this._backgroundColor=e;this._backgroundColorString=(0,n.hex2string)(e);(0,n.hex2rgb)(e,this._backgroundColorRgba)}}]);return e}(p.default);e.default=b},function(t,e,r){"use strict";e.__esModule=true;var i=r(90);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function t(){o(this,t);this.x0=0;this.y0=0;this.x1=1;this.y1=0;this.x2=1;this.y2=1;this.x3=0;this.y3=1;this.uvsUint32=new Uint32Array(4)}t.prototype.set=function t(e,r,i){var a=r.width;var o=r.height;if(i){var s=e.width/2/a;var u=e.height/2/o;var l=e.x/a+s;var h=e.y/o+u;i=n.default.add(i,n.default.NW);this.x0=l+s*n.default.uX(i);this.y0=h+u*n.default.uY(i);i=n.default.add(i,2);this.x1=l+s*n.default.uX(i);this.y1=h+u*n.default.uY(i);i=n.default.add(i,2);this.x2=l+s*n.default.uX(i);this.y2=h+u*n.default.uY(i);i=n.default.add(i,2);this.x3=l+s*n.default.uX(i);this.y3=h+u*n.default.uY(i)}else{this.x0=e.x/a;this.y0=e.y/o;this.x1=(e.x+e.width)/a;this.y1=e.y/o;this.x2=(e.x+e.width)/a;this.y2=(e.y+e.height)/o;this.x3=e.x/a;this.y3=(e.y+e.height)/o}this.uvsUint32[0]=(this.y0*65535&65535)<<16|this.x0*65535&65535;this.uvsUint32[1]=(this.y1*65535&65535)<<16|this.x1*65535&65535;this.uvsUint32[2]=(this.y2*65535&65535)<<16|this.x2*65535&65535;this.uvsUint32[3]=(this.y3*65535&65535)<<16|this.x3*65535&65535};return t}();e.default=s},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(9);var a=f(n);var o=r(2);var s=r(28);var u=r(0);var l=r(77);var h=f(l);function f(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function d(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function p(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var v=function(t){p(e,t);function e(r,i){c(this,e);if(!r){throw new Error("No video source element specified.")}if((r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height){r.complete=true}var n=d(this,t.call(this,r,i));n.width=r.videoWidth;n.height=r.videoHeight;n._autoUpdate=true;n._isAutoUpdating=false;n.autoPlay=true;n.update=n.update.bind(n);n._onCanPlay=n._onCanPlay.bind(n);r.addEventListener("play",n._onPlayStart.bind(n));r.addEventListener("pause",n._onPlayStop.bind(n));n.hasLoaded=false;n.__loaded=false;if(!n._isSourceReady()){r.addEventListener("canplay",n._onCanPlay);r.addEventListener("canplaythrough",n._onCanPlay)}else{n._onCanPlay()}return n}e.prototype._isSourcePlaying=function t(){var e=this.source;return e.currentTime>0&&e.paused===false&&e.ended===false&&e.readyState>2};e.prototype._isSourceReady=function t(){return this.source.readyState===3||this.source.readyState===4};e.prototype._onPlayStart=function t(){if(!this.hasLoaded){this._onCanPlay()}if(!this._isAutoUpdating&&this.autoUpdate){s.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH);this._isAutoUpdating=true}};e.prototype._onPlayStop=function t(){if(this._isAutoUpdating){s.shared.remove(this.update,this);this._isAutoUpdating=false}};e.prototype._onCanPlay=function t(){this.hasLoaded=true;if(this.source){this.source.removeEventListener("canplay",this._onCanPlay);this.source.removeEventListener("canplaythrough",this._onCanPlay);this.width=this.source.videoWidth;this.height=this.source.videoHeight;if(!this.__loaded){this.__loaded=true;this.emit("loaded",this)}if(this._isSourcePlaying()){this._onPlayStart()}else if(this.autoPlay){this.source.play()}}};e.prototype.destroy=function e(){if(this._isAutoUpdating){s.shared.remove(this.update,this)}if(this.source&&this.source._pixiId){a.default.removeFromCache(this.source._pixiId);delete this.source._pixiId;this.source.pause();this.source.src="";this.source.load()}t.prototype.destroy.call(this)};e.fromVideo=function t(r,i){if(!r._pixiId){r._pixiId="video_"+(0,o.uid)()}var n=o.BaseTextureCache[r._pixiId];if(!n){n=new e(r,i);a.default.addToCache(n,r._pixiId)}return n};e.fromUrl=function t(r,i,n){var a=document.createElement("video");a.setAttribute("webkit-playsinline","");a.setAttribute("playsinline","");var o=Array.isArray(r)?r[0].src||r[0]:r.src||r;if(n===undefined&&o.indexOf("data:")!==0){a.crossOrigin=(0,h.default)(o)}else if(n){a.crossOrigin=typeof n==="string"?n:"anonymous"}if(Array.isArray(r)){for(var s=0;s<r.length;++s){a.appendChild(y(r[s].src||r[s],r[s].mime))}}else{a.appendChild(y(o,r.mime))}a.load();return e.fromVideo(a,i)};i(e,[{key:"autoUpdate",get:function t(){return this._autoUpdate},set:function t(e){if(e!==this._autoUpdate){this._autoUpdate=e;if(!this._autoUpdate&&this._isAutoUpdating){s.shared.remove(this.update,this);this._isAutoUpdating=false}else if(this._autoUpdate&&!this._isAutoUpdating){s.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH);this._isAutoUpdating=true}}}}]);return e}(a.default);e.default=v;v.fromUrls=v.fromUrl;function y(t,e){if(!e){e="video/"+t.substr(t.lastIndexOf(".")+1)}var r=document.createElement("source");r.src=t;r.type=e;return r}},function(t,e,r){"use strict";e.__esModule=true;e.default=s;var i=r(17);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var o=void 0;function s(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location;if(t.indexOf("data:")===0){return""}e=e||window.location;if(!o){o=document.createElement("a")}o.href=t;t=n.default.parse(o.href);var r=!t.port&&e.port===""||t.port===e.port;if(t.hostname!==e.hostname||!r||t.protocol!==e.protocol){return"anonymous"}return""}},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(4);var a=r(32);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(){u(this,e);var r=l(this,t.call(this));r.position=new n.Point(0,0);r.scale=new n.Point(1,1);r.skew=new n.ObservablePoint(r.updateSkew,r,0,0);r.pivot=new n.Point(0,0);r._rotation=0;r._cx=1;r._sx=0;r._cy=0;r._sy=1;return r}e.prototype.updateSkew=function t(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x)};e.prototype.updateLocalTransform=function t(){var e=this.localTransform;e.a=this._cx*this.scale.x;e.b=this._sx*this.scale.x;e.c=this._cy*this.scale.y;e.d=this._sy*this.scale.y;e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c);e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)};e.prototype.updateTransform=function t(e){var r=this.localTransform;r.a=this._cx*this.scale.x;r.b=this._sx*this.scale.x;r.c=this._cy*this.scale.y;r.d=this._sy*this.scale.y;r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c);r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d);var i=e.worldTransform;var n=this.worldTransform;n.a=r.a*i.a+r.b*i.c;n.b=r.a*i.b+r.b*i.d;n.c=r.c*i.a+r.d*i.c;n.d=r.c*i.b+r.d*i.d;n.tx=r.tx*i.a+r.ty*i.c+i.tx;n.ty=r.tx*i.b+r.ty*i.d+i.ty;this._worldID++};e.prototype.setFromMatrix=function t(e){e.decompose(this)};i(e,[{key:"rotation",get:function t(){return this._rotation},set:function t(e){this._rotation=e;this.updateSkew()}}]);return e}(o.default);e.default=f},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(4);var a=r(32);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(){u(this,e);var r=l(this,t.call(this));r.position=new n.ObservablePoint(r.onChange,r,0,0);r.scale=new n.ObservablePoint(r.onChange,r,1,1);r.pivot=new n.ObservablePoint(r.onChange,r,0,0);r.skew=new n.ObservablePoint(r.updateSkew,r,0,0);r._rotation=0;r._cx=1;r._sx=0;r._cy=0;r._sy=1;r._localID=0;r._currentLocalID=0;return r}e.prototype.onChange=function t(){this._localID++};e.prototype.updateSkew=function t(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x);this._localID++};e.prototype.updateLocalTransform=function t(){var e=this.localTransform;if(this._localID!==this._currentLocalID){e.a=this._cx*this.scale._x;e.b=this._sx*this.scale._x;e.c=this._cy*this.scale._y;e.d=this._sy*this.scale._y;e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c);e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d);this._currentLocalID=this._localID;this._parentID=-1}};e.prototype.updateTransform=function t(e){var r=this.localTransform;if(this._localID!==this._currentLocalID){r.a=this._cx*this.scale._x;r.b=this._sx*this.scale._x;r.c=this._cy*this.scale._y;r.d=this._sy*this.scale._y;r.tx=this.position._x-(this.pivot._x*r.a+this.pivot._y*r.c);r.ty=this.position._y-(this.pivot._x*r.b+this.pivot._y*r.d);this._currentLocalID=this._localID;this._parentID=-1}if(this._parentID!==e._worldID){var i=e.worldTransform;var n=this.worldTransform;n.a=r.a*i.a+r.b*i.c;n.b=r.a*i.b+r.b*i.d;n.c=r.c*i.a+r.d*i.c;n.d=r.c*i.b+r.d*i.d;n.tx=r.tx*i.a+r.ty*i.c+i.tx;n.ty=r.tx*i.b+r.ty*i.d+i.ty;this._parentID=e._worldID;this._worldID++}};e.prototype.setFromMatrix=function t(e){e.decompose(this);this._localID++};i(e,[{key:"rotation",get:function t(){return this._rotation},set:function t(e){this._rotation=e;this.updateSkew()}}]);return e}(o.default);e.default=f},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(8);var a=y(n);var o=r(0);var s=r(3);var u=y(s);var l=r(79);var h=y(l);var f=r(78);var c=y(f);var d=r(34);var p=y(d);var v=r(4);function y(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function _(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function m(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var b=function(t){m(e,t);function e(){g(this,e);var r=_(this,t.call(this));var i=u.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?h.default:c.default;r.tempDisplayObjectParent=null;r.transform=new i;r.alpha=1;r.visible=true;r.renderable=true;r.parent=null;r.worldAlpha=1;r.filterArea=null;r._filters=null;r._enabledFilters=null;r._bounds=new p.default;r._boundsID=0;r._lastBoundsID=-1;r._boundsRect=null;r._localBoundsRect=null;r._mask=null;r._destroyed=false;return r}e.prototype.updateTransform=function t(){this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;this._bounds.updateID++};e.prototype._recursivePostUpdateTransform=function t(){if(this.parent){this.parent._recursivePostUpdateTransform();this.transform.updateTransform(this.parent.transform)}else{this.transform.updateTransform(this._tempDisplayObjectParent.transform)}};e.prototype.getBounds=function t(e,r){if(!e){if(!this.parent){this.parent=this._tempDisplayObjectParent;this.updateTransform();this.parent=null}else{this._recursivePostUpdateTransform();this.updateTransform()}}if(this._boundsID!==this._lastBoundsID){this.calculateBounds()}if(!r){if(!this._boundsRect){this._boundsRect=new v.Rectangle}r=this._boundsRect}return this._bounds.getRectangle(r)};e.prototype.getLocalBounds=function t(e){var r=this.transform;var i=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;if(!e){if(!this._localBoundsRect){this._localBoundsRect=new v.Rectangle}e=this._localBoundsRect}var n=this.getBounds(false,e);this.parent=i;this.transform=r;return n};e.prototype.toGlobal=function t(e,r){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!i){this._recursivePostUpdateTransform();if(!this.parent){this.parent=this._tempDisplayObjectParent;this.displayObjectUpdateTransform();this.parent=null}else{this.displayObjectUpdateTransform()}}return this.worldTransform.apply(e,r)};e.prototype.toLocal=function t(e,r,i,n){if(r){e=r.toGlobal(e,i,n)}if(!n){this._recursivePostUpdateTransform();if(!this.parent){this.parent=this._tempDisplayObjectParent;this.displayObjectUpdateTransform();this.parent=null}else{this.displayObjectUpdateTransform()}}return this.worldTransform.applyInverse(e,i)};e.prototype.renderWebGL=function t(e){};e.prototype.renderCanvas=function t(e){};e.prototype.setParent=function t(e){if(!e||!e.addChild){throw new Error("setParent: Argument must be a Container")}e.addChild(this);return e};e.prototype.setTransform=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var s=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var u=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;this.position.x=e;this.position.y=r;this.scale.x=!i?1:i;this.scale.y=!n?1:n;this.rotation=a;this.skew.x=o;this.skew.y=s;this.pivot.x=u;this.pivot.y=l;return this};e.prototype.destroy=function t(){this.removeAllListeners();if(this.parent){this.parent.removeChild(this)}this.transform=null;this.parent=null;this._bounds=null;this._currentBounds=null;this._mask=null;this.filterArea=null;this.interactive=false;this.interactiveChildren=false;this._destroyed=true};i(e,[{key:"_tempDisplayObjectParent",get:function t(){if(this.tempDisplayObjectParent===null){this.tempDisplayObjectParent=new e}return this.tempDisplayObjectParent}},{key:"x",get:function t(){return this.position.x},set:function t(e){this.transform.position.x=e}},{key:"y",get:function t(){return this.position.y},set:function t(e){this.transform.position.y=e}},{key:"worldTransform",get:function t(){return this.transform.worldTransform}},{key:"localTransform",get:function t(){return this.transform.localTransform}},{key:"position",get:function t(){return this.transform.position},set:function t(e){this.transform.position.copy(e)}},{key:"scale",get:function t(){return this.transform.scale},set:function t(e){this.transform.scale.copy(e)}},{key:"pivot",get:function t(){return this.transform.pivot},set:function t(e){this.transform.pivot.copy(e)}},{key:"skew",get:function t(){return this.transform.skew},set:function t(e){this.transform.skew.copy(e)}},{key:"rotation",get:function t(){return this.transform.rotation},set:function t(e){this.transform.rotation=e}},{key:"worldVisible",get:function t(){var e=this;do{if(!e.visible){return false}e=e.parent}while(e);return true}},{key:"mask",get:function t(){return this._mask},set:function t(e){if(this._mask){this._mask.renderable=true;this._mask.isMask=false}this._mask=e;if(this._mask){this._mask.renderable=false;this._mask.isMask=true}}},{key:"filters",get:function t(){return this._filters&&this._filters.slice()},set:function t(e){this._filters=e&&e.slice()}}]);return e}(a.default);e.default=b;b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},function(t,e){var r=function(t,e){var r={data:{}};r.gl=t;var n=Object.keys(e);for(var a=0;a<n.length;a++){var u=n[a];var l=u.split(".");var h=l[l.length-1];var f=s(l,r);var c=e[u];f.data[h]=c;f.gl=t;Object.defineProperty(f,h,{get:i(h),set:o(h,c)})}return r};var i=function(t){return function(){return this.data[t].value}};var n={float:function t(e,r,i){e.uniform1f(r,i)},vec2:function t(e,r,i){e.uniform2f(r,i[0],i[1])},vec3:function t(e,r,i){e.uniform3f(r,i[0],i[1],i[2])},vec4:function t(e,r,i){e.uniform4f(r,i[0],i[1],i[2],i[3])},int:function t(e,r,i){e.uniform1i(r,i)},ivec2:function t(e,r,i){e.uniform2i(r,i[0],i[1])},ivec3:function t(e,r,i){e.uniform3i(r,i[0],i[1],i[2])},ivec4:function t(e,r,i){e.uniform4i(r,i[0],i[1],i[2],i[3])},bool:function t(e,r,i){e.uniform1i(r,i)},bvec2:function t(e,r,i){e.uniform2i(r,i[0],i[1])},bvec3:function t(e,r,i){e.uniform3i(r,i[0],i[1],i[2])},bvec4:function t(e,r,i){e.uniform4i(r,i[0],i[1],i[2],i[3])},mat2:function t(e,r,i){e.uniformMatrix2fv(r,false,i)},mat3:function t(e,r,i){e.uniformMatrix3fv(r,false,i)},mat4:function t(e,r,i){e.uniformMatrix4fv(r,false,i)},sampler2D:function t(e,r,i){e.uniform1i(r,i)}};var a={float:function t(e,r,i){e.uniform1fv(r,i)},vec2:function t(e,r,i){e.uniform2fv(r,i)},vec3:function t(e,r,i){e.uniform3fv(r,i)},vec4:function t(e,r,i){e.uniform4fv(r,i)},int:function t(e,r,i){e.uniform1iv(r,i)},ivec2:function t(e,r,i){e.uniform2iv(r,i)},ivec3:function t(e,r,i){e.uniform3iv(r,i)},ivec4:function t(e,r,i){e.uniform4iv(r,i)},bool:function t(e,r,i){e.uniform1iv(r,i)},bvec2:function t(e,r,i){e.uniform2iv(r,i)},bvec3:function t(e,r,i){e.uniform3iv(r,i)},bvec4:function t(e,r,i){e.uniform4iv(r,i)},sampler2D:function t(e,r,i){e.uniform1iv(r,i)}};function o(t,e){return function(r){this.data[t].value=r;var i=this.data[t].location;if(e.size===1){n[e.type](this.gl,i,r)}else{a[e.type](this.gl,i,r)}}}function s(t,e){var r=e;for(var i=0;i<t.length-1;i++){var n=r[t[i]]||{data:{}};r[t[i]]=n;r=n}return r}t.exports=r},function(t,e){var r=function(t,e){if(t.substring(0,9)!=="precision"){return"precision "+e+" float;\n"+t}return t};t.exports=r},function(t,e){var r=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return false;case"bvec2":return i(2*e);case"bvec3":return i(3*e);case"bvec4":return i(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}};var i=function(t){var e=new Array(t);for(var r=0;r<e.length;r++){e[r]=false}return e};t.exports=r},function(t,e,r){var i=r(35);var n=r(83);var a=function(t,e){var r={};var a=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(var o=0;o<a;o++){var s=t.getActiveUniform(e,o);var u=s.name.replace(/\[.*?\]/,"");var l=i(t,s.type);r[u]={type:l,size:s.size,location:t.getUniformLocation(e,u),value:n(l,s.size)}}return r};t.exports=a},function(t,e){var r=function(t){return i[t]};var i={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=r},function(t,e,r){var i=r(35);var n=r(85);var a=function(t,e){var r={};var a=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(var s=0;s<a;s++){var u=t.getActiveAttrib(e,s);var l=i(t,u.type);r[u.name]={type:l,size:n(l),location:t.getAttribLocation(e,u.name),pointer:o}}return r};var o=function(t,e,r,i){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||false,r||0,i||0)};t.exports=a},function(t,e){var r=function(t,e,r,n){var a=i(t,t.VERTEX_SHADER,e);var o=i(t,t.FRAGMENT_SHADER,r);var s=t.createProgram();t.attachShader(s,a);t.attachShader(s,o);if(n){for(var u in n){t.bindAttribLocation(s,n[u],u)}}t.linkProgram(s);if(!t.getProgramParameter(s,t.LINK_STATUS)){console.error("Pixi.js Error: Could not initialize shader.");console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS));console.error("gl.getError()",t.getError());if(t.getProgramInfoLog(s)!==""){console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s))}t.deleteProgram(s);s=null}t.deleteShader(a);t.deleteShader(o);return s};var i=function(t,e,r){var i=t.createShader(e);t.shaderSource(i,r);t.compileShader(i);if(!t.getShaderParameter(i,t.COMPILE_STATUS)){console.log(t.getShaderInfoLog(i));return null}return i};t.exports=r},function(t,e){var r=function(t,e,r,i,n){this.gl=t;this.texture=t.createTexture();this.mipmap=false;this.premultiplyAlpha=false;this.width=e||-1;this.height=r||-1;this.format=i||t.RGBA;this.type=n||t.UNSIGNED_BYTE};r.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=t.videoWidth||t.width;var i=t.videoHeight||t.height;if(i!==this.height||r!==this.width){e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t)}else{e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t)}this.width=r;this.height=i};var i=false;r.prototype.uploadData=function(t,e,r){this.bind();var n=this.gl;if(t instanceof Float32Array){if(!i){var a=n.getExtension("OES_texture_float");if(a){i=true}else{throw new Error("floating point textures not available")}}this.type=n.FLOAT}else{this.type=this.type||n.UNSIGNED_BYTE}n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);if(e!==this.width||r!==this.height){n.texImage2D(n.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null)}else{n.texSubImage2D(n.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null)}this.width=e;this.height=r};r.prototype.bind=function(t){var e=this.gl;if(t!==undefined){e.activeTexture(e.TEXTURE0+t)}e.bindTexture(e.TEXTURE_2D,this.texture)};r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)};r.prototype.minFilter=function(t){var e=this.gl;this.bind();if(this.mipmap){e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST)}else{e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)}};r.prototype.magFilter=function(t){var e=this.gl;this.bind();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)};r.prototype.enableMipmap=function(){var t=this.gl;this.bind();this.mipmap=true;t.generateMipmap(t.TEXTURE_2D)};r.prototype.enableLinearScaling=function(){this.minFilter(true);this.magFilter(true)};r.prototype.enableNearestScaling=function(){this.minFilter(false);this.magFilter(false)};r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)};r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)};r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)};r.prototype.destroy=function(){var t=this.gl;t.deleteTexture(this.texture)};r.fromSource=function(t,e,i){var n=new r(t);n.premultiplyAlpha=i||false;n.upload(e);return n};r.fromData=function(t,e,i,n){var a=new r(t);a.uploadData(e,i,n);return a};t.exports=r},function(t,e){var r=function(t,e,r){var i;if(r){var n=r.tempAttribState,a=r.attribState;for(i=0;i<n.length;i++){n[i]=false}for(i=0;i<e.length;i++){n[e[i].attribute.location]=true}for(i=0;i<a.length;i++){if(a[i]!==n[i]){a[i]=n[i];if(r.attribState[i]){t.enableVertexAttribArray(i)}else{t.disableVertexAttribArray(i)}}}}else{for(i=0;i<e.length;i++){var o=e[i];t.enableVertexAttribArray(o.attribute.location)}}};t.exports=r},function(t,e,r){"use strict";e.__esModule=true;var i=r(37);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1];var s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1];var u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1];var l=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1];var h=[];var f=[];function c(t){if(t<0){return-1}if(t>0){return 1}return 0}function d(){for(var t=0;t<16;t++){var e=[];f.push(e);for(var r=0;r<16;r++){var i=c(o[t]*o[r]+u[t]*s[r]);var a=c(s[t]*o[r]+l[t]*s[r]);var d=c(o[t]*u[r]+u[t]*l[r]);var p=c(s[t]*u[r]+l[t]*l[r]);for(var v=0;v<16;v++){if(o[v]===i&&s[v]===a&&u[v]===d&&l[v]===p){e.push(v);break}}}}for(var y=0;y<16;y++){var g=new n.default;g.set(o[y],s[y],u[y],l[y],0,0);h.push(g)}}d();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function t(e){return o[e]},uY:function t(e){return s[e]},vX:function t(e){return u[e]},vY:function t(e){return l[e]},inv:function t(e){if(e&8){return e&15}return-e&7},add:function t(e,r){return f[e][r]},sub:function t(e,r){return f[e][p.inv(r)]},rotate180:function t(e){return e^4},isVertical:function t(e){return(e&3)===2},byDirection:function t(e,r){if(Math.abs(e)*2<=Math.abs(r)){if(r>=0){return p.S}return p.N}else if(Math.abs(r)*2<=Math.abs(e)){if(e>0){return p.E}return p.W}else if(r>0){if(e>0){return p.SE}return p.SW}else if(e>0){return p.NE}return p.NW},matrixAppendRotationInv:function t(e,r){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var a=h[p.inv(r)];a.tx=i;a.ty=n;e.append(a)}};e.default=p},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();function n(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(e,r){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;n(this,t);this._x=i;this._y=a;this.cb=e;this.scope=r}t.prototype.set=function t(e,r){var i=e||0;var n=r||(r!==0?i:0);if(this._x!==i||this._y!==n){this._x=i;this._y=n;this.cb.call(this.scope)}};t.prototype.copy=function t(e){if(this._x!==e.x||this._y!==e.y){this._x=e.x;this._y=e.y;this.cb.call(this.scope)}};i(t,[{key:"x",get:function t(){return this._x},set:function t(e){if(this._x!==e){this._x=e;this.cb.call(this.scope)}}},{key:"y",get:function t(){return this._y},set:function t(e){if(this._y!==e){this._y=e;this.cb.call(this.scope)}}}]);return t}();e.default=a},function(t,e,r){"use strict";var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)if(Object.hasOwnProperty.call(t,r))e[r]=t[r];e["default"]=t;return e};Object.defineProperty(e,"__esModule",{value:true});const n=i(r(195));r(41);const a=r(41);class o{constructor(){this.foods=[];this.snakes=[];this.gaussR=8;this.gauss=[];this.globZoom=1.5;this.automaticZoom=true;this.state=1;this.frameCount=0;this.lastTime=0;this.panX=0;this.panY=0;this.targetX=0;this.targetY=0;this.names=["Fred","Nicolas","Yacine","Olivia","Medhi","Christian","Laura","Guillaume","Sandrine","Lila","Sarah","Cecile","Philippe","Emmy","Florian"];let t;let e=window.location.href.toString();if(e.indexOf("Debug")>=0){console.log("test2 debug!");t=new n.Application(window.innerWidth,window.innerHeight-20,{backgroundColor:4096});document.body.appendChild(t.view);document.body.appendChild(document.createElement("br"));window.addEventListener("resize",e=>{t.renderer.resize(window.innerWidth,window.innerHeight-20)});let e=document.createElement("button");e.setAttribute("type","button");e.textContent="Stop !";e.addEventListener("click",e=>{this.socket.close();console.log("close web socket");t.stop()});let r=document.createElement("button");r.setAttribute("type","button");r.textContent="Start !";r.addEventListener("click",e=>{t.start()});let i=document.createElement("button");i.setAttribute("type","button");i.textContent="Talk";i.addEventListener("click",t=>{this.socket.send("Hello, I am alive")});document.body.appendChild(e);document.body.appendChild(r);document.body.appendChild(i)}else{console.log("test2 test!");t=new n.Application(window.innerWidth,window.innerHeight,{backgroundColor:4096});document.body.appendChild(t.view);document.body.appendChild(document.createElement("br"));window.addEventListener("resize",e=>{t.renderer.resize(window.innerWidth,window.innerHeight)})}this.foodLayer=new n.Container;t.stage.addChild(this.foodLayer);t.stage.interactive=true;t.stage.hitArea=new n.Rectangle(0,0,window.innerWidth,window.innerHeight);t.stage.on("pointerdown",()=>{console.log("pointerdown")});t.stage.on("mousedown",()=>{console.log("mousedown")});t.stage.on("mousemove",t=>{this.targetX=Math.floor(t.data.global.x+this.panX);this.targetY=Math.floor(t.data.global.y+this.panY)});console.log("talking back to the server ...");this.init(t);this.socket=new WebSocket("ws://localhost:9090/");this.socket.binaryType="arraybuffer";this.socket.onopen=(()=>{this.socket.send("Hello, I am "+this.names[0])});this.socket.onmessage=(t=>{console.log("receive msg ...");if(typeof t.data=="string"){console.log("Receive msg : "+t.data);if(t.data.startsWith("Hello back ")){}}else{console.log("receive binary "+t.data.byteLength);console.log(t.data);var e=new Uint8Array(t.data);for(var r=0;r<e.length;r++){}}});this.panX=-window.innerWidth/2;this.panY=-window.innerHeight/2;for(let e=1;e<o.NBINITIALSNAKES;e++){this.snakes[e]=new a.Snake(this,this.names[e%this.names.length],Math.max(40,400+50*(e-1)),Math.floor(100*Math.cos(e*2*Math.PI/o.NBINITIALSNAKES)),Math.floor(100*Math.sin(e*2*Math.PI/o.NBINITIALSNAKES)),e%o.colors.length,1*Math.cos((e+0)*2*Math.PI/o.NBINITIALSNAKES),1*Math.sin((e+0)*2*Math.PI/o.NBINITIALSNAKES),a.SnakeStrategy.GOBESTFOOD);t.stage.addChild(this.snakes[e].container)}this.snakes[0]=new a.Snake(this,this.names[0],500,0,0,0,10,0,a.SnakeStrategy.GOBESTFOOD);t.stage.addChild(this.snakes[0].container);for(let t=0;t<1e4;t++){let t=a.Food.newFood(this);this.foodLayer.addChild(t.sprite);this.foods.push(t)}}init(t){let e=o.IMG_SIZE;let r=s(e,e);let i=s(e,e);let a=s(e,e);let l=r.getContext("2d");let h=i.getContext("2d");let f=a.getContext("2d");let c=s(128,128);let d=l.createImageData(e,e);let p=h.createImageData(e,e);let v=f.createImageData(e,e);for(let t=0;t<e;t++){for(let r=0;r<e;r++){let i=.7*u(r,t,e/2,e/2)+.22*Math.abs(r-e/2)+.4*Math.abs(t-e/2);let n=u(r,t,e/2,e/2);let a=Math.round(e/2+(r-e/2)*(1+2*Math.sqrt(n/e/2))/3);let o=Math.round(e/2+(t-e/2)*(1+2*Math.sqrt(n/e/2))/3);let s=Math.floor(o/16)%2*8;let l=a+s;let h=u(a,o,a-l%16+8,o-o%16+8);let f=u(a,o,e/3,e/3);if(i<e/2-1){d.data[r*4+t*e*4+0]=255-f*255/e-h*4;d.data[r*4+t*e*4+1]=255-f*255/e-h*4;d.data[r*4+t*e*4+2]=255-f*255/e-h*4;d.data[r*4+t*e*4+3]=Math.min(255,r*8)}if(n<e/2){p.data[r*4+t*e*4+0]=255-f*255/e-h*4;p.data[r*4+t*e*4+1]=255-f*255/e-h*4;p.data[r*4+t*e*4+2]=255-f*255/e-h*4;p.data[r*4+t*e*4+3]=Math.max(0,Math.min(255,(e/2-n)*(255*e/4)/e))}}}for(let t=0;t<e;t++){for(let r=0;r<e;r++){let i=.6*u(r,t,e/2,e/2)+.6*Math.min(Math.abs(r-e/2),Math.abs(t-e/2));let n=u(r,t,e/3,e/3);if(i<e/3){v.data[r*4+t*e*4+0]=255-n*255/e;v.data[r*4+t*e*4+1]=255-n*255/e;v.data[r*4+t*e*4+2]=255-n*255/e;v.data[r*4+t*e*4+3]=255}}}l.putImageData(d,0,0);h.putImageData(p,0,0);f.putImageData(v,0,0);let y=[];o.texfood=n.Texture.fromCanvas(a);o.texhead=n.Texture.fromCanvas(r);o.texbody=n.Texture.fromCanvas(i);t.ticker.speed=.2;t.ticker.add(t=>{var e=new Float32Array(4);e[0]=this.targetX;e[1]=this.targetY;e[2]=this.snakes[0].speed;e[3]=9.87654321;this.socket.send(e.buffer);for(let t in this.snakes)if(t=="0"&&this.snakes[t]!=null)this.snakes[t].moveSnake(this.targetX,this.targetY);else if(this.snakes[t]!=null)this.snakes[t].moveSnake(this.snakes[t].dirX,this.snakes[t].dirY);let r=this.snakes[0].pos[0];let i=(r.x-this.panX-window.innerWidth/2)*this.globZoom+window.innerWidth/2;let n=(r.y-this.panY-window.innerHeight/2)*this.globZoom+window.innerHeight/2;let a=this.panX;let s=this.panY;if(i>window.innerWidth-o.BORDER_SIZE)this.panX=-((window.innerWidth-o.BORDER_SIZE-window.innerWidth/2)/this.globZoom+window.innerWidth/2-r.x);else if(i<o.BORDER_SIZE)this.panX=-((o.BORDER_SIZE-window.innerWidth/2)/this.globZoom+window.innerWidth/2-r.x);if(n>window.innerHeight-o.BORDER_SIZE)this.panY=-((window.innerHeight-o.BORDER_SIZE-window.innerHeight/2)/this.globZoom+window.innerHeight/2-r.y);else if(n<o.BORDER_SIZE)this.panY=-((o.BORDER_SIZE-window.innerHeight/2)/this.globZoom+window.innerHeight/2-r.y);this.targetX+=Math.floor(this.panX-a);this.targetY+=Math.floor(this.panY-s);if(this.automaticZoom)this.globZoom=.75+64/(128+this.snakes[0].size);this.foodLayer.x=-this.panX;this.foodLayer.y=-this.panY;for(let t in this.snakes)if(this.snakes[t]!=null)this.snakes[t].drawSnake(1)})}}o.BORDER_SIZE=200;o.NBINITIALSNAKES=14;o.IMG_SIZE=128;o.LOOSEWEIGHT=2;o.LOOSEWEIGHTPACE=4;o.WORLDRADIUS=1500;o.MIN_SPEED=4;o.PREF_SPEED=4;o.MAX_SPEED=8;o.MAX_TURN=Math.PI/48;o.colors=[[[0,0,255],[0,0,255],[255,255,255],[255,255,255],[255,0,0],[255,0,0]],[[96,96,255],[96,96,192],[96,96,128],[96,96,96],[96,96,128],[96,96,192]],[[255,96,0],[192,96,0],[128,96,0],[96,96,0],[128,96,0],[192,96,0]],[[0,0,255],[0,255,255],[0,255,0],[255,255,0],[255,0,0],[255,0,255]],[[0,255,0],[0,255,0],[255,0,0],[255,0,0],[255,0,0],[255,0,0]],[[0,0,0],[0,0,0],[255,0,0],[255,0,0],[255,255,0],[255,255,0]],[[255,0,0],[255,0,0],[255,0,0],[255,255,0],[255,255,0],[255,255,0]],[[255,0,0],[255,255,0],[255,0,0],[255,255,0],[255,0,0],[255,255,0]],[[255,0,0],[255,0,0],[255,255,255],[255,255,255],[0,0,255],[0,0,255]],[[255,0,0],[255,0,0],[255,255,255],[255,255,255],[255,0,255],[255,0,0]],[[0,192,0],[0,192,0],[255,255,255],[255,255,255],[255,128,0],[255,128,0]],[[0,0,0],[0,0,0],[255,255,0],[255,255,0],[255,0,0],[255,0,0]],[[255,255,255],[255,255,255],[255,255,255],[255,255,255],[255,255,255],[255,255,255]],[[0,255,0],[0,255,0],[255,255,255],[255,255,255],[255,0,0],[255,0,0]]];e.SaclaySlitherGame=o;function s(t,e){let r=document.createElement("canvas");r.width=t;r.height=e;return r}function u(t,e,r,i){let n=r-t;let a=i-e;return Math.sqrt(n*n+a*a)}e.dist=u;window.onload=(()=>{var t=new o})},,,,,,,,function(t,e,r){"use strict";e.__esModule=true;function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function t(e){i(this,t);this.maxMilliseconds=e;this.frameStart=0}t.prototype.beginFrame=function t(){this.frameStart=Date.now()};t.prototype.allowedToUpload=function t(){return Date.now()-this.frameStart<this.maxMilliseconds};return t}();e.default=n},function(t,e,r){"use strict";e.__esModule=true;var i=r(1);var n=u(i);var a=r(23);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function h(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function f(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var c=16;var d=function(t){f(e,t);function e(r){l(this,e);var i=h(this,t.call(this,r));i.uploadHookHelper=i;i.canvas=document.createElement("canvas");i.canvas.width=c;i.canvas.height=c;i.ctx=i.canvas.getContext("2d");i.registerUploadHook(p);return i}e.prototype.destroy=function e(){t.prototype.destroy.call(this);this.ctx=null;this.canvas=null};return e}(o.default);e.default=d;function p(t,e){if(e instanceof n.BaseTexture){var r=e.source;var i=r.width===0?t.canvas.width:Math.min(t.canvas.width,r.width);var a=r.height===0?t.canvas.height:Math.min(t.canvas.height,r.height);t.ctx.drawImage(r,0,0,i,a,0,0,t.canvas.width,t.canvas.height);return true}return false}n.CanvasRenderer.registerPlugin("prepare",d)},function(t,e,r){"use strict";e.__esModule=true;var i=r(1);var n=u(i);var a=r(23);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function h(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function f(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var c=function(t){f(e,t);function e(r){l(this,e);var i=h(this,t.call(this,r));i.uploadHookHelper=i.renderer;i.registerFindHook(v);i.registerUploadHook(d);i.registerUploadHook(p);return i}return e}(o.default);e.default=c;function d(t,e){if(e instanceof n.BaseTexture){if(!e._glTextures[t.CONTEXT_UID]){t.textureManager.updateTexture(e)}return true}return false}function p(t,e){if(e instanceof n.Graphics){if(e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID]){t.plugins.graphics.updateGraphics(e)}return true}return false}function v(t,e){if(t instanceof n.Graphics){e.push(t);return true}return false}n.WebGLRenderer.registerPlugin("prepare",c)},function(t,e,r){"use strict";e.__esModule=true;var i=r(102);Object.defineProperty(e,"webgl",{enumerable:true,get:function t(){return u(i).default}});var n=r(101);Object.defineProperty(e,"canvas",{enumerable:true,get:function t(){return u(n).default}});var a=r(23);Object.defineProperty(e,"BasePrepare",{enumerable:true,get:function t(){return u(a).default}});var o=r(42);Object.defineProperty(e,"CountLimiter",{enumerable:true,get:function t(){return u(o).default}});var s=r(100);Object.defineProperty(e,"TimeLimiter",{enumerable:true,get:function t(){return u(s).default}});function u(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=true;var i=r(5);var n=s(i);var a=r(25);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var l=function(){function t(e,r,i,n){u(this,t);this.gl=e;this.size=n;this.dynamicProperties=[];this.staticProperties=[];for(var a=0;a<r.length;++a){var o=r[a];o={attribute:o.attribute,size:o.size,uploadFunction:o.uploadFunction,unsignedByte:o.unsignedByte,offset:o.offset};if(i[a]){this.dynamicProperties.push(o)}else{this.staticProperties.push(o)}}this.staticStride=0;this.staticBuffer=null;this.staticData=null;this.staticDataUint32=null;this.dynamicStride=0;this.dynamicBuffer=null;this.dynamicData=null;this.dynamicDataUint32=null;this._updateID=0;this.initBuffers()}t.prototype.initBuffers=function t(){var e=this.gl;var r=0;this.indices=(0,o.default)(this.size);this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW);this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var a=this.dynamicProperties[i];a.offset=r;r+=a.size;this.dynamicStride+=a.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s);this.dynamicDataUint32=new Uint32Array(s);this.dynamicBuffer=n.default.GLBuffer.createVertexBuffer(e,s,e.STREAM_DRAW);var u=0;this.staticStride=0;for(var l=0;l<this.staticProperties.length;++l){var h=this.staticProperties[l];h.offset=u;u+=h.size;this.staticStride+=h.size}var f=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(f);this.staticDataUint32=new Uint32Array(f);this.staticBuffer=n.default.GLBuffer.createVertexBuffer(e,f,e.STATIC_DRAW);this.vao=new n.default.VertexArrayObject(e).addIndex(this.indexBuffer);for(var c=0;c<this.dynamicProperties.length;++c){var d=this.dynamicProperties[c];if(d.unsignedByte){this.vao.addAttribute(this.dynamicBuffer,d.attribute,e.UNSIGNED_BYTE,true,this.dynamicStride*4,d.offset*4)}else{this.vao.addAttribute(this.dynamicBuffer,d.attribute,e.FLOAT,false,this.dynamicStride*4,d.offset*4)}}for(var p=0;p<this.staticProperties.length;++p){var v=this.staticProperties[p];if(v.unsignedByte){this.vao.addAttribute(this.staticBuffer,v.attribute,e.UNSIGNED_BYTE,true,this.staticStride*4,v.offset*4)}else{this.vao.addAttribute(this.staticBuffer,v.attribute,e.FLOAT,false,this.staticStride*4,v.offset*4)}}};t.prototype.uploadDynamic=function t(e,r,i){for(var n=0;n<this.dynamicProperties.length;n++){var a=this.dynamicProperties[n];a.uploadFunction(e,r,i,a.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer.upload()};t.prototype.uploadStatic=function t(e,r,i){for(var n=0;n<this.staticProperties.length;n++){var a=this.staticProperties[n];a.uploadFunction(e,r,i,a.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer.upload()};t.prototype.destroy=function t(){this.dynamicProperties=null;this.dynamicBuffer.destroy();this.dynamicBuffer=null;this.dynamicData=null;this.dynamicDataUint32=null;this.staticProperties=null;this.staticBuffer.destroy();this.staticBuffer=null;this.staticData=null;this.staticDataUint32=null};return t}();e.default=l},function(t,e,r){"use strict";e.__esModule=true;var i=r(12);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function s(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var l=function(t){u(e,t);function e(r){o(this,e);return s(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return e}(n.default);e.default=l},function(t,e,r){"use strict";e.__esModule=true;var i=r(1);var n=f(i);var a=r(105);var o=h(a);var s=r(104);var u=h(s);var l=r(2);function h(t){return t&&t.__esModule?t:{default:t}}function f(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function c(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function d(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function p(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var v=function(t){p(e,t);function e(r){c(this,e);var i=d(this,t.call(this,r));i.shader=null;i.indexBuffer=null;i.properties=null;i.tempMatrix=new n.Matrix;i.CONTEXT_UID=0;return i}e.prototype.onContextChange=function t(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new o.default(e);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:true,uploadFunction:this.uploadTint,offset:0}]};e.prototype.start=function t(){this.renderer.bindShader(this.shader)};e.prototype.render=function t(e){var r=e.children;var i=e._maxSize;var a=e._batchSize;var o=this.renderer;var s=r.length;if(s===0){return}else if(s>i){s=i}var u=e._glBuffers[o.CONTEXT_UID];if(!u){u=e._glBuffers[o.CONTEXT_UID]=this.generateBuffers(e)}var l=r[0]._texture.baseTexture;this.renderer.setBlendMode(n.utils.correctBlendMode(e.blendMode,l.premultipliedAlpha));var h=o.gl;var f=e.worldTransform.copy(this.tempMatrix);f.prepend(o._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=f.toArray(true);this.shader.uniforms.uColor=n.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,l.premultipliedAlpha);this.shader.uniforms.uSampler=o.bindTexture(l);var c=false;for(var d=0,p=0;d<s;d+=a,p+=1){var v=s-d;if(v>a){v=a}if(p>=u.length){if(!e.autoResize){break}u.push(this._generateOneMoreBuffer(e))}var y=u[p];y.uploadDynamic(r,d,v);var g=e._bufferUpdateIDs[p]||0;c=c||y._updateID<g;if(c){y._updateID=e._updateID;y.uploadStatic(r,d,v)}o.bindVao(y.vao);y.vao.draw(h.TRIANGLES,v*6)}};e.prototype.generateBuffers=function t(e){var r=this.renderer.gl;var i=[];var n=e._maxSize;var a=e._batchSize;var o=e._properties;for(var s=0;s<n;s+=a){i.push(new u.default(r,this.properties,o,a))}return i};e.prototype._generateOneMoreBuffer=function t(e){var r=this.renderer.gl;var i=e._batchSize;var n=e._properties;return new u.default(r,this.properties,n,i)};e.prototype.uploadVertices=function t(e,r,i,n,a,o){var s=0;var u=0;var l=0;var h=0;for(var f=0;f<i;++f){var c=e[r+f];var d=c._texture;var p=c.scale.x;var v=c.scale.y;var y=d.trim;var g=d.orig;if(y){u=y.x-c.anchor.x*g.width;s=u+y.width;h=y.y-c.anchor.y*g.height;l=h+y.height}else{s=g.width*(1-c.anchor.x);u=g.width*-c.anchor.x;l=g.height*(1-c.anchor.y);h=g.height*-c.anchor.y}n[o]=u*p;n[o+1]=h*v;n[o+a]=s*p;n[o+a+1]=h*v;n[o+a*2]=s*p;n[o+a*2+1]=l*v;n[o+a*3]=u*p;n[o+a*3+1]=l*v;o+=a*4}};e.prototype.uploadPosition=function t(e,r,i,n,a,o){for(var s=0;s<i;s++){var u=e[r+s].position;n[o]=u.x;n[o+1]=u.y;n[o+a]=u.x;n[o+a+1]=u.y;n[o+a*2]=u.x;n[o+a*2+1]=u.y;n[o+a*3]=u.x;n[o+a*3+1]=u.y;o+=a*4}};e.prototype.uploadRotation=function t(e,r,i,n,a,o){for(var s=0;s<i;s++){var u=e[r+s].rotation;n[o]=u;n[o+a]=u;n[o+a*2]=u;n[o+a*3]=u;o+=a*4}};e.prototype.uploadUvs=function t(e,r,i,n,a,o){for(var s=0;s<i;++s){var u=e[r+s]._texture._uvs;if(u){n[o]=u.x0;n[o+1]=u.y0;n[o+a]=u.x1;n[o+a+1]=u.y1;n[o+a*2]=u.x2;n[o+a*2+1]=u.y2;n[o+a*3]=u.x3;n[o+a*3+1]=u.y3;o+=a*4}else{n[o]=0;n[o+1]=0;n[o+a]=0;n[o+a+1]=0;n[o+a*2]=0;n[o+a*2+1]=0;n[o+a*3]=0;n[o+a*3+1]=0;o+=a*4}}};e.prototype.uploadTint=function t(e,r,i,n,a,o){for(var s=0;s<i;++s){var u=e[r+s];var h=u._texture.baseTexture.premultipliedAlpha;var f=u.alpha;var c=f<1&&h?(0,l.premultiplyTint)(u._tintRGB,f):u._tintRGB+(f*255<<24);n[o]=c;n[o+a]=c;n[o+a*2]=c;n[o+a*3]=c;o+=a*4}};e.prototype.destroy=function e(){if(this.renderer.gl){this.renderer.gl.deleteBuffer(this.indexBuffer)}t.prototype.destroy.call(this);this.shader.destroy();this.indices=null;this.tempMatrix=null};return e}(n.ObjectRenderer);e.default=v;n.WebGLRenderer.registerPlugin("particle",v)},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=s(n);var o=r(2);function s(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1500;var i=arguments[1];var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:16384;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;u(this,e);var s=l(this,t.call(this));var h=16384;if(n>h){n=h}if(n>r){n=r}s._properties=[false,true,false,false,false];s._maxSize=r;s._batchSize=n;s._glBuffers={};s._bufferUpdateIDs=[];s._updateID=0;s.interactiveChildren=false;s.blendMode=a.BLEND_MODES.NORMAL;s.autoResize=o;s.roundPixels=true;s.baseTexture=null;s.setProperties(i);s._tint=0;s.tintRgb=new Float32Array(4);s.tint=16777215;return s}e.prototype.setProperties=function t(e){if(e){this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0];this._properties[1]="position"in e?!!e.position:this._properties[1];this._properties[2]="rotation"in e?!!e.rotation:this._properties[2];this._properties[3]="uvs"in e?!!e.uvs:this._properties[3];this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4]}};e.prototype.updateTransform=function t(){this.displayObjectUpdateTransform()};e.prototype.renderWebGL=function t(e){var r=this;if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable){return}if(!this.baseTexture){this.baseTexture=this.children[0]._texture.baseTexture;if(!this.baseTexture.hasLoaded){this.baseTexture.once("update",function(){return r.onChildrenChange(0)})}}e.setObjectRenderer(e.plugins.particle);e.plugins.particle.render(this)};e.prototype.onChildrenChange=function t(e){var r=Math.floor(e/this._batchSize);while(this._bufferUpdateIDs.length<r){this._bufferUpdateIDs.push(0)}this._bufferUpdateIDs[r]=++this._updateID};e.prototype.renderCanvas=function t(e){if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable){return}var r=e.context;var i=this.worldTransform;var n=true;var a=0;var o=0;var s=0;var u=0;e.setBlendMode(this.blendMode);r.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var h=this.children[l];if(!h.visible){continue}var f=h._texture.frame;r.globalAlpha=this.worldAlpha*h.alpha;if(h.rotation%(Math.PI*2)===0){if(n){r.setTransform(i.a,i.b,i.c,i.d,i.tx*e.resolution,i.ty*e.resolution);n=false}a=h.anchor.x*(-f.width*h.scale.x)+h.position.x+.5;o=h.anchor.y*(-f.height*h.scale.y)+h.position.y+.5;s=f.width*h.scale.x;u=f.height*h.scale.y}else{if(!n){n=true}h.displayObjectUpdateTransform();var c=h.worldTransform;if(e.roundPixels){r.setTransform(c.a,c.b,c.c,c.d,c.tx*e.resolution|0,c.ty*e.resolution|0)}else{r.setTransform(c.a,c.b,c.c,c.d,c.tx*e.resolution,c.ty*e.resolution)}a=h.anchor.x*-f.width+.5;o=h.anchor.y*-f.height+.5;s=f.width;u=f.height}var d=h._texture.baseTexture.resolution;r.drawImage(h._texture.baseTexture.source,f.x*d,f.y*d,f.width*d,f.height*d,a*e.resolution,o*e.resolution,s*e.resolution,u*e.resolution)}};e.prototype.destroy=function e(r){t.prototype.destroy.call(this,r);if(this._buffers){for(var i=0;i<this._buffers.length;++i){this._buffers[i].destroy()}}this._properties=null;this._buffers=null;this._bufferUpdateIDs=null};i(e,[{key:"tint",get:function t(){return this._tint},set:function t(e){this._tint=e;(0,o.hex2rgb)(e,this.tintRgb)}}]);return e}(a.Container);e.default=f},function(t,e,r){"use strict";e.__esModule=true;var i=r(107);Object.defineProperty(e,"ParticleContainer",{enumerable:true,get:function t(){return a(i).default}});var n=r(106);Object.defineProperty(e,"ParticleRenderer",{enumerable:true,get:function t(){return a(n).default}});function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=true;var i=r(10);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function s(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var l=function(t){u(e,t);function e(r,i){o(this,e);var n=s(this,t.call(this,r));n.points=i;n.vertices=new Float32Array(i.length*4);n.uvs=new Float32Array(i.length*4);n.colors=new Float32Array(i.length*2);n.indices=new Uint16Array(i.length*2);n.autoUpdate=true;n.refresh();return n}e.prototype._refresh=function t(){var e=this.points;if(e.length<1||!this._texture._uvs){return}if(this.vertices.length/4!==e.length){this.vertices=new Float32Array(e.length*4);this.uvs=new Float32Array(e.length*4);this.colors=new Float32Array(e.length*2);this.indices=new Uint16Array(e.length*2)}var r=this.uvs;var i=this.indices;var n=this.colors;r[0]=0;r[1]=0;r[2]=0;r[3]=1;n[0]=1;n[1]=1;i[0]=0;i[1]=1;var a=e.length;for(var o=1;o<a;o++){var s=o*4;var u=o/(a-1);r[s]=u;r[s+1]=0;r[s+2]=u;r[s+3]=1;s=o*2;n[s]=1;n[s+1]=1;s=o*2;i[s]=s;i[s+1]=s+1}this.dirty++;this.indexDirty++;this.multiplyUvs();this.refreshVertices()};e.prototype.refreshVertices=function t(){var e=this.points;if(e.length<1){return}var r=e[0];var i=void 0;var n=0;var a=0;var o=this.vertices;var s=e.length;for(var u=0;u<s;u++){var l=e[u];var h=u*4;if(u<e.length-1){i=e[u+1]}else{i=l}a=-(i.x-r.x);n=i.y-r.y;var f=(1-u/(s-1))*10;if(f>1){f=1}var c=Math.sqrt(n*n+a*a);var d=this._texture.height/2;n/=c;a/=c;n*=d;a*=d;o[h]=l.x+n;o[h+1]=l.y+a;o[h+2]=l.x-n;o[h+3]=l.y-a;r=l}};e.prototype.updateTransform=function t(){if(this.autoUpdate){this.refreshVertices()}this.containerUpdateTransform()};return e}(n.default);e.default=l},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(43);var a=o(n);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function u(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function l(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var h=10;var f=function(t){l(e,t);function e(r,i,n,a,o){s(this,e);var l=u(this,t.call(this,r,4,4));l._origWidth=r.orig.width;l._origHeight=r.orig.height;l._width=l._origWidth;l._height=l._origHeight;l._leftWidth=typeof i!=="undefined"?i:h;l._rightWidth=typeof a!=="undefined"?a:h;l._topHeight=typeof n!=="undefined"?n:h;l._bottomHeight=typeof o!=="undefined"?o:h;l.refresh(true);return l}e.prototype.updateHorizontalVertices=function t(){var e=this.vertices;var r=this._topHeight+this._bottomHeight;var i=this._height>r?1:this._height/r;e[9]=e[11]=e[13]=e[15]=this._topHeight*i;e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*i;e[25]=e[27]=e[29]=e[31]=this._height};e.prototype.updateVerticalVertices=function t(){var e=this.vertices;var r=this._leftWidth+this._rightWidth;var i=this._width>r?1:this._width/r;e[2]=e[10]=e[18]=e[26]=this._leftWidth*i;e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*i;e[6]=e[14]=e[22]=e[30]=this._width};e.prototype._renderCanvas=function t(e){var r=e.context;r.globalAlpha=this.worldAlpha;e.setBlendMode(this.blendMode);var i=this.worldTransform;var n=e.resolution;if(e.roundPixels){r.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n|0,i.ty*n|0)}else{r.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n)}var a=this._texture.baseTexture;var o=a.source;var s=a.width*a.resolution;var u=a.height*a.resolution;this.drawSegment(r,o,s,u,0,1,10,11);this.drawSegment(r,o,s,u,2,3,12,13);this.drawSegment(r,o,s,u,4,5,14,15);this.drawSegment(r,o,s,u,8,9,18,19);this.drawSegment(r,o,s,u,10,11,20,21);this.drawSegment(r,o,s,u,12,13,22,23);this.drawSegment(r,o,s,u,16,17,26,27);this.drawSegment(r,o,s,u,18,19,28,29);this.drawSegment(r,o,s,u,20,21,30,31)};e.prototype.drawSegment=function t(e,r,i,n,a,o,s,u){var l=this.uvs;var h=this.vertices;var f=(l[s]-l[a])*i;var c=(l[u]-l[o])*n;var d=h[s]-h[a];var p=h[u]-h[o];if(f<1){f=1}if(c<1){c=1}if(d<1){d=1}if(p<1){p=1}e.drawImage(r,l[a]*i,l[o]*n,f,c,h[a],h[o],d,p)};e.prototype._refresh=function e(){t.prototype._refresh.call(this);var r=this.uvs;var i=this._texture;this._origWidth=i.orig.width;this._origHeight=i.orig.height;var n=1/this._origWidth;var a=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0;r[1]=r[3]=r[5]=r[7]=0;r[6]=r[14]=r[22]=r[30]=1;r[25]=r[27]=r[29]=r[31]=1;r[2]=r[10]=r[18]=r[26]=n*this._leftWidth;r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth;r[9]=r[11]=r[13]=r[15]=a*this._topHeight;r[17]=r[19]=r[21]=r[23]=1-a*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.dirty++;this.multiplyUvs()};i(e,[{key:"width",get:function t(){return this._width},set:function t(e){this._width=e;this._refresh()}},{key:"height",get:function t(){return this._height},set:function t(e){this._height=e;this._refresh()}},{key:"leftWidth",get:function t(){return this._leftWidth},set:function t(e){this._leftWidth=e;this._refresh()}},{key:"rightWidth",get:function t(){return this._rightWidth},set:function t(e){this._rightWidth=e;this._refresh()}},{key:"topHeight",get:function t(){return this._topHeight},set:function t(e){this._topHeight=e;this._refresh()}},{key:"bottomHeight",get:function t(){return this._bottomHeight},set:function t(e){this._bottomHeight=e;this._refresh()}}]);return e}(a.default);e.default=f},function(t,e,r){"use strict";e.__esModule=true;var i=r(1);var n=u(i);var a=r(10);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var h=function(){function t(e){l(this,t);this.renderer=e}t.prototype.render=function t(e){var r=this.renderer;var i=r.context;var n=e.worldTransform;var a=r.resolution;if(r.roundPixels){i.setTransform(n.a*a,n.b*a,n.c*a,n.d*a,n.tx*a|0,n.ty*a|0)}else{i.setTransform(n.a*a,n.b*a,n.c*a,n.d*a,n.tx*a,n.ty*a)}r.context.globalAlpha=e.worldAlpha;r.setBlendMode(e.blendMode);if(e.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH){this._renderTriangleMesh(e)}else{this._renderTriangles(e)}};t.prototype._renderTriangleMesh=function t(e){var r=e.vertices.length/2;for(var i=0;i<r-2;i++){var n=i*2;this._renderDrawTriangle(e,n,n+2,n+4)}};t.prototype._renderTriangles=function t(e){var r=e.indices;var i=r.length;for(var n=0;n<i;n+=3){var a=r[n]*2;var o=r[n+1]*2;var s=r[n+2]*2;this._renderDrawTriangle(e,a,o,s)}};t.prototype._renderDrawTriangle=function t(e,r,i,n){var a=this.renderer.context;var o=e.uvs;var s=e.vertices;var u=e._texture;if(!u.valid){return}var l=u.baseTexture;var h=l.source;var f=l.width;var c=l.height;var d=void 0;var p=void 0;var v=void 0;var y=void 0;var g=void 0;var _=void 0;if(e.uploadUvTransform){var m=e._uvTransform.mapCoord;d=(o[r]*m.a+o[r+1]*m.c+m.tx)*l.width;p=(o[i]*m.a+o[i+1]*m.c+m.tx)*l.width;v=(o[n]*m.a+o[n+1]*m.c+m.tx)*l.width;y=(o[r]*m.b+o[r+1]*m.d+m.ty)*l.height;g=(o[i]*m.b+o[i+1]*m.d+m.ty)*l.height;_=(o[n]*m.b+o[n+1]*m.d+m.ty)*l.height}else{d=o[r]*l.width;p=o[i]*l.width;v=o[n]*l.width;y=o[r+1]*l.height;g=o[i+1]*l.height;_=o[n+1]*l.height}var b=s[r];var x=s[i];var T=s[n];var w=s[r+1];var E=s[i+1];var S=s[n+1];var O=e.canvasPadding/this.renderer.resolution;if(O>0){var M=O/Math.abs(e.worldTransform.a);var P=O/Math.abs(e.worldTransform.d);var C=(b+x+T)/3;var A=(w+E+S)/3;var I=b-C;var R=w-A;var D=Math.sqrt(I*I+R*R);b=C+I/D*(D+M);w=A+R/D*(D+P);I=x-C;R=E-A;D=Math.sqrt(I*I+R*R);x=C+I/D*(D+M);E=A+R/D*(D+P);I=T-C;R=S-A;D=Math.sqrt(I*I+R*R);T=C+I/D*(D+M);S=A+R/D*(D+P)}a.save();a.beginPath();a.moveTo(b,w);a.lineTo(x,E);a.lineTo(T,S);a.closePath();a.clip();var L=d*g+y*v+p*_-g*v-y*p-d*_;var N=b*g+y*T+x*_-g*T-y*x-b*_;var k=d*x+b*v+p*T-x*v-b*p-d*T;var F=d*g*T+y*x*v+b*p*_-b*g*v-y*p*T-d*x*_;var B=w*g+y*S+E*_-g*S-y*E-w*_;var U=d*E+w*v+p*S-E*v-w*p-d*S;var j=d*g*S+y*E*v+w*p*_-w*g*v-y*p*S-d*E*_;a.transform(N/L,B/L,k/L,U/L,F/L,j/L);a.drawImage(h,0,0,f*l.resolution,c*l.resolution,0,0,f,c);a.restore();this.renderer.invalidateBlendMode()};t.prototype.renderMeshFlat=function t(e){var r=this.renderer.context;var i=e.vertices;var n=i.length/2;r.beginPath();for(var a=1;a<n-2;++a){var o=a*2;var s=i[o];var u=i[o+1];var l=i[o+2];var h=i[o+3];var f=i[o+4];var c=i[o+5];r.moveTo(s,u);r.lineTo(l,h);r.lineTo(f,c)}r.fillStyle="#FF0000";r.fill();r.closePath()};t.prototype.destroy=function t(){this.renderer=null};return t}();e.default=h;n.CanvasRenderer.registerPlugin("mesh",h)},function(t,e,r){"use strict";e.__esModule=true;var i=r(1);var n=f(i);var a=r(5);var o=h(a);var s=r(10);var u=h(s);var l=r(6);function h(t){return t&&t.__esModule?t:{default:t}}function f(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function c(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function d(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function p(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var v=n.Matrix.IDENTITY;var y=function(t){p(e,t);function e(r){c(this,e);var i=d(this,t.call(this,r));i.shader=null;return i}e.prototype.onContextChange=function t(){var e=this.renderer.gl;this.shader=new n.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")};e.prototype.render=function t(e){var r=this.renderer;var i=r.gl;var a=e._texture;if(!a.valid){return}var s=e._glDatas[r.CONTEXT_UID];if(!s){r.bindVao(null);s={shader:this.shader,vertexBuffer:o.default.GLBuffer.createVertexBuffer(i,e.vertices,i.STREAM_DRAW),uvBuffer:o.default.GLBuffer.createVertexBuffer(i,e.uvs,i.STREAM_DRAW),indexBuffer:o.default.GLBuffer.createIndexBuffer(i,e.indices,i.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty,vertexDirty:e.vertexDirty};s.vao=new o.default.VertexArrayObject(i).addIndex(s.indexBuffer).addAttribute(s.vertexBuffer,s.shader.attributes.aVertexPosition,i.FLOAT,false,2*4,0).addAttribute(s.uvBuffer,s.shader.attributes.aTextureCoord,i.FLOAT,false,2*4,0);e._glDatas[r.CONTEXT_UID]=s}r.bindVao(s.vao);if(e.dirty!==s.dirty){s.dirty=e.dirty;s.uvBuffer.upload(e.uvs)}if(e.indexDirty!==s.indexDirty){s.indexDirty=e.indexDirty;s.indexBuffer.upload(e.indices)}if(e.vertexDirty!==s.vertexDirty){s.vertexDirty=e.vertexDirty;s.vertexBuffer.upload(e.vertices)}r.bindShader(s.shader);s.shader.uniforms.uSampler=r.bindTexture(a);r.state.setBlendMode(n.utils.correctBlendMode(e.blendMode,a.baseTexture.premultipliedAlpha));if(s.shader.uniforms.uTransform){if(e.uploadUvTransform){s.shader.uniforms.uTransform=e._uvTransform.mapCoord.toArray(true)}else{s.shader.uniforms.uTransform=v.toArray(true)}}s.shader.uniforms.translationMatrix=e.worldTransform.toArray(true);s.shader.uniforms.uColor=n.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,s.shader.uniforms.uColor,a.baseTexture.premultipliedAlpha);var l=e.drawMode===u.default.DRAW_MODES.TRIANGLE_MESH?i.TRIANGLE_STRIP:i.TRIANGLES;s.vao.draw(l,e.indices.length,0)};return e}(n.ObjectRenderer);e.default=y;n.WebGLRenderer.registerPlugin("mesh",y)},function(t,e,r){"use strict";e.__esModule=true;var i=r(10);Object.defineProperty(e,"Mesh",{enumerable:true,get:function t(){return l(i).default}});var n=r(112);Object.defineProperty(e,"MeshRenderer",{enumerable:true,get:function t(){return l(n).default}});var a=r(111);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:true,get:function t(){return l(a).default}});var o=r(43);Object.defineProperty(e,"Plane",{enumerable:true,get:function t(){return l(o).default}});var s=r(110);Object.defineProperty(e,"NineSlicePlane",{enumerable:true,get:function t(){return l(s).default}});var u=r(109);Object.defineProperty(e,"Rope",{enumerable:true,get:function t(){return l(u).default}});function l(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=true;var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=h;var n=r(24);var a=u(n);var o=r(46);var s=u(o);function u(t){return t&&t.__esModule?t:{default:t}}var l=window.URL||window.webkitURL;function h(){return function t(e,r){if(!e.data){r();return}if(e.xhr&&e.xhrType===a.default.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof e.data==="string"){var n=e.xhr.getResponseHeader("content-type");if(n&&n.indexOf("image")===0){e.data=new Image;e.data.src="data:"+n+";base64,"+s.default.encodeBinary(e.xhr.responseText);e.type=a.default.TYPE.IMAGE;e.data.onload=function(){e.data.onload=null;r()};return}}else if(e.data.type.indexOf("image")===0){var o=function(){var t=l.createObjectURL(e.data);e.blob=e.data;e.data=new Image;e.data.src=t;e.type=a.default.TYPE.IMAGE;e.data.onload=function(){l.revokeObjectURL(t);e.data.onload=null;r()};return{v:void 0}}();if((typeof o==="undefined"?"undefined":i(o))==="object")return o.v}}r()}}},function(t,e,r){"use strict";e.__esModule=true;var i=r(11);var n=p(i);var a=r(114);var o=r(8);var s=p(o);var u=r(44);var l=p(u);var h=r(45);var f=p(h);var c=r(50);var d=p(c);function p(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function y(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function g(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var _=function(t){g(e,t);function e(r,i){v(this,e);var n=y(this,t.call(this,r,i));s.default.call(n);for(var a=0;a<e._pixiMiddleware.length;++a){n.use(e._pixiMiddleware[a]())}n.onStart.add(function(t){return n.emit("start",t)});n.onProgress.add(function(t,e){return n.emit("progress",t,e)});n.onError.add(function(t,e,r){return n.emit("error",t,e,r)});n.onLoad.add(function(t,e){return n.emit("load",t,e)});n.onComplete.add(function(t,e){return n.emit("complete",t,e)});return n}e.addPixiMiddleware=function t(r){e._pixiMiddleware.push(r)};e.prototype.destroy=function t(){this.removeAllListeners();this.reset()};return e}(n.default);e.default=_;for(var m in s.default.prototype){_.prototype[m]=s.default.prototype[m]}_._pixiMiddleware=[a.blobMiddlewareFactory,l.default,f.default,d.default];var b=n.default.Resource;b.setExtensionXhrType("fnt",b.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,r){"use strict";e.__esModule=true;var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var a=r(49);var o=p(a);var s=r(48);var u=p(s);var l=r(47);var h=d(l);var f=r(24);var c=p(f);function d(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function p(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var y=100;var g=/(#[\w-]+)?$/;var _=function(){function t(){var e=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;v(this,t);this.baseUrl=r;this.progress=0;this.loading=false;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(t,r){return e._loadResource(t,r)};this._queue=h.queue(this._boundLoadResource,i);this._queue.pause();this.resources={};this.onProgress=new o.default;this.onError=new o.default;this.onLoad=new o.default;this.onStart=new o.default;this.onComplete=new o.default}t.prototype.add=function t(e,r,n,a){if(Array.isArray(e)){for(var o=0;o<e.length;++o){this.add(e[o])}return this}if((typeof e==="undefined"?"undefined":i(e))==="object"){a=r||e.callback||e.onComplete;n=e;r=e.url;e=e.name||e.key||e.url}if(typeof r!=="string"){a=n;n=r;r=e}if(typeof r!=="string"){throw new Error("No url passed to add resource to loader.")}if(typeof n==="function"){a=n;n=null}if(this.loading&&(!n||!n.parentResource)){throw new Error("Cannot add resources while the loader is running.")}if(this.resources[e]){throw new Error('Resource named "'+e+'" already exists.')}r=this._prepareUrl(r);this.resources[e]=new c.default(e,r,n);if(typeof a==="function"){this.resources[e].onAfterMiddleware.once(a)}if(this.loading){var s=n.parentResource;var u=[];for(var l=0;l<s.children.length;++l){if(!s.children[l].isComplete){u.push(s.children[l])}}var h=s.progressChunk*(u.length+1);var f=h/(u.length+2);s.children.push(this.resources[e]);s.progressChunk=f;for(var d=0;d<u.length;++d){u[d].progressChunk=f}this.resources[e].progressChunk=f}this._queue.push(this.resources[e]);return this};t.prototype.pre=function t(e){this._beforeMiddleware.push(e);return this};t.prototype.use=function t(e){this._afterMiddleware.push(e);return this};t.prototype.reset=function t(){this.progress=0;this.loading=false;this._queue.kill();this._queue.pause();for(var e in this.resources){var r=this.resources[e];if(r._onLoadBinding){r._onLoadBinding.detach()}if(r.isLoading){r.abort()}}this.resources={};return this};t.prototype.load=function t(e){if(typeof e==="function"){this.onComplete.once(e)}if(this.loading){return this}if(this._queue.idle()){this._onStart();this._onComplete()}else{var r=this._queue._tasks.length;var i=100/r;for(var n=0;n<this._queue._tasks.length;++n){this._queue._tasks[n].data.progressChunk=i}this._onStart();this._queue.resume()}return this};t.prototype._prepareUrl=function t(e){var r=(0,u.default)(e,{strictMode:true});var i=void 0;if(r.protocol||!r.path||e.indexOf("//")===0){i=e}else if(this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"){i=this.baseUrl+"/"+e}else{i=this.baseUrl+e}if(this.defaultQueryString){var n=g.exec(i)[0];i=i.substr(0,i.length-n.length);if(i.indexOf("?")!==-1){i+="&"+this.defaultQueryString}else{i+="?"+this.defaultQueryString}i+=n}return i};t.prototype._loadResource=function t(e,r){var i=this;e._dequeue=r;h.eachSeries(this._beforeMiddleware,function(t,r){t.call(i,e,function(){r(e.isComplete?{}:null)})},function(){if(e.isComplete){i._onLoad(e)}else{e._onLoadBinding=e.onComplete.once(i._onLoad,i);e.load()}},true)};t.prototype._onStart=function t(){this.progress=0;this.loading=true;this.onStart.dispatch(this)};t.prototype._onComplete=function t(){this.progress=y;this.loading=false;this.onComplete.dispatch(this,this.resources)};t.prototype._onLoad=function t(e){var r=this;e._onLoadBinding=null;this._resourcesParsing.push(e);e._dequeue();h.eachSeries(this._afterMiddleware,function(t,i){t.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e);r.progress+=e.progressChunk;r.onProgress.dispatch(r,e);if(e.error){r.onError.dispatch(e.error,r,e)}else{r.onLoad.dispatch(r,e)}r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1);if(r._queue.idle()&&r._resourcesParsing.length===0){r._onComplete()}},true)};n(t,[{key:"concurrency",get:function t(){return this._queue.concurrency},set:function t(e){this._queue.concurrency=e}}]);return t}();e.default=_},function(t,e,r){"use strict";e.__esModule=true;e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=undefined;var i=r(50);Object.defineProperty(e,"bitmapFontParser",{enumerable:true,get:function t(){return f(i).default}});Object.defineProperty(e,"parseBitmapFontData",{enumerable:true,get:function t(){return i.parse}});var n=r(45);Object.defineProperty(e,"spritesheetParser",{enumerable:true,get:function t(){return f(n).default}});Object.defineProperty(e,"getResourcePath",{enumerable:true,get:function t(){return n.getResourcePath}});var a=r(44);Object.defineProperty(e,"textureParser",{enumerable:true,get:function t(){return f(a).default}});var o=r(11);Object.defineProperty(e,"Resource",{enumerable:true,get:function t(){return o.Resource}});var s=r(63);var u=f(s);var l=r(115);var h=f(l);function f(t){return t&&t.__esModule?t:{default:t}}e.Loader=h.default;var c=new h.default;c.destroy=function(){};e.shared=c;var d=u.default.prototype;d._loader=null;Object.defineProperty(d,"loader",{get:function t(){if(!this._loader){var e=this._options.sharedLoader;this._loader=e?c:new h.default}return this._loader}});d._parentDestroy=d.destroy;d.destroy=function t(e,r){if(this._loader){this._loader.destroy();this._loader=null}this._parentDestroy(e,r)}},function(t,e,r){"use strict";e.__esModule=true;var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var n=r(1);var a=g(n);var o=r(54);var s=y(o);var u=r(53);var l=y(u);var h=r(52);var f=y(h);var c=r(8);var d=y(c);var p=r(51);var v=y(p);function y(t){return t&&t.__esModule?t:{default:t}}function g(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function _(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function m(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function b(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}a.utils.mixins.delayMixin(a.DisplayObject.prototype,v.default);var x=1;var T={target:null,data:{global:null}};var w=function(t){b(e,t);function e(r,i){_(this,e);var n=m(this,t.call(this));i=i||{};n.renderer=r;n.autoPreventDefault=i.autoPreventDefault!==undefined?i.autoPreventDefault:true;n.interactionFrequency=i.interactionFrequency||10;n.mouse=new s.default;n.mouse.identifier=x;n.mouse.global.set(-999999);n.activeInteractionData={};n.activeInteractionData[x]=n.mouse;n.interactionDataPool=[];n.eventData=new l.default;n.interactionDOMElement=null;n.moveWhenInside=false;n.eventsAdded=false;n.mouseOverRenderer=false;n.supportsTouchEvents="ontouchstart"in window;n.supportsPointerEvents=!!window.PointerEvent;n.onPointerUp=n.onPointerUp.bind(n);n.processPointerUp=n.processPointerUp.bind(n);n.onPointerCancel=n.onPointerCancel.bind(n);n.processPointerCancel=n.processPointerCancel.bind(n);n.onPointerDown=n.onPointerDown.bind(n);n.processPointerDown=n.processPointerDown.bind(n);n.onPointerMove=n.onPointerMove.bind(n);n.processPointerMove=n.processPointerMove.bind(n);n.onPointerOut=n.onPointerOut.bind(n);n.processPointerOverOut=n.processPointerOverOut.bind(n);n.onPointerOver=n.onPointerOver.bind(n);n.cursorStyles={default:"inherit",pointer:"pointer"};n.currentCursorMode=null;n.cursor=null;n._tempPoint=new a.Point;n.resolution=1;n.setTargetElement(n.renderer.view,n.renderer.resolution);return n}e.prototype.hitTest=function t(e,r){T.target=null;T.data.global=e;if(!r){r=this.renderer._lastObjectRendered}this.processInteractive(T,r,null,true);return T.target};e.prototype.setTargetElement=function t(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this.removeEvents();this.interactionDOMElement=e;this.resolution=r;this.addEvents()};e.prototype.addEvents=function t(){if(!this.interactionDOMElement){return}a.ticker.shared.add(this.update,this,a.UPDATE_PRIORITY.INTERACTION);if(window.navigator.msPointerEnabled){this.interactionDOMElement.style["-ms-content-zooming"]="none";this.interactionDOMElement.style["-ms-touch-action"]="none"}else if(this.supportsPointerEvents){this.interactionDOMElement.style["touch-action"]="none"}if(this.supportsPointerEvents){window.document.addEventListener("pointermove",this.onPointerMove,true);this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,true);this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,true);this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,true);window.addEventListener("pointercancel",this.onPointerCancel,true);window.addEventListener("pointerup",this.onPointerUp,true)}else{window.document.addEventListener("mousemove",this.onPointerMove,true);this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,true);this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,true);this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,true);window.addEventListener("mouseup",this.onPointerUp,true)}if(this.supportsTouchEvents){this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,true);this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,true);this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,true);this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,true)}this.eventsAdded=true};e.prototype.removeEvents=function t(){if(!this.interactionDOMElement){return}a.ticker.shared.remove(this.update,this);if(window.navigator.msPointerEnabled){this.interactionDOMElement.style["-ms-content-zooming"]="";this.interactionDOMElement.style["-ms-touch-action"]=""}else if(this.supportsPointerEvents){this.interactionDOMElement.style["touch-action"]=""}if(this.supportsPointerEvents){window.document.removeEventListener("pointermove",this.onPointerMove,true);this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,true);this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,true);window.removeEventListener("pointercancel",this.onPointerCancel,true);window.removeEventListener("pointerup",this.onPointerUp,true)}else{window.document.removeEventListener("mousemove",this.onPointerMove,true);this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,true);this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,true);window.removeEventListener("mouseup",this.onPointerUp,true)}if(this.supportsTouchEvents){this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,true);this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,true);this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,true)}this.interactionDOMElement=null;this.eventsAdded=false};e.prototype.update=function t(e){this._deltaTime+=e;if(this._deltaTime<this.interactionFrequency){return}this._deltaTime=0;if(!this.interactionDOMElement){return}if(this.didMove){this.didMove=false;return}this.cursor=null;for(var r in this.activeInteractionData){if(this.activeInteractionData.hasOwnProperty(r)){var i=this.activeInteractionData[r];if(i.originalEvent&&i.pointerType!=="touch"){var n=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,true)}}}this.setCursorMode(this.cursor)};e.prototype.setCursorMode=function t(e){e=e||"default";if(this.currentCursorMode===e){return}this.currentCursorMode=e;var r=this.cursorStyles[e];if(r){switch(typeof r==="undefined"?"undefined":i(r)){case"string":this.interactionDOMElement.style.cursor=r;break;case"function":r(e);break;case"object":Object.assign(this.interactionDOMElement.style,r);break}}else if(typeof e==="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)){this.interactionDOMElement.style.cursor=e}};e.prototype.dispatchEvent=function t(e,r,i){if(!i.stopped){i.currentTarget=e;i.type=r;e.emit(r,i);if(e[r]){e[r](i)}}};e.prototype.mapPositionToPoint=function t(e,r,i){var n=void 0;if(!this.interactionDOMElement.parentElement){n={x:0,y:0,width:0,height:0}}else{n=this.interactionDOMElement.getBoundingClientRect()}var a=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(r-n.left)*(this.interactionDOMElement.width/n.width)*a;e.y=(i-n.top)*(this.interactionDOMElement.height/n.height)*a};e.prototype.processInteractive=function t(e,r,i,n,a){if(!r||!r.visible){return false}var o=e.data.global;a=r.interactive||a;var s=false;var u=a;var l=true;if(r.hitArea){if(n){r.worldTransform.applyInverse(o,this._tempPoint);if(!r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)){n=false;l=false}else{s=true}}u=false}else if(r._mask){if(n){if(!r._mask.containsPoint(o)){n=false;l=false}}}if(l&&r.interactiveChildren&&r.children){var h=r.children;for(var f=h.length-1;f>=0;f--){var c=h[f];var d=this.processInteractive(e,c,i,n,u);if(d){if(!c.parent){continue}u=false;if(d){if(e.target){n=false}s=true}}}}if(a){if(n&&!e.target){if(!r.hitArea&&r.containsPoint){if(r.containsPoint(o)){s=true}}}if(r.interactive){if(s&&!e.target){e.target=r}if(i){i(e,r,!!s)}}}return s};e.prototype.onPointerDown=function t(e){if(this.supportsTouchEvents&&e.pointerType==="touch")return;var r=this.normalizeToPointerData(e);if(this.autoPreventDefault&&r[0].isNormalized){e.preventDefault()}var i=r.length;for(var n=0;n<i;n++){var a=r[n];var o=this.getInteractionDataForPointerId(a);var s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=e;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,true);this.emit("pointerdown",s);if(a.pointerType==="touch"){this.emit("touchstart",s)}else if(a.pointerType==="mouse"||a.pointerType==="pen"){var u=a.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}};e.prototype.processPointerDown=function t(e,r,i){var n=e.data;var a=e.data.identifier;if(i){if(!r.trackedPointers[a]){r.trackedPointers[a]=new f.default(a)}this.dispatchEvent(r,"pointerdown",e);if(n.pointerType==="touch"){this.dispatchEvent(r,"touchstart",e)}else if(n.pointerType==="mouse"||n.pointerType==="pen"){var o=n.button===2;if(o){r.trackedPointers[a].rightDown=true}else{r.trackedPointers[a].leftDown=true}this.dispatchEvent(r,o?"rightdown":"mousedown",e)}}};e.prototype.onPointerComplete=function t(e,r,i){var n=this.normalizeToPointerData(e);var a=n.length;var o=e.target!==this.interactionDOMElement?"outside":"";for(var s=0;s<a;s++){var u=n[s];var l=this.getInteractionDataForPointerId(u);var h=this.configureInteractionEventForDOMEvent(this.eventData,u,l);h.data.originalEvent=e;this.processInteractive(h,this.renderer._lastObjectRendered,i,r||!o);this.emit(r?"pointercancel":"pointerup"+o,h);if(u.pointerType==="mouse"||u.pointerType==="pen"){var f=u.button===2;this.emit(f?"rightup"+o:"mouseup"+o,h)}else if(u.pointerType==="touch"){this.emit(r?"touchcancel":"touchend"+o,h);this.releaseInteractionDataForPointerId(u.pointerId,l)}}};e.prototype.onPointerCancel=function t(e){if(this.supportsTouchEvents&&e.pointerType==="touch")return;this.onPointerComplete(e,true,this.processPointerCancel)};e.prototype.processPointerCancel=function t(e,r){var i=e.data;var n=e.data.identifier;if(r.trackedPointers[n]!==undefined){delete r.trackedPointers[n];this.dispatchEvent(r,"pointercancel",e);if(i.pointerType==="touch"){this.dispatchEvent(r,"touchcancel",e)}}};e.prototype.onPointerUp=function t(e){if(this.supportsTouchEvents&&e.pointerType==="touch")return;this.onPointerComplete(e,false,this.processPointerUp)};e.prototype.processPointerUp=function t(e,r,i){var n=e.data;var a=e.data.identifier;var o=r.trackedPointers[a];var s=n.pointerType==="touch";var u=n.pointerType==="mouse"||n.pointerType==="pen";var l=false;if(u){var h=n.button===2;var c=f.default.FLAGS;var d=h?c.RIGHT_DOWN:c.LEFT_DOWN;var p=o!==undefined&&o.flags&d;if(i){this.dispatchEvent(r,h?"rightup":"mouseup",e);if(p){this.dispatchEvent(r,h?"rightclick":"click",e);l=true}}else if(p){this.dispatchEvent(r,h?"rightupoutside":"mouseupoutside",e)}if(o){if(h){o.rightDown=false}else{o.leftDown=false}}}if(i){this.dispatchEvent(r,"pointerup",e);if(s)this.dispatchEvent(r,"touchend",e);if(o){if(!u||l){this.dispatchEvent(r,"pointertap",e)}if(s){this.dispatchEvent(r,"tap",e);o.over=false}}}else if(o){this.dispatchEvent(r,"pointerupoutside",e);if(s)this.dispatchEvent(r,"touchendoutside",e)}if(o&&o.none){delete r.trackedPointers[a]}};e.prototype.onPointerMove=function t(e){if(this.supportsTouchEvents&&e.pointerType==="touch")return;var r=this.normalizeToPointerData(e);if(r[0].pointerType==="mouse"||r[0].pointerType==="pen"){this.didMove=true;this.cursor=null}var i=r.length;for(var n=0;n<i;n++){var a=r[n];var o=this.getInteractionDataForPointerId(a);var s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=e;var u=a.pointerType==="touch"?this.moveWhenInside:true;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,u);this.emit("pointermove",s);if(a.pointerType==="touch")this.emit("touchmove",s);if(a.pointerType==="mouse"||a.pointerType==="pen")this.emit("mousemove",s)}if(r[0].pointerType==="mouse"){this.setCursorMode(this.cursor)}};e.prototype.processPointerMove=function t(e,r,i){var n=e.data;var a=n.pointerType==="touch";var o=n.pointerType==="mouse"||n.pointerType==="pen";if(o){this.processPointerOverOut(e,r,i)}if(!this.moveWhenInside||i){this.dispatchEvent(r,"pointermove",e);if(a)this.dispatchEvent(r,"touchmove",e);if(o)this.dispatchEvent(r,"mousemove",e)}};e.prototype.onPointerOut=function t(e){if(this.supportsTouchEvents&&e.pointerType==="touch")return;var r=this.normalizeToPointerData(e);var i=r[0];if(i.pointerType==="mouse"){this.mouseOverRenderer=false;this.setCursorMode(null)}var n=this.getInteractionDataForPointerId(i);var a=this.configureInteractionEventForDOMEvent(this.eventData,i,n);a.data.originalEvent=i;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerOverOut,false);this.emit("pointerout",a);if(i.pointerType==="mouse"||i.pointerType==="pen"){this.emit("mouseout",a)}else{this.releaseInteractionDataForPointerId(n.identifier)}};e.prototype.processPointerOverOut=function t(e,r,i){var n=e.data;var a=e.data.identifier;var o=n.pointerType==="mouse"||n.pointerType==="pen";var s=r.trackedPointers[a];if(i&&!s){s=r.trackedPointers[a]=new f.default(a)}if(s===undefined)return;if(i&&this.mouseOverRenderer){if(!s.over){s.over=true;this.dispatchEvent(r,"pointerover",e);if(o){this.dispatchEvent(r,"mouseover",e)}}if(o&&this.cursor===null){this.cursor=r.cursor}}else if(s.over){s.over=false;this.dispatchEvent(r,"pointerout",this.eventData);if(o){this.dispatchEvent(r,"mouseout",e)}if(s.none){delete r.trackedPointers[a]}}};e.prototype.onPointerOver=function t(e){var r=this.normalizeToPointerData(e);var i=r[0];var n=this.getInteractionDataForPointerId(i);var a=this.configureInteractionEventForDOMEvent(this.eventData,i,n);a.data.originalEvent=i;if(i.pointerType==="mouse"){this.mouseOverRenderer=true}this.emit("pointerover",a);if(i.pointerType==="mouse"||i.pointerType==="pen"){this.emit("mouseover",a)}};e.prototype.getInteractionDataForPointerId=function t(e){var r=e.pointerId;var i=void 0;if(r===x||e.pointerType==="mouse"){i=this.mouse}else if(this.activeInteractionData[r]){i=this.activeInteractionData[r]}else{i=this.interactionDataPool.pop()||new s.default;i.identifier=r;this.activeInteractionData[r]=i}i.copyEvent(e);return i};e.prototype.releaseInteractionDataForPointerId=function t(e){var r=this.activeInteractionData[e];if(r){delete this.activeInteractionData[e];r.reset();this.interactionDataPool.push(r)}};e.prototype.configureInteractionEventForDOMEvent=function t(e,r,i){e.data=i;this.mapPositionToPoint(i.global,r.clientX,r.clientY);if(navigator.isCocoonJS&&r.pointerType==="touch"){i.global.x=i.global.x/this.resolution;i.global.y=i.global.y/this.resolution}if(r.pointerType==="touch"){r.globalX=i.global.x;r.globalY=i.global.y}i.originalEvent=r;e.reset();return e};e.prototype.normalizeToPointerData=function t(e){var r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent){for(var i=0,n=e.changedTouches.length;i<n;i++){var a=e.changedTouches[i];if(typeof a.button==="undefined")a.button=e.touches.length?1:0;if(typeof a.buttons==="undefined")a.buttons=e.touches.length?1:0;if(typeof a.isPrimary==="undefined"){a.isPrimary=e.touches.length===1&&e.type==="touchstart"}if(typeof a.width==="undefined")a.width=a.radiusX||1;if(typeof a.height==="undefined")a.height=a.radiusY||1;if(typeof a.tiltX==="undefined")a.tiltX=0;if(typeof a.tiltY==="undefined")a.tiltY=0;if(typeof a.pointerType==="undefined")a.pointerType="touch";if(typeof a.pointerId==="undefined")a.pointerId=a.identifier||0;if(typeof a.pressure==="undefined")a.pressure=a.force||.5;a.twist=0;a.tangentialPressure=0;if(typeof a.layerX==="undefined")a.layerX=a.offsetX=a.clientX;if(typeof a.layerY==="undefined")a.layerY=a.offsetY=a.clientY;a.isNormalized=true;r.push(a)}}else if(e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof window.PointerEvent))){if(typeof e.isPrimary==="undefined")e.isPrimary=true;if(typeof e.width==="undefined")e.width=1;if(typeof e.height==="undefined")e.height=1;if(typeof e.tiltX==="undefined")e.tiltX=0;if(typeof e.tiltY==="undefined")e.tiltY=0;if(typeof e.pointerType==="undefined")e.pointerType="mouse";if(typeof e.pointerId==="undefined")e.pointerId=x;if(typeof e.pressure==="undefined")e.pressure=.5;e.twist=0;e.tangentialPressure=0;e.isNormalized=true;r.push(e)}else{r.push(e)}return r};e.prototype.destroy=function t(){this.removeEvents();this.removeAllListeners();this.renderer=null;this.mouse=null;this.eventData=null;this.interactionDOMElement=null;this.onPointerDown=null;this.processPointerDown=null;this.onPointerUp=null;this.processPointerUp=null;this.onPointerCancel=null;this.processPointerCancel=null;this.onPointerMove=null;this.processPointerMove=null;this.onPointerOut=null;this.processPointerOverOut=null;this.onPointerOver=null;this._tempPoint=null};return e}(d.default);e.default=w;a.WebGLRenderer.registerPlugin("interaction",w);a.CanvasRenderer.registerPlugin("interaction",w)},function(t,e,r){"use strict";e.__esModule=true;var i=r(54);Object.defineProperty(e,"InteractionData",{enumerable:true,get:function t(){return u(i).default}});var n=r(118);Object.defineProperty(e,"InteractionManager",{enumerable:true,get:function t(){return u(n).default}});var a=r(51);Object.defineProperty(e,"interactiveTarget",{enumerable:true,get:function t(){return u(a).default}});var o=r(52);Object.defineProperty(e,"InteractionTrackingData",{enumerable:true,get:function t(){return u(o).default}});var s=r(53);Object.defineProperty(e,"InteractionEvent",{enumerable:true,get:function t(){return u(s).default}});function u(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=s(n);var o=r(6);function s(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;u(this,e);var i=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));i.alpha=r;i.glShaderKey="alpha";return i}i(e,[{key:"alpha",get:function t(){return this.uniforms.uAlpha},set:function t(e){this.uniforms.uAlpha=e}}]);return e}(a.Filter);e.default=f},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=s(n);var o=r(6);function s(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(){u(this,e);var r=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];r.alpha=1;return r}e.prototype._loadMatrix=function t(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var i=e;if(r){this._multiply(i,this.uniforms.m,e);i=this._colorMatrix(i)}this.uniforms.m=i};e.prototype._multiply=function t(e,r,i){e[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15];e[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16];e[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17];e[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18];e[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4];e[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15];e[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16];e[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17];e[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18];e[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9];e[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15];e[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16];e[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17];e[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18];e[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14];e[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15];e[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16];e[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17];e[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18];e[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19];return e};e.prototype._colorMatrix=function t(e){var r=new Float32Array(e);r[4]/=255;r[9]/=255;r[14]/=255;r[19]/=255;return r};e.prototype.brightness=function t(e,r){var i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)};e.prototype.greyscale=function t(e,r){var i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)};e.prototype.blackAndWhite=function t(e){var r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.hue=function t(e,r){e=(e||0)/180*Math.PI;var i=Math.cos(e);var n=Math.sin(e);var a=Math.sqrt;var o=1/3;var s=a(o);var u=i+(1-i)*o;var l=o*(1-i)-s*n;var h=o*(1-i)+s*n;var f=o*(1-i)+s*n;var c=i+o*(1-i);var d=o*(1-i)-s*n;var p=o*(1-i)-s*n;var v=o*(1-i)+s*n;var y=i+o*(1-i);var g=[u,l,h,0,0,f,c,d,0,0,p,v,y,0,0,0,0,0,1,0];this._loadMatrix(g,r)};e.prototype.contrast=function t(e,r){var i=(e||0)+1;var n=-.5*(i-1);var a=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(a,r)};e.prototype.saturate=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments[1];var i=e*2/3+1;var n=(i-1)*-.5;var a=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(a,r)};e.prototype.desaturate=function t(){this.saturate(-1)};e.prototype.negative=function t(e){var r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.sepia=function t(e){var r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.technicolor=function t(e){var r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.polaroid=function t(e){var r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.toBGR=function t(e){var r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.kodachrome=function t(e){var r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.browni=function t(e){var r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.vintage=function t(e){var r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.colorTone=function t(e,r,i,n,a){e=e||.2;r=r||.15;i=i||16770432;n=n||3375104;var o=(i>>16&255)/255;var s=(i>>8&255)/255;var u=(i&255)/255;var l=(n>>16&255)/255;var h=(n>>8&255)/255;var f=(n&255)/255;var c=[.3,.59,.11,0,0,o,s,u,e,0,l,h,f,r,0,o-l,s-h,u-f,0,0];this._loadMatrix(c,a)};e.prototype.night=function t(e,r){e=e||.1;var i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,r)};e.prototype.predator=function t(e,r){var i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,r)};e.prototype.lsd=function t(e){var r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)};e.prototype.reset=function t(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,false)};i(e,[{key:"matrix",get:function t(){return this.uniforms.m},set:function t(e){this.uniforms.m=e}},{key:"alpha",get:function t(){return this.uniforms.uAlpha},set:function t(e){this.uniforms.uAlpha=e}}]);return e}(a.Filter);e.default=f;f.prototype.grayscale=f.prototype.greyscale},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=f(n);var o=r(59);var s=h(o);var u=r(55);var l=h(u);function h(t){return t&&t.__esModule?t:{default:t}}function f(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function c(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function d(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function p(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var v=function(t){p(e,t);function e(r,i,n,o){c(this,e);var u=d(this,t.call(this));u.blurXFilter=new s.default(r,i,n,o);u.blurYFilter=new l.default(r,i,n,o);u.padding=0;u.resolution=n||a.settings.RESOLUTION;u.quality=i||4;u.blur=r||8;return u}e.prototype.apply=function t(e,r,i){var n=e.getRenderTarget(true);this.blurXFilter.apply(e,r,n,true);this.blurYFilter.apply(e,n,i,false);e.returnRenderTarget(n)};i(e,[{key:"blur",get:function t(){return this.blurXFilter.blur},set:function t(e){this.blurXFilter.blur=this.blurYFilter.blur=e;this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"quality",get:function t(){return this.blurXFilter.quality},set:function t(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function t(){return this.blurXFilter.blur},set:function t(e){this.blurXFilter.blur=e;this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blurY",get:function t(){return this.blurYFilter.blur},set:function t(e){this.blurYFilter.blur=e;this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blendMode",get:function t(){return this.blurYFilter._blendMode},set:function t(e){this.blurYFilter._blendMode=e}}]);return e}(a.Filter);e.default=v},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=s(n);var o=r(6);function s(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(r,i){u(this,e);var n=new a.Matrix;r.renderable=false;var o=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));o.maskSprite=r;o.maskMatrix=n;o.uniforms.mapSampler=r._texture;o.uniforms.filterMatrix=n;o.uniforms.scale={x:1,y:1};if(i===null||i===undefined){i=20}o.scale=new a.Point(i,i);return o}e.prototype.apply=function t(e,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x;this.uniforms.scale.y=this.scale.y;e.applyFilter(this,r,i)};i(e,[{key:"map",get:function t(){return this.uniforms.mapSampler},set:function t(e){this.uniforms.mapSampler=e}}]);return e}(a.Filter);e.default=f},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=s(n);var o=r(6);function s(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.5;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Math.random();u(this,e);var n=l(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));n.noise=r;n.seed=i;return n}i(e,[{key:"noise",get:function t(){return this.uniforms.uNoise},set:function t(e){this.uniforms.uNoise=e}},{key:"seed",get:function t(){return this.uniforms.uSeed},set:function t(e){this.uniforms.uSeed=e}}]);return e}(a.Filter);e.default=f},function(t,e,r){"use strict";e.__esModule=true;var i=r(1);var n=o(i);var a=r(6);function o(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function u(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function l(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var h=function(t){l(e,t);function e(){s(this,e);return u(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return e}(n.Filter);e.default=h},function(t,e,r){"use strict";e.__esModule=true;var i=r(125);Object.defineProperty(e,"FXAAFilter",{enumerable:true,get:function t(){return f(i).default}});var n=r(124);Object.defineProperty(e,"NoiseFilter",{enumerable:true,get:function t(){return f(n).default}});var a=r(123);Object.defineProperty(e,"DisplacementFilter",{enumerable:true,get:function t(){return f(a).default}});var o=r(122);Object.defineProperty(e,"BlurFilter",{enumerable:true,get:function t(){return f(o).default}});var s=r(59);Object.defineProperty(e,"BlurXFilter",{enumerable:true,get:function t(){return f(s).default}});var u=r(55);Object.defineProperty(e,"BlurYFilter",{enumerable:true,get:function t(){return f(u).default}});var l=r(121);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:true,get:function t(){return f(l).default}});var h=r(120);Object.defineProperty(e,"AlphaFilter",{enumerable:true,get:function t(){return f(h).default}});function f(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";var i=r(1);var n=a(i);function a(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}n.DisplayObject.prototype.getGlobalPosition=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new n.Point;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.parent){this.parent.toGlobal(this.position,e,r)}else{e.x=this.position.x;e.y=this.position.y}return e}},function(t,e,r){"use strict";var i=r(1);var n=a(i);function a(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}n.DisplayObject.prototype.name=null;n.Container.prototype.getChildByName=function t(e){for(var r=0;r<this.children.length;r++){if(this.children[r].name===e){return this.children[r]}}return null}},function(t,e,r){"use strict";var i=r(1);var n=f(i);var a=r(7);var o=h(a);var s=r(9);var u=h(s);var l=r(2);function h(t){return t&&t.__esModule?t:{default:t}}function f(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function c(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var d=n.DisplayObject;var p=new n.Matrix;d.prototype._cacheAsBitmap=false;d.prototype._cacheData=false;var v=function t(){c(this,t);this.textureCacheId=null;this.originalRenderWebGL=null;this.originalRenderCanvas=null;this.originalCalculateBounds=null;this.originalGetLocalBounds=null;this.originalUpdateTransform=null;this.originalHitTest=null;this.originalDestroy=null;this.originalMask=null;this.originalFilterArea=null;this.sprite=null};Object.defineProperties(d.prototype,{cacheAsBitmap:{get:function t(){return this._cacheAsBitmap},set:function t(e){if(this._cacheAsBitmap===e){return}this._cacheAsBitmap=e;var r=void 0;if(e){if(!this._cacheData){this._cacheData=new v}r=this._cacheData;r.originalRenderWebGL=this.renderWebGL;r.originalRenderCanvas=this.renderCanvas;r.originalUpdateTransform=this.updateTransform;r.originalCalculateBounds=this._calculateBounds;r.originalGetLocalBounds=this.getLocalBounds;r.originalDestroy=this.destroy;r.originalContainsPoint=this.containsPoint;r.originalMask=this._mask;r.originalFilterArea=this.filterArea;this.renderWebGL=this._renderCachedWebGL;this.renderCanvas=this._renderCachedCanvas;this.destroy=this._cacheAsBitmapDestroy}else{r=this._cacheData;if(r.sprite){this._destroyCachedDisplayObject()}this.renderWebGL=r.originalRenderWebGL;this.renderCanvas=r.originalRenderCanvas;this._calculateBounds=r.originalCalculateBounds;this.getLocalBounds=r.originalGetLocalBounds;this.destroy=r.originalDestroy;this.updateTransform=r.originalUpdateTransform;this.containsPoint=r.originalContainsPoint;this._mask=r.originalMask;this.filterArea=r.originalFilterArea}}}});d.prototype._renderCachedWebGL=function t(e){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}this._initCachedDisplayObject(e);this._cacheData.sprite._transformID=-1;this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite._renderWebGL(e)};d.prototype._initCachedDisplayObject=function t(e){if(this._cacheData&&this._cacheData.sprite){return}var r=this.alpha;this.alpha=1;e.currentRenderer.flush();var i=this.getLocalBounds().clone();if(this._filters){var a=this._filters[0].padding;i.pad(a)}var s=e._activeRenderTarget;var h=e.filterManager.filterStack;var f=n.RenderTexture.create(i.width|0,i.height|0);var c="cacheAsBitmap_"+(0,l.uid)();this._cacheData.textureCacheId=c;u.default.addToCache(f.baseTexture,c);o.default.addToCache(f,c);var d=p;d.tx=-i.x;d.ty=-i.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;e.render(this,f,true,d,true);e.bindRenderTarget(s);e.filterManager.filterStack=h;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this._mask=null;this.filterArea=null;var v=new n.Sprite(f);v.transform.worldTransform=this.transform.worldTransform;v.anchor.x=-(i.x/i.width);v.anchor.y=-(i.y/i.height);v.alpha=r;v._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=v;this.transform._parentID=-1;if(!this.parent){this.parent=e._tempDisplayObjectParent;this.updateTransform();this.parent=null}else{this.updateTransform()}this.containsPoint=v.containsPoint.bind(v)};d.prototype._renderCachedCanvas=function t(e){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}this._initCachedDisplayObjectCanvas(e);this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite.renderCanvas(e)};d.prototype._initCachedDisplayObjectCanvas=function t(e){if(this._cacheData&&this._cacheData.sprite){return}var r=this.getLocalBounds();var i=this.alpha;this.alpha=1;var a=e.context;var s=n.RenderTexture.create(r.width|0,r.height|0);var h="cacheAsBitmap_"+(0,l.uid)();this._cacheData.textureCacheId=h;u.default.addToCache(s.baseTexture,h);o.default.addToCache(s,h);var f=p;this.transform.localTransform.copy(f);f.invert();f.tx-=r.x;f.ty-=r.y;this.renderCanvas=this._cacheData.originalRenderCanvas;e.render(this,s,true,f,false);e.context=a;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this._mask=null;this.filterArea=null;var c=new n.Sprite(s);c.transform.worldTransform=this.transform.worldTransform;c.anchor.x=-(r.x/r.width);c.anchor.y=-(r.y/r.height);c._bounds=this._bounds;c.alpha=i;if(!this.parent){this.parent=e._tempDisplayObjectParent;this.updateTransform();this.parent=null}else{this.updateTransform()}this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=c;this.containsPoint=c.containsPoint.bind(c)};d.prototype._calculateCachedBounds=function t(){this._cacheData.sprite._calculateBounds()};d.prototype._getCachedLocalBounds=function t(){return this._cacheData.sprite.getLocalBounds()};d.prototype._destroyCachedDisplayObject=function t(){this._cacheData.sprite._texture.destroy(true);this._cacheData.sprite=null;u.default.removeFromCache(this._cacheData.textureCacheId);o.default.removeFromCache(this._cacheData.textureCacheId);this._cacheData.textureCacheId=null};d.prototype._cacheAsBitmapDestroy=function t(e){this.cacheAsBitmap=false;this.destroy(e)}},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=c(n);var o=r(91);var s=f(o);var u=r(2);var l=r(3);var h=f(l);function f(t){return t&&t.__esModule?t:{default:t}}function c(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function d(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function p(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function v(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var y=function(t){v(e,t);function e(r){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};d(this,e);var n=p(this,t.call(this));n._textWidth=0;n._textHeight=0;n._glyphs=[];n._font={tint:i.tint!==undefined?i.tint:16777215,align:i.align||"left",name:null,size:0};n.font=i.font;n._text=r;n._maxWidth=0;n._maxLineHeight=0;n._letterSpacing=0;n._anchor=new s.default(function(){n.dirty=true},n,0,0);n.dirty=false;n.updateText();return n}e.prototype.updateText=function t(){var r=e.fonts[this._font.name];var i=this._font.size/r.size;var n=new a.Point;var o=[];var s=[];var u=this.text.replace(/(?:\r\n|\r)/g,"\n");var l=u.length;var h=this._maxWidth*r.size/this._font.size;var f=null;var c=0;var d=0;var p=0;var v=-1;var y=0;var g=0;var _=0;for(var m=0;m<l;m++){var b=u.charCodeAt(m);var x=u.charAt(m);if(/(?:\s)/.test(x)){v=m;y=c}if(x==="\r"||x==="\n"){s.push(c);d=Math.max(d,c);++p;++g;n.x=0;n.y+=r.lineHeight;f=null;continue}var T=r.chars[b];if(!T){continue}if(f&&T.kerning[f]){n.x+=T.kerning[f]}o.push({texture:T.texture,line:p,charCode:b,position:new a.Point(n.x+T.xOffset+this._letterSpacing/2,n.y+T.yOffset)});n.x+=T.xAdvance+this._letterSpacing;c=n.x;_=Math.max(_,T.yOffset+T.texture.height);f=b;if(v!==-1&&h>0&&n.x>h){++g;a.utils.removeItems(o,1+v-g,1+m-v);m=v;v=-1;s.push(y);d=Math.max(d,y);p++;n.x=0;n.y+=r.lineHeight;f=null}}var w=u.charAt(u.length-1);if(w!=="\r"&&w!=="\n"){if(/(?:\s)/.test(w)){c=y}s.push(c);d=Math.max(d,c)}var E=[];for(var S=0;S<=p;S++){var O=0;if(this._font.align==="right"){O=d-s[S]}else if(this._font.align==="center"){O=(d-s[S])/2}E.push(O)}var M=o.length;var P=this.tint;for(var C=0;C<M;C++){var A=this._glyphs[C];if(A){A.texture=o[C].texture}else{A=new a.Sprite(o[C].texture);this._glyphs.push(A)}A.position.x=(o[C].position.x+E[o[C].line])*i;A.position.y=o[C].position.y*i;A.scale.x=A.scale.y=i;A.tint=P;if(!A.parent){this.addChild(A)}}for(var I=M;I<this._glyphs.length;++I){this.removeChild(this._glyphs[I])}this._textWidth=d*i;this._textHeight=(n.y+r.lineHeight)*i;if(this.anchor.x!==0||this.anchor.y!==0){for(var R=0;R<M;R++){this._glyphs[R].x-=this._textWidth*this.anchor.x;this._glyphs[R].y-=this._textHeight*this.anchor.y}}this._maxLineHeight=_*i};e.prototype.updateTransform=function t(){this.validate();this.containerUpdateTransform()};e.prototype.getLocalBounds=function e(){this.validate();return t.prototype.getLocalBounds.call(this)};e.prototype.validate=function t(){if(this.dirty){this.updateText();this.dirty=false}};e.registerFont=function t(r,i){var n={};var o=r.getElementsByTagName("info")[0];var s=r.getElementsByTagName("common")[0];var l=r.getElementsByTagName("page");var f=(0,u.getResolutionOfUrl)(l[0].getAttribute("file"),h.default.RESOLUTION);var c={};n.font=o.getAttribute("face");n.size=parseInt(o.getAttribute("size"),10);n.lineHeight=parseInt(s.getAttribute("lineHeight"),10)/f;n.chars={};if(i instanceof a.Texture){i=[i]}for(var d=0;d<l.length;d++){var p=l[d].getAttribute("id");var v=l[d].getAttribute("file");c[p]=i instanceof Array?i[d]:i[v]}var y=r.getElementsByTagName("char");for(var g=0;g<y.length;g++){var _=y[g];var m=parseInt(_.getAttribute("id"),10);var b=_.getAttribute("page")||0;var x=new a.Rectangle(parseInt(_.getAttribute("x"),10)/f+c[b].frame.x/f,parseInt(_.getAttribute("y"),10)/f+c[b].frame.y/f,parseInt(_.getAttribute("width"),10)/f,parseInt(_.getAttribute("height"),10)/f);n.chars[m]={xOffset:parseInt(_.getAttribute("xoffset"),10)/f,yOffset:parseInt(_.getAttribute("yoffset"),10)/f,xAdvance:parseInt(_.getAttribute("xadvance"),10)/f,kerning:{},texture:new a.Texture(c[b].baseTexture,x),page:b}}var T=r.getElementsByTagName("kerning");for(var w=0;w<T.length;w++){var E=T[w];var S=parseInt(E.getAttribute("first"),10)/f;var O=parseInt(E.getAttribute("second"),10)/f;var M=parseInt(E.getAttribute("amount"),10)/f;if(n.chars[O]){n.chars[O].kerning[S]=M}}e.fonts[n.font]=n;return n};i(e,[{key:"tint",get:function t(){return this._font.tint},set:function t(e){this._font.tint=typeof e==="number"&&e>=0?e:16777215;this.dirty=true}},{key:"align",get:function t(){return this._font.align},set:function t(e){this._font.align=e||"left";this.dirty=true}},{key:"anchor",get:function t(){return this._anchor},set:function t(e){if(typeof e==="number"){this._anchor.set(e)}else{this._anchor.copy(e)}}},{key:"font",get:function t(){return this._font},set:function t(r){if(!r){return}if(typeof r==="string"){r=r.split(" ");this._font.name=r.length===1?r[0]:r.slice(1).join(" ");this._font.size=r.length>=2?parseInt(r[0],10):e.fonts[this._font.name].size}else{this._font.name=r.name;this._font.size=typeof r.size==="number"?r.size:parseInt(r.size,10)}this.dirty=true}},{key:"text",get:function t(){return this._text},set:function t(e){e=e.toString()||" ";if(this._text===e){return}this._text=e;this.dirty=true}},{key:"maxWidth",get:function t(){return this._maxWidth},set:function t(e){if(this._maxWidth===e){return}this._maxWidth=e;this.dirty=true}},{key:"maxLineHeight",get:function t(){this.validate();return this._maxLineHeight}},{key:"textWidth",get:function t(){this.validate();return this._textWidth}},{key:"letterSpacing",get:function t(){return this._letterSpacing},set:function t(e){if(this._letterSpacing!==e){this._letterSpacing=e;this.dirty=true}}},{key:"textHeight",get:function t(){this.validate();return this._textHeight}}]);return e}(a.Container);e.default=y;y.fonts={}},function(t,e,r){"use strict";e.__esModule=true;var i=r(1);var n=s(i);var a=r(0);var o=r(6);function s(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=new n.Matrix;var c=function(t){h(e,t);function e(r){u(this,e);var i=l(this,t.call(this,r));i.shader=null;i.simpleShader=null;i.quad=null;return i}e.prototype.onContextChange=function t(){var e=this.renderer.gl;this.shader=new n.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n");this.simpleShader=new n.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n");this.renderer.bindVao(null);this.quad=new n.Quad(e,this.renderer.state.attribState);this.quad.initVao(this.shader)};e.prototype.render=function t(e){var r=this.renderer;var i=this.quad;r.bindVao(i.vao);var o=i.vertices;o[0]=o[6]=e._width*-e.anchor.x;o[1]=o[3]=e._height*-e.anchor.y;o[2]=o[4]=e._width*(1-e.anchor.x);o[5]=o[7]=e._height*(1-e.anchor.y);if(e.uvRespectAnchor){o=i.uvs;o[0]=o[6]=-e.anchor.x;o[1]=o[3]=-e.anchor.y;o[2]=o[4]=1-e.anchor.x;o[5]=o[7]=1-e.anchor.y}i.upload();var s=e._texture;var u=s.baseTexture;var l=e.tileTransform.localTransform;var h=e.uvTransform;var c=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;if(c){if(!u._glTextures[r.CONTEXT_UID]){if(u.wrapMode===a.WRAP_MODES.CLAMP){u.wrapMode=a.WRAP_MODES.REPEAT}}else{c=u.wrapMode!==a.WRAP_MODES.CLAMP}}var d=c?this.simpleShader:this.shader;r.bindShader(d);var p=s.width;var v=s.height;var y=e._width;var g=e._height;f.set(l.a*p/y,l.b*p/g,l.c*v/y,l.d*v/g,l.tx/y,l.ty/g);f.invert();if(c){f.prepend(h.mapCoord)}else{d.uniforms.uMapCoord=h.mapCoord.toArray(true);d.uniforms.uClampFrame=h.uClampFrame;d.uniforms.uClampOffset=h.uClampOffset}d.uniforms.uTransform=f.toArray(true);d.uniforms.uColor=n.utils.premultiplyTintToRgba(e.tint,e.worldAlpha,d.uniforms.uColor,u.premultipliedAlpha);d.uniforms.translationMatrix=e.transform.worldTransform.toArray(true);d.uniforms.uSampler=r.bindTexture(s);r.setBlendMode(n.utils.correctBlendMode(e.blendMode,u.premultipliedAlpha));i.vao.draw(this.renderer.gl.TRIANGLES,6,0)};return e}(n.ObjectRenderer);e.default=c;n.WebGLRenderer.registerPlugin("tilingSprite",c)},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=l(n);var o=r(26);var s=u(o);function u(t){return t&&t.__esModule?t:{default:t}}function l(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function h(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function f(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function c(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var d=new a.Point;var p=function(t){c(e,t);function e(r){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;h(this,e);var o=f(this,t.call(this,r));o.tileTransform=new a.TransformStatic;o._width=i;o._height=n;o._canvasPattern=null;o.uvTransform=r.transform||new a.TextureMatrix(r);o.pluginName="tilingSprite";o.uvRespectAnchor=false;return o}e.prototype._onTextureUpdate=function t(){if(this.uvTransform){this.uvTransform.texture=this._texture}this.cachedTint=16777215};e.prototype._renderWebGL=function t(e){var r=this._texture;if(!r||!r.valid){return}this.tileTransform.updateLocalTransform();this.uvTransform.update();e.setObjectRenderer(e.plugins[this.pluginName]);e.plugins[this.pluginName].render(this)};e.prototype._renderCanvas=function t(e){var r=this._texture;if(!r.baseTexture.hasLoaded){return}var i=e.context;var n=this.worldTransform;var o=e.resolution;var u=r.baseTexture;var l=u.resolution;var h=this.tilePosition.x/this.tileScale.x%r._frame.width*l;var f=this.tilePosition.y/this.tileScale.y%r._frame.height*l;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var c=new a.CanvasRenderTarget(r._frame.width,r._frame.height,l);if(this.tint!==16777215){this.tintedTexture=s.default.getTintedTexture(this,this.tint);c.context.drawImage(this.tintedTexture,0,0)}else{c.context.drawImage(u.source,-r._frame.x*l,-r._frame.y*l)}this.cachedTint=this.tint;this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}i.globalAlpha=this.worldAlpha;i.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o);e.setBlendMode(this.blendMode);i.fillStyle=this._canvasPattern;i.scale(this.tileScale.x/l,this.tileScale.y/l);var d=this.anchor.x*-this._width;var p=this.anchor.y*-this._height;if(this.uvRespectAnchor){i.translate(h,f);i.fillRect(-h+d,-f+p,this._width/this.tileScale.x*l,this._height/this.tileScale.y*l)}else{i.translate(h+d,f+p);i.fillRect(-h,-f,this._width/this.tileScale.x*l,this._height/this.tileScale.y*l)}};e.prototype._calculateBounds=function t(){var e=this._width*-this._anchor._x;var r=this._height*-this._anchor._y;var i=this._width*(1-this._anchor._x);var n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,i,n)};e.prototype.getLocalBounds=function e(r){if(this.children.length===0){this._bounds.minX=this._width*-this._anchor._x;this._bounds.minY=this._height*-this._anchor._y;this._bounds.maxX=this._width*(1-this._anchor._x);this._bounds.maxY=this._height*(1-this._anchor._y);if(!r){if(!this._localBoundsRect){this._localBoundsRect=new a.Rectangle}r=this._localBoundsRect}return this._bounds.getRectangle(r)}return t.prototype.getLocalBounds.call(this,r)};e.prototype.containsPoint=function t(e){this.worldTransform.applyInverse(e,d);var r=this._width;var i=this._height;var n=-r*this.anchor._x;if(d.x>=n&&d.x<n+r){var a=-i*this.anchor._y;if(d.y>=a&&d.y<a+i){return true}}return false};e.prototype.destroy=function e(r){t.prototype.destroy.call(this,r);this.tileTransform=null;this.uvTransform=null};e.from=function t(r,i,n){return new e(a.Texture.from(r),i,n)};e.fromFrame=function t(r,i,n){var o=a.utils.TextureCache[r];if(!o){throw new Error('The frameId "'+r+'" does not exist in the texture cache '+this)}return new e(o,i,n)};e.fromImage=function t(r,i,n,o,s){return new e(a.Texture.fromImage(r,o,s),i,n)};i(e,[{key:"clampMargin",get:function t(){return this.uvTransform.clampMargin},set:function t(e){this.uvTransform.clampMargin=e;this.uvTransform.update(true)}},{key:"tileScale",get:function t(){return this.tileTransform.scale},set:function t(e){this.tileTransform.scale.copy(e)}},{key:"tilePosition",get:function t(){return this.tileTransform.position},set:function t(e){this.tileTransform.position.copy(e)}},{key:"width",get:function t(){return this._width},set:function t(e){this._width=e}},{key:"height",get:function t(){return this._height},set:function t(e){this._height=e}}]);return e}(a.Sprite);e.default=p},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=o(n);function o(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function u(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function l(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var h=function(t){l(e,t);function e(r,i){s(this,e);var n=u(this,t.call(this,r[0]instanceof a.Texture?r[0]:r[0].texture));n._textures=null;n._durations=null;n.textures=r;n._autoUpdate=i!==false;n.animationSpeed=1;n.loop=true;n.onComplete=null;n.onFrameChange=null;n.onLoop=null;n._currentTime=0;n.playing=false;return n}e.prototype.stop=function t(){if(!this.playing){return}this.playing=false;if(this._autoUpdate){a.ticker.shared.remove(this.update,this)}};e.prototype.play=function t(){if(this.playing){return}this.playing=true;if(this._autoUpdate){a.ticker.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH)}};e.prototype.gotoAndStop=function t(e){this.stop();var r=this.currentFrame;this._currentTime=e;if(r!==this.currentFrame){this.updateTexture()}};e.prototype.gotoAndPlay=function t(e){var r=this.currentFrame;this._currentTime=e;if(r!==this.currentFrame){this.updateTexture()}this.play()};e.prototype.update=function t(e){var r=this.animationSpeed*e;var i=this.currentFrame;if(this._durations!==null){var n=this._currentTime%1*this._durations[this.currentFrame];n+=r/60*1e3;while(n<0){this._currentTime--;n+=this._durations[this.currentFrame]}var a=Math.sign(this.animationSpeed*e);this._currentTime=Math.floor(this._currentTime);while(n>=this._durations[this.currentFrame]){n-=this._durations[this.currentFrame]*a;this._currentTime+=a}this._currentTime+=n/this._durations[this.currentFrame]}else{this._currentTime+=r}if(this._currentTime<0&&!this.loop){this.gotoAndStop(0);if(this.onComplete){this.onComplete()}}else if(this._currentTime>=this._textures.length&&!this.loop){this.gotoAndStop(this._textures.length-1);if(this.onComplete){this.onComplete()}}else if(i!==this.currentFrame){if(this.loop&&this.onLoop){if(this.animationSpeed>0&&this.currentFrame<i){this.onLoop()}else if(this.animationSpeed<0&&this.currentFrame>i){this.onLoop()}}this.updateTexture()}};e.prototype.updateTexture=function t(){this._texture=this._textures[this.currentFrame];this._textureID=-1;this.cachedTint=16777215;if(this.onFrameChange){this.onFrameChange(this.currentFrame)}};e.prototype.destroy=function e(r){this.stop();t.prototype.destroy.call(this,r)};e.fromFrames=function t(r){var i=[];for(var n=0;n<r.length;++n){i.push(a.Texture.fromFrame(r[n]))}return new e(i)};e.fromImages=function t(r){var i=[];for(var n=0;n<r.length;++n){i.push(a.Texture.fromImage(r[n]))}return new e(i)};i(e,[{key:"totalFrames",get:function t(){return this._textures.length}},{key:"textures",get:function t(){return this._textures},set:function t(e){if(e[0]instanceof a.Texture){this._textures=e;this._durations=null}else{this._textures=[];this._durations=[];for(var r=0;r<e.length;r++){this._textures.push(e[r].texture);this._durations.push(e[r].time)}}this.gotoAndStop(0);this.updateTexture()}},{key:"currentFrame",get:function t(){var e=Math.floor(this._currentTime)%this._textures.length;if(e<0){e+=this._textures.length}return e}}]);return e}(a.Sprite);e.default=h},function(t,e,r){"use strict";e.__esModule=true;var i=r(1);var n=a(i);function a(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var s=new n.Rectangle;var u=function(){function t(e){o(this,t);this.renderer=e;e.extract=this}t.prototype.image=function t(e){var t=new Image;t.src=this.base64(e);return t};t.prototype.base64=function t(e){return this.canvas(e).toDataURL()};t.prototype.canvas=function t(e){var r=this.renderer;var i=void 0;var a=void 0;var o=void 0;var u=void 0;if(e){if(e instanceof n.RenderTexture){u=e}else{u=r.generateTexture(e)}}if(u){i=u.baseTexture._canvasRenderTarget.context;a=u.baseTexture._canvasRenderTarget.resolution;o=u.frame}else{i=r.rootContext;o=s;o.width=this.renderer.width;o.height=this.renderer.height}var l=o.width*a;var h=o.height*a;var f=new n.CanvasRenderTarget(l,h);var c=i.getImageData(o.x*a,o.y*a,l,h);f.context.putImageData(c,0,0);return f.canvas};t.prototype.pixels=function t(e){var r=this.renderer;var i=void 0;var a=void 0;var o=void 0;var u=void 0;if(e){if(e instanceof n.RenderTexture){u=e}else{u=r.generateTexture(e)}}if(u){i=u.baseTexture._canvasRenderTarget.context;a=u.baseTexture._canvasRenderTarget.resolution;o=u.frame}else{i=r.rootContext;o=s;o.width=r.width;o.height=r.height}return i.getImageData(0,0,o.width*a,o.height*a).data};t.prototype.destroy=function t(){this.renderer.extract=null;this.renderer=null};return t}();e.default=u;n.CanvasRenderer.registerPlugin("extract",u)},function(t,e,r){"use strict";e.__esModule=true;var i=r(1);var n=a(i);function a(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var s=new n.Rectangle;var u=4;var l=function(){function t(e){o(this,t);this.renderer=e;e.extract=this}t.prototype.image=function t(e){var t=new Image;t.src=this.base64(e);return t};t.prototype.base64=function t(e){return this.canvas(e).toDataURL()};t.prototype.canvas=function t(e){var r=this.renderer;var i=void 0;var a=void 0;var o=void 0;var l=false;var h=void 0;var f=false;if(e){if(e instanceof n.RenderTexture){h=e}else{h=this.renderer.generateTexture(e);f=true}}if(h){i=h.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];a=i.resolution;o=h.frame;l=false}else{i=this.renderer.rootRenderTarget;a=i.resolution;l=true;o=s;o.width=i.size.width;o.height=i.size.height}var c=o.width*a;var d=o.height*a;var p=new n.CanvasRenderTarget(c,d);if(i){r.bindRenderTarget(i);var v=new Uint8Array(u*c*d);var y=r.gl;y.readPixels(o.x*a,o.y*a,c,d,y.RGBA,y.UNSIGNED_BYTE,v);var g=p.context.getImageData(0,0,c,d);g.data.set(v);p.context.putImageData(g,0,0);if(l){p.context.scale(1,-1);p.context.drawImage(p.canvas,0,-d)}}if(f){h.destroy(true)}return p.canvas};t.prototype.pixels=function t(e){var r=this.renderer;var i=void 0;var a=void 0;var o=void 0;var l=void 0;var h=false;if(e){if(e instanceof n.RenderTexture){l=e}else{l=this.renderer.generateTexture(e);h=true}}if(l){i=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];a=i.resolution;o=l.frame}else{i=this.renderer.rootRenderTarget;a=i.resolution;o=s;o.width=i.size.width;o.height=i.size.height}var f=o.width*a;var c=o.height*a;var d=new Uint8Array(u*f*c);if(i){r.bindRenderTarget(i);var p=r.gl;p.readPixels(o.x*a,o.y*a,f,c,p.RGBA,p.UNSIGNED_BYTE,d)}if(h){l.destroy(true)}return d};t.prototype.destroy=function t(){this.renderer.extract=null;this.renderer=null};return t}();e.default=l;n.WebGLRenderer.registerPlugin("extract",l)},function(t,e,r){"use strict";e.__esModule=true;var i=r(135);Object.defineProperty(e,"webgl",{enumerable:true,get:function t(){return a(i).default}});var n=r(134);Object.defineProperty(e,"canvas",{enumerable:true,get:function t(){return a(n).default}});function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=true;var i=r(1);var n=h(i);var a=r(33);var o=l(a);var s=r(61);var u=l(s);function l(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function f(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}n.utils.mixins.delayMixin(n.DisplayObject.prototype,u.default);var c=9;var d=100;var p=0;var v=0;var y=2;var g=1;var _=-1e3;var m=-1e3;var b=2;var x=function(){function t(e){f(this,t);if((o.default.tablet||o.default.phone)&&!navigator.isCocoonJS){this.createTouchHook()}var r=document.createElement("div");r.style.width=d+"px";r.style.height=d+"px";r.style.position="absolute";r.style.top=p+"px";r.style.left=v+"px";r.style.zIndex=y;this.div=r;this.pool=[];this.renderId=0;this.debug=false;this.renderer=e;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isActive=false;this.isMobileAccessabillity=false;window.addEventListener("keydown",this._onKeyDown,false)}t.prototype.createTouchHook=function t(){var e=this;var r=document.createElement("button");r.style.width=g+"px";r.style.height=g+"px";r.style.position="absolute";r.style.top=_+"px";r.style.left=m+"px";r.style.zIndex=b;r.style.backgroundColor="#FF0000";r.title="HOOK DIV";r.addEventListener("focus",function(){e.isMobileAccessabillity=true;e.activate();document.body.removeChild(r)});document.body.appendChild(r)};t.prototype.activate=function t(){if(this.isActive){return}this.isActive=true;window.document.addEventListener("mousemove",this._onMouseMove,true);window.removeEventListener("keydown",this._onKeyDown,false);this.renderer.on("postrender",this.update,this);if(this.renderer.view.parentNode){this.renderer.view.parentNode.appendChild(this.div)}};t.prototype.deactivate=function t(){if(!this.isActive||this.isMobileAccessabillity){return}this.isActive=false;window.document.removeEventListener("mousemove",this._onMouseMove);window.addEventListener("keydown",this._onKeyDown,false);this.renderer.off("postrender",this.update);if(this.div.parentNode){this.div.parentNode.removeChild(this.div)}};t.prototype.updateAccessibleObjects=function t(e){if(!e.visible){return}if(e.accessible&&e.interactive){if(!e._accessibleActive){this.addChild(e)}e.renderId=this.renderId}var r=e.children;for(var i=0;i<r.length;i++){this.updateAccessibleObjects(r[i])}};t.prototype.update=function t(){if(!this.renderer.renderingToScreen){return}this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect();var r=e.width/this.renderer.width;var i=e.height/this.renderer.height;var a=this.div;a.style.left=e.left+"px";a.style.top=e.top+"px";a.style.width=this.renderer.width+"px";a.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId){s._accessibleActive=false;n.utils.removeItems(this.children,o,1);this.div.removeChild(s._accessibleDiv);this.pool.push(s._accessibleDiv);s._accessibleDiv=null;o--;if(this.children.length===0){this.deactivate()}}else{a=s._accessibleDiv;var u=s.hitArea;var l=s.worldTransform;if(s.hitArea){a.style.left=(l.tx+u.x*l.a)*r+"px";a.style.top=(l.ty+u.y*l.d)*i+"px";a.style.width=u.width*l.a*r+"px";a.style.height=u.height*l.d*i+"px"}else{u=s.getBounds();this.capHitArea(u);a.style.left=u.x*r+"px";a.style.top=u.y*i+"px";a.style.width=u.width*r+"px";a.style.height=u.height*i+"px";if(a.title!==s.accessibleTitle&&s.accessibleTitle!==null){a.title=s.accessibleTitle}if(a.getAttribute("aria-label")!==s.accessibleHint&&s.accessibleHint!==null){a.setAttribute("aria-label",s.accessibleHint)}}}}this.renderId++};t.prototype.capHitArea=function t(e){if(e.x<0){e.width+=e.x;e.x=0}if(e.y<0){e.height+=e.y;e.y=0}if(e.x+e.width>this.renderer.width){e.width=this.renderer.width-e.x}if(e.y+e.height>this.renderer.height){e.height=this.renderer.height-e.y}};t.prototype.addChild=function t(e){var r=this.pool.pop();if(!r){r=document.createElement("button");r.style.width=d+"px";r.style.height=d+"px";r.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent";r.style.position="absolute";r.style.zIndex=y;r.style.borderStyle="none";if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){r.setAttribute("aria-live","off")}else{r.setAttribute("aria-live","polite")}if(navigator.userAgent.match(/rv:.*Gecko\//)){r.setAttribute("aria-relevant","additions")}else{r.setAttribute("aria-relevant","text")}r.addEventListener("click",this._onClick.bind(this));r.addEventListener("focus",this._onFocus.bind(this));r.addEventListener("focusout",this._onFocusOut.bind(this))}if(e.accessibleTitle&&e.accessibleTitle!==null){r.title=e.accessibleTitle}else if(!e.accessibleHint||e.accessibleHint===null){r.title="displayObject "+e.tabIndex}if(e.accessibleHint&&e.accessibleHint!==null){r.setAttribute("aria-label",e.accessibleHint)}e._accessibleActive=true;e._accessibleDiv=r;r.displayObject=e;this.children.push(e);this.div.appendChild(e._accessibleDiv);e._accessibleDiv.tabIndex=e.tabIndex};t.prototype._onClick=function t(e){var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"click",r.eventData)};t.prototype._onFocus=function t(e){if(!e.target.getAttribute("aria-live","off")){e.target.setAttribute("aria-live","assertive")}var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"mouseover",r.eventData)};t.prototype._onFocusOut=function t(e){if(!e.target.getAttribute("aria-live","off")){e.target.setAttribute("aria-live","polite")}var r=this.renderer.plugins.interaction;r.dispatchEvent(e.target.displayObject,"mouseout",r.eventData)};t.prototype._onKeyDown=function t(e){if(e.keyCode!==c){return}this.activate()};t.prototype._onMouseMove=function t(e){if(e.movementX===0&&e.movementY===0){return}this.deactivate()};t.prototype.destroy=function t(){this.div=null;for(var e=0;e<this.children.length;e++){this.children[e].div=null}window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",this._onKeyDown);this.pool=null;this.children=null;this.renderer=null};return t}();e.default=x;n.WebGLRenderer.registerPlugin("accessibility",x);n.CanvasRenderer.registerPlugin("accessibility",x)},function(t,e,r){"use strict";e.__esModule=true;var i=r(61);Object.defineProperty(e,"accessibleTarget",{enumerable:true,get:function t(){return a(i).default}});var n=r(137);Object.defineProperty(e,"AccessibilityManager",{enumerable:true,get:function t(){return a(n).default}});function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){"use strict";e.__esModule=true;e.default=a;var i={};function n(t){if(i[t]){return}var e=(new Error).stack;if(typeof e==="undefined"){console.warn("Deprecation Warning: ",t)}else{e=e.split("\n").splice(3).join("\n");if(console.groupCollapsed){console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t);console.warn(e);console.groupEnd()}else{console.warn("Deprecation Warning: ",t);console.warn(e)}}i[t]=true}function a(t){var e=t.mesh,r=t.particles,i=t.extras,a=t.filters,o=t.prepare,s=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function t(){throw new ReferenceError("SpriteBatch does not exist any more, "+"please use the new ParticleContainer instead.")}},AssetLoader:{get:function t(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, "+"please see the new PIXI.loaders.Loader class.")}},Stage:{get:function e(){n("You do not need to use a PIXI Stage any more, you can simply render any container.");return t.Container}},DisplayObjectContainer:{get:function e(){n("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return t.Container}},Strip:{get:function t(){n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");return e.Mesh}},Rope:{get:function t(){n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return e.Rope}},ParticleContainer:{get:function t(){n("The ParticleContainer class has been moved to particles.ParticleContainer, "+"please use particles.ParticleContainer from now on.");return r.ParticleContainer}},MovieClip:{get:function t(){n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");return i.AnimatedSprite}},TilingSprite:{get:function t(){n("The TilingSprite class has been moved to extras.TilingSprite, "+"please use extras.TilingSprite from now on.");return i.TilingSprite}},BitmapText:{get:function t(){n("The BitmapText class has been moved to extras.BitmapText, "+"please use extras.BitmapText from now on.");return i.BitmapText}},blendModes:{get:function e(){n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return t.BLEND_MODES}},scaleModes:{get:function e(){n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");return t.SCALE_MODES}},BaseTextureCache:{get:function e(){n("The BaseTextureCache class has been moved to utils.BaseTextureCache, "+"please use utils.BaseTextureCache from now on.");return t.utils.BaseTextureCache}},TextureCache:{get:function e(){n("The TextureCache class has been moved to utils.TextureCache, "+"please use utils.TextureCache from now on.");return t.utils.TextureCache}},math:{get:function e(){n("The math namespace is deprecated, please access members already accessible on PIXI.");return t}},AbstractFilter:{get:function e(){n("AstractFilter has been renamed to Filter, please use PIXI.Filter");return t.Filter}},TransformManual:{get:function e(){n("TransformManual has been renamed to TransformBase, please update your pixi-spine");return t.TransformBase}},TARGET_FPMS:{get:function e(){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");return t.settings.TARGET_FPMS},set:function e(r){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");t.settings.TARGET_FPMS=r}},FILTER_RESOLUTION:{get:function e(){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");return t.settings.FILTER_RESOLUTION},set:function e(r){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");t.settings.FILTER_RESOLUTION=r}},RESOLUTION:{get:function e(){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");return t.settings.RESOLUTION},set:function e(r){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");t.settings.RESOLUTION=r}},MIPMAP_TEXTURES:{get:function e(){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");return t.settings.MIPMAP_TEXTURES},set:function e(r){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");t.settings.MIPMAP_TEXTURES=r}},SPRITE_BATCH_SIZE:{get:function e(){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");return t.settings.SPRITE_BATCH_SIZE},set:function e(r){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");t.settings.SPRITE_BATCH_SIZE=r}},SPRITE_MAX_TEXTURES:{get:function e(){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");return t.settings.SPRITE_MAX_TEXTURES},set:function e(r){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");t.settings.SPRITE_MAX_TEXTURES=r}},RETINA_PREFIX:{get:function e(){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");return t.settings.RETINA_PREFIX},set:function e(r){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");t.settings.RETINA_PREFIX=r}},DEFAULT_RENDER_OPTIONS:{get:function e(){n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");return t.settings.RENDER_OPTIONS}}});var l=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}];var h=function e(r){var i=l[r];Object.defineProperty(t[i.parent],"DEFAULT",{get:function e(){n("PIXI."+i.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+i.target));return t.settings[i.target]},set:function e(r){n("PIXI."+i.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+i.target));t.settings[i.target]=r}})};for(var f=0;f<l.length;f++){h(f)}Object.defineProperties(t.settings,{PRECISION:{get:function e(){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");return t.settings.PRECISION_FRAGMENT},set:function e(r){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");t.settings.PRECISION_FRAGMENT=r}}});if(i.AnimatedSprite){Object.defineProperties(i,{MovieClip:{get:function t(){n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");return i.AnimatedSprite}}})}if(i){Object.defineProperties(i,{TextureTransform:{get:function e(){n("The TextureTransform class has been renamed to TextureMatrix, "+"please use PIXI.TextureMatrix from now on.");return t.TextureMatrix}}})}t.DisplayObject.prototype.generateTexture=function t(e,r,i){n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");return e.generateTexture(this,r,i)};t.Graphics.prototype.generateTexture=function t(e,r){n("graphics generate texture has moved to the renderer. "+"Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(e,r)};t.GroupD8.isSwapWidthHeight=function e(r){n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical");return t.GroupD8.isVertical(r)};t.RenderTexture.prototype.render=function t(e,r,i,a){this.legacyRenderer.render(e,this,i,r,!a);n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};t.RenderTexture.prototype.getImage=function t(e){n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");return this.legacyRenderer.extract.image(e)};t.RenderTexture.prototype.getBase64=function t(e){n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(e)};t.RenderTexture.prototype.getCanvas=function t(e){n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");return this.legacyRenderer.extract.canvas(e)};t.RenderTexture.prototype.getPixels=function t(e){n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");return this.legacyRenderer.pixels(e)};t.Sprite.prototype.setTexture=function t(e){this.texture=e;n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};if(i.BitmapText){i.BitmapText.prototype.setText=function t(e){this.text=e;n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}}t.Text.prototype.setText=function t(e){this.text=e;n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};t.Text.calculateFontProperties=function e(r){n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont");return t.TextMetrics.measureFont(r)};Object.defineProperties(t.Text,{fontPropertiesCache:{get:function e(){n("Text.fontPropertiesCache is deprecated");return t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function e(){n("Text.fontPropertiesCanvas is deprecated");return t.TextMetrics._canvas}},fontPropertiesContext:{get:function e(){n("Text.fontPropertiesContext is deprecated");return t.TextMetrics._context}}});t.Text.prototype.setStyle=function t(e){this.style=e;n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};t.Text.prototype.determineFontProperties=function e(r){n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method");return t.TextMetrics.measureFont(r)};t.Text.getFontStyle=function e(r){n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead");r=r||{};if(!(r instanceof t.TextStyle)){r=new t.TextStyle(r)}return r.toFontString()};Object.defineProperties(t.TextStyle.prototype,{font:{get:function t(){n("text style property 'font' is now deprecated, please use the "+"'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var e=typeof this._fontSize==="number"?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+e+" "+this._fontFamily},set:function t(e){n("text style property 'font' is now deprecated, please use the "+"'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");if(e.indexOf("italic")>1){this._fontStyle="italic"}else if(e.indexOf("oblique")>-1){this._fontStyle="oblique"}else{this._fontStyle="normal"}if(e.indexOf("small-caps")>-1){this._fontVariant="small-caps"}else{this._fontVariant="normal"}var r=e.split(" ");var i=-1;this._fontSize=26;for(var a=0;a<r.length;++a){if(r[a].match(/(px|pt|em|%)/)){i=a;this._fontSize=r[a];break}}this._fontWeight="normal";for(var o=0;o<i;++o){if(r[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=r[o];break}}if(i>-1&&i<r.length-1){this._fontFamily="";for(var s=i+1;s<r.length;++s){this._fontFamily+=r[s]+" "}this._fontFamily=this._fontFamily.slice(0,-1)}else{this._fontFamily="Arial"}this.styleID++}}});t.Texture.prototype.setFrame=function t(e){this.frame=e;n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")};t.Texture.addTextureToCache=function e(r,i){t.Texture.addToCache(r,i);n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")};t.Texture.removeTextureFromCache=function e(r){n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. "+"Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. "+"For that, use BaseTexture.removeFromCache");t.BaseTexture.removeFromCache(r);return t.Texture.removeFromCache(r)};Object.defineProperties(a,{AbstractFilter:{get:function e(){n("AstractFilter has been renamed to Filter, please use PIXI.Filter");return t.AbstractFilter}},SpriteMaskFilter:{get:function e(){n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");return t.SpriteMaskFilter}},VoidFilter:{get:function t(){n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter");return a.AlphaFilter}}});t.utils.uuid=function(){n("utils.uuid() is deprecated, please use utils.uid() from now on.");return t.utils.uid()};t.utils.canUseNewCanvasBlendModes=function(){n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return t.CanvasTinter.canUseMultiply};var c=true;Object.defineProperty(t.utils,"_saidHello",{set:function t(e){if(e){n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()");this.skipHello()}c=e},get:function t(){return c}});if(o.BasePrepare){o.BasePrepare.prototype.register=function t(e,r){n("renderer.plugins.prepare.register is now deprecated, "+"please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook");if(e){this.registerFindHook(e)}if(r){this.registerUploadHook(r)}return this}}if(o.canvas){Object.defineProperty(o.canvas,"UPLOADS_PER_FRAME",{set:function t(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set "+"renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function t(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use "+"renderer.plugins.prepare.limiter");return NaN}})}if(o.webgl){Object.defineProperty(o.webgl,"UPLOADS_PER_FRAME",{set:function t(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set "+"renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function t(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use "+"renderer.plugins.prepare.limiter");return NaN}})}if(s.Loader){var d=s.Resource;var p=s.Loader;Object.defineProperties(d.prototype,{isJson:{get:function t(){n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");return this.type===d.TYPE.JSON}},isXml:{get:function t(){n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");return this.type===d.TYPE.XML}},isImage:{get:function t(){n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");return this.type===d.TYPE.IMAGE}},isAudio:{get:function t(){n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");return this.type===d.TYPE.AUDIO}},isVideo:{get:function t(){n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");return this.type===d.TYPE.VIDEO}}});Object.defineProperties(p.prototype,{before:{get:function t(){n("The before() method is deprecated, please use pre().");return this.pre}},after:{get:function t(){n("The after() method is deprecated, please use use().");return this.use}}})}if(u.interactiveTarget){Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function t(e){n("Property defaultCursor has been replaced with 'cursor'. ");this.cursor=e},get:function t(){n("Property defaultCursor has been replaced with 'cursor'. ");return this.cursor}})}if(u.InteractionManager){Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function t(e){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");this.cursorStyles.default=e},get:function t(){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");return this.cursorStyles.default}});Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function t(e){n("Property currentCursorStyle has been removed."+"See the currentCursorMode property, which works differently.");this.currentCursorMode=e},get:function t(){n("Property currentCursorStyle has been removed."+"See the currentCursorMode property, which works differently.");return this.currentCursorMode}})}}},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(1);var a=r(2);function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var s=function(){i(t,null,[{key:"BATCH_SIZE",get:function t(){return 1e3}}]);function t(e,r){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;o(this,t);this.baseTexture=e;this.textures={};this.data=r;this.resolution=this._updateResolution(i||this.baseTexture.imageUrl);this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}t.prototype._updateResolution=function t(e){var r=this.data.meta.scale;var i=(0,a.getResolutionOfUrl)(e,null);if(i===null){i=r!==undefined?parseFloat(r):1}if(i!==1){this.baseTexture.resolution=i;this.baseTexture.update()}return i};t.prototype.parse=function e(r){this._batchIndex=0;this._callback=r;if(this._frameKeys.length<=t.BATCH_SIZE){this._processFrames(0);this._parseComplete()}else{this._nextBatch()}};t.prototype._processFrames=function e(r){var i=r;var a=t.BATCH_SIZE;var o=this.baseTexture.sourceScale;while(i-r<a&&i<this._frameKeys.length){var s=this._frameKeys[i];var u=this._frames[s];var l=u.frame;if(l){var h=null;var f=null;var c=u.trimmed!==false&&u.sourceSize?u.sourceSize:u.frame;var d=new n.Rectangle(0,0,Math.floor(c.w*o)/this.resolution,Math.floor(c.h*o)/this.resolution);if(u.rotated){h=new n.Rectangle(Math.floor(l.x*o)/this.resolution,Math.floor(l.y*o)/this.resolution,Math.floor(l.h*o)/this.resolution,Math.floor(l.w*o)/this.resolution)}else{h=new n.Rectangle(Math.floor(l.x*o)/this.resolution,Math.floor(l.y*o)/this.resolution,Math.floor(l.w*o)/this.resolution,Math.floor(l.h*o)/this.resolution)}if(u.trimmed!==false&&u.spriteSourceSize){f=new n.Rectangle(Math.floor(u.spriteSourceSize.x*o)/this.resolution,Math.floor(u.spriteSourceSize.y*o)/this.resolution,Math.floor(l.w*o)/this.resolution,Math.floor(l.h*o)/this.resolution)}this.textures[s]=new n.Texture(this.baseTexture,h,d,f,u.rotated?2:0);n.Texture.addToCache(this.textures[s],s)}i++}};t.prototype._parseComplete=function t(){var e=this._callback;this._callback=null;this._batchIndex=0;e.call(this,this.textures)};t.prototype._nextBatch=function e(){var r=this;this._processFrames(this._batchIndex*t.BATCH_SIZE);this._batchIndex++;setTimeout(function(){if(r._batchIndex*t.BATCH_SIZE<r._frameKeys.length){r._nextBatch()}else{r._parseComplete()}},0)};t.prototype.destroy=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;for(var r in this.textures){this.textures[r].destroy()}this._frames=null;this._frameKeys=null;this.data=null;this.textures=null;if(e){this.baseTexture.destroy()}this.baseTexture=null};return t}();e.default=s},function(t,e,r){"use strict";e.__esModule=true;var i=r(14);var n=o(i);var a=r(0);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function t(e){s(this,t);this.renderer=e}t.prototype.render=function t(e){var r=this.renderer;var i=r.context;var n=e.worldAlpha;var o=e.transform.worldTransform;var s=r.resolution;if(this._prevTint!==this.tint){this.dirty=true}i.setTransform(o.a*s,o.b*s,o.c*s,o.d*s,o.tx*s,o.ty*s);if(e.dirty){this.updateGraphicsTint(e);e.dirty=false}r.setBlendMode(e.blendMode);for(var u=0;u<e.graphicsData.length;u++){var l=e.graphicsData[u];var h=l.shape;var f=l._fillTint;var c=l._lineTint;i.lineWidth=l.lineWidth;if(l.type===a.SHAPES.POLY){i.beginPath();this.renderPolygon(h.points,h.closed,i);for(var d=0;d<l.holes.length;d++){this.renderPolygon(l.holes[d].points,true,i)}if(l.fill){i.globalAlpha=l.fillAlpha*n;i.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6);i.fill()}if(l.lineWidth){i.globalAlpha=l.lineAlpha*n;i.strokeStyle="#"+("00000"+(c|0).toString(16)).substr(-6);i.stroke()}}else if(l.type===a.SHAPES.RECT){if(l.fillColor||l.fillColor===0){i.globalAlpha=l.fillAlpha*n;i.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6);i.fillRect(h.x,h.y,h.width,h.height)}if(l.lineWidth){i.globalAlpha=l.lineAlpha*n;i.strokeStyle="#"+("00000"+(c|0).toString(16)).substr(-6);i.strokeRect(h.x,h.y,h.width,h.height)}}else if(l.type===a.SHAPES.CIRC){i.beginPath();i.arc(h.x,h.y,h.radius,0,2*Math.PI);i.closePath();if(l.fill){i.globalAlpha=l.fillAlpha*n;i.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6);i.fill()}if(l.lineWidth){i.globalAlpha=l.lineAlpha*n;i.strokeStyle="#"+("00000"+(c|0).toString(16)).substr(-6);i.stroke()}}else if(l.type===a.SHAPES.ELIP){var p=h.width*2;var v=h.height*2;var y=h.x-p/2;var g=h.y-v/2;i.beginPath();var _=.5522848;var m=p/2*_;var b=v/2*_;var x=y+p;var T=g+v;var w=y+p/2;var E=g+v/2;i.moveTo(y,E);i.bezierCurveTo(y,E-b,w-m,g,w,g);i.bezierCurveTo(w+m,g,x,E-b,x,E);i.bezierCurveTo(x,E+b,w+m,T,w,T);i.bezierCurveTo(w-m,T,y,E+b,y,E);i.closePath();if(l.fill){i.globalAlpha=l.fillAlpha*n;i.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6);i.fill()}if(l.lineWidth){i.globalAlpha=l.lineAlpha*n;i.strokeStyle="#"+("00000"+(c|0).toString(16)).substr(-6);i.stroke()}}else if(l.type===a.SHAPES.RREC){var S=h.x;var O=h.y;var M=h.width;var P=h.height;var C=h.radius;var A=Math.min(M,P)/2|0;C=C>A?A:C;i.beginPath();i.moveTo(S,O+C);i.lineTo(S,O+P-C);i.quadraticCurveTo(S,O+P,S+C,O+P);i.lineTo(S+M-C,O+P);i.quadraticCurveTo(S+M,O+P,S+M,O+P-C);i.lineTo(S+M,O+C);i.quadraticCurveTo(S+M,O,S+M-C,O);i.lineTo(S+C,O);i.quadraticCurveTo(S,O,S,O+C);i.closePath();if(l.fillColor||l.fillColor===0){i.globalAlpha=l.fillAlpha*n;i.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6);i.fill()}if(l.lineWidth){i.globalAlpha=l.lineAlpha*n;i.strokeStyle="#"+("00000"+(c|0).toString(16)).substr(-6);i.stroke()}}}};t.prototype.updateGraphicsTint=function t(e){e._prevTint=e.tint;var r=(e.tint>>16&255)/255;var i=(e.tint>>8&255)/255;var n=(e.tint&255)/255;for(var a=0;a<e.graphicsData.length;++a){var o=e.graphicsData[a];var s=o.fillColor|0;var u=o.lineColor|0;o._fillTint=((s>>16&255)/255*r*255<<16)+((s>>8&255)/255*i*255<<8)+(s&255)/255*n*255;o._lineTint=((u>>16&255)/255*r*255<<16)+((u>>8&255)/255*i*255<<8)+(u&255)/255*n*255}};t.prototype.renderPolygon=function t(e,r,i){i.moveTo(e[0],e[1]);for(var n=1;n<e.length/2;++n){i.lineTo(e[n*2],e[n*2+1])}if(r){i.closePath()}};t.prototype.destroy=function t(){this.renderer=null};return t}();e.default=u;n.default.registerPlugin("graphics",u)},function(t,e,r){"use strict";e.__esModule=true;e.default=u;var i=r(18);var n=s(i);var a=r(0);var o=r(2);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,r){var i=t.shape;var s=i.x;var u=i.y;var l=void 0;var h=void 0;if(t.type===a.SHAPES.CIRC){l=i.radius;h=i.radius}else{l=i.width;h=i.height}if(l===0||h===0){return}var f=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(i.width+i.height));var c=Math.PI*2/f;if(t.fill){var d=(0,o.hex2rgb)(t.fillColor);var p=t.fillAlpha;var v=d[0]*p;var y=d[1]*p;var g=d[2]*p;var _=e.points;var m=e.indices;var b=_.length/6;m.push(b);for(var x=0;x<f+1;x++){_.push(s,u,v,y,g,p);_.push(s+Math.sin(c*x)*l,u+Math.cos(c*x)*h,v,y,g,p);m.push(b++,b++)}m.push(b-1)}if(t.lineWidth){var T=t.points;t.points=[];for(var w=0;w<f+1;w++){t.points.push(s+Math.sin(c*-w)*l,u+Math.cos(c*-w)*h)}(0,n.default)(t,e,r);t.points=T}}},function(t,e,r){"use strict";e.__esModule=true;e.default=l;var i=r(31);var n=u(i);var a=r(18);var o=u(a);var s=r(2);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e,r){var i=t.shape;var a=i.x;var u=i.y;var l=i.width;var h=i.height;var c=i.radius;var d=[];d.push(a,u+c);f(a,u+h-c,a,u+h,a+c,u+h,d);f(a+l-c,u+h,a+l,u+h,a+l,u+h-c,d);f(a+l,u+c,a+l,u,a+l-c,u,d);f(a+c,u,a,u,a,u+c+1e-10,d);if(t.fill){var p=(0,s.hex2rgb)(t.fillColor);var v=t.fillAlpha;var y=p[0]*v;var g=p[1]*v;var _=p[2]*v;var m=e.points;var b=e.indices;var x=m.length/6;var T=(0,n.default)(d,null,2);for(var w=0,E=T.length;w<E;w+=3){b.push(T[w]+x);b.push(T[w]+x);b.push(T[w+1]+x);b.push(T[w+2]+x);b.push(T[w+2]+x)}for(var S=0,O=d.length;S<O;S++){m.push(d[S],d[++S],y,g,_,v)}}if(t.lineWidth){var M=t.points;t.points=d;(0,o.default)(t,e,r);t.points=M}}function h(t,e,r){var i=e-t;return t+i*r}function f(t,e,r,i,n,a){var o=arguments.length>6&&arguments[6]!==undefined?arguments[6]:[];var s=20;var u=o;var l=0;var f=0;var c=0;var d=0;var p=0;var v=0;for(var y=0,g=0;y<=s;++y){g=y/s;l=h(t,r,g);f=h(e,i,g);c=h(r,n,g);d=h(i,a,g);p=h(l,c,g);v=h(f,d,g);u.push(p,v)}return u}},function(t,e,r){"use strict";e.__esModule=true;e.default=s;var i=r(18);var n=o(i);var a=r(2);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,r){var i=t.shape;var o=i.x;var s=i.y;var u=i.width;var l=i.height;if(t.fill){var h=(0,a.hex2rgb)(t.fillColor);var f=t.fillAlpha;var c=h[0]*f;var d=h[1]*f;var p=h[2]*f;var v=e.points;var y=e.indices;var g=v.length/6;v.push(o,s);v.push(c,d,p,f);v.push(o+u,s);v.push(c,d,p,f);v.push(o,s+l);v.push(c,d,p,f);v.push(o+u,s+l);v.push(c,d,p,f);y.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var _=t.points;t.points=[o,s,o+u,s,o+u,s+l,o,s+l,o,s];(0,n.default)(t,e,r);t.points=_}}},function(t,e,r){"use strict";e.__esModule=true;e.default=l;var i=r(18);var n=u(i);var a=r(2);var o=r(31);var s=u(o);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e,r){t.points=t.shape.points.slice();var i=t.points;if(t.fill&&i.length>=6){var o=[];var u=t.holes;for(var l=0;l<u.length;l++){var h=u[l];o.push(i.length/2);i=i.concat(h.points)}var f=e.points;var c=e.indices;var d=i.length/2;var p=(0,a.hex2rgb)(t.fillColor);var v=t.fillAlpha;var y=p[0]*v;var g=p[1]*v;var _=p[2]*v;var m=(0,s.default)(i,o,2);if(!m){return}var b=f.length/6;for(var x=0;x<m.length;x+=3){c.push(m[x]+b);c.push(m[x]+b);c.push(m[x+1]+b);c.push(m[x+2]+b);c.push(m[x+2]+b)}for(var T=0;T<d;T++){f.push(i[T*2],i[T*2+1],y,g,_,v)}}if(t.lineWidth>0){(0,n.default)(t,e,r)}}},function(t,e,r){"use strict";e.__esModule=true;var i=r(12);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function s(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var l=function(t){u(e,t);function e(r){o(this,e);return s(this,t.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return e}(n.default);e.default=l},function(t,e,r){"use strict";e.__esModule=true;var i=r(5);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function t(e,r,i){o(this,t);this.gl=e;this.color=[0,0,0];this.points=[];this.indices=[];this.buffer=n.default.GLBuffer.createVertexBuffer(e);this.indexBuffer=n.default.GLBuffer.createIndexBuffer(e);this.dirty=true;this.nativeLines=false;this.glPoints=null;this.glIndices=null;this.shader=r;this.vao=new n.default.VertexArrayObject(e,i).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,e.FLOAT,false,4*6,0).addAttribute(this.buffer,r.attributes.aColor,e.FLOAT,false,4*6,2*4)}t.prototype.reset=function t(){this.points.length=0;this.indices.length=0};t.prototype.upload=function t(){this.glPoints=new Float32Array(this.points);this.buffer.upload(this.glPoints);this.glIndices=new Uint16Array(this.indices);this.indexBuffer.upload(this.glIndices);this.dirty=false};t.prototype.destroy=function t(){this.color=null;this.points=null;this.indices=null;this.vao.destroy();this.buffer.destroy();this.indexBuffer.destroy();this.gl=null;this.buffer=null;this.indexBuffer=null;this.glPoints=null;this.glIndices=null};return t}();e.default=s},function(t,e,r){"use strict";e.__esModule=true;var i=r(2);var n=r(0);var a=r(21);var o=x(a);var s=r(20);var u=x(s);var l=r(147);var h=x(l);var f=r(146);var c=x(f);var d=r(145);var p=x(d);var v=r(144);var y=x(v);var g=r(143);var _=x(g);var m=r(142);var b=x(m);function x(t){return t&&t.__esModule?t:{default:t}}function T(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function w(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function E(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var S=function(t){E(e,t);function e(r){T(this,e);var i=w(this,t.call(this,r));i.graphicsDataPool=[];i.primitiveShader=null;i.gl=r.gl;i.CONTEXT_UID=0;return i}e.prototype.onContextChange=function t(){this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.primitiveShader=new c.default(this.gl)};e.prototype.destroy=function t(){o.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e){this.graphicsDataPool[e].destroy()}this.graphicsDataPool=null};e.prototype.render=function t(e){var r=this.renderer;var n=r.gl;var a=void 0;var o=e._webGL[this.CONTEXT_UID];if(!o||e.dirty!==o.dirty){this.updateGraphics(e);o=e._webGL[this.CONTEXT_UID]}var s=this.primitiveShader;r.bindShader(s);r.state.setBlendMode(e.blendMode);for(var u=0,l=o.data.length;u<l;u++){a=o.data[u];var h=a.shader;r.bindShader(h);h.uniforms.translationMatrix=e.transform.worldTransform.toArray(true);h.uniforms.tint=(0,i.hex2rgb)(e.tint);h.uniforms.alpha=e.worldAlpha;r.bindVao(a.vao);if(a.nativeLines){n.drawArrays(n.LINES,0,a.points.length/6)}else{a.vao.draw(n.TRIANGLE_STRIP,a.indices.length)}}};e.prototype.updateGraphics=function t(e){var r=this.renderer.gl;var i=e._webGL[this.CONTEXT_UID];if(!i){i=e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:r,clearDirty:-1,dirty:-1}}i.dirty=e.dirty;if(e.clearDirty!==i.clearDirty){i.clearDirty=e.clearDirty;for(var a=0;a<i.data.length;a++){this.graphicsDataPool.push(i.data[a])}i.data.length=0;i.lastIndex=0}var o=void 0;var s=void 0;for(var u=i.lastIndex;u<e.graphicsData.length;u++){var l=e.graphicsData[u];o=this.getWebGLData(i,0);if(l.nativeLines&&l.lineWidth){s=this.getWebGLData(i,0,true);i.lastIndex++}if(l.type===n.SHAPES.POLY){(0,p.default)(l,o,s)}if(l.type===n.SHAPES.RECT){(0,y.default)(l,o,s)}else if(l.type===n.SHAPES.CIRC||l.type===n.SHAPES.ELIP){(0,b.default)(l,o,s)}else if(l.type===n.SHAPES.RREC){(0,_.default)(l,o,s)}i.lastIndex++}this.renderer.bindVao(null);for(var h=0;h<i.data.length;h++){o=i.data[h];if(o.dirty){o.upload()}}};e.prototype.getWebGLData=function t(e,r,i){var n=e.data[e.data.length-1];if(!n||n.nativeLines!==i||n.points.length>32e4){n=this.graphicsDataPool.pop()||new h.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState);n.nativeLines=i;n.reset(r);e.data.push(n)}n.dirty=true;return n};return e}(o.default);e.default=S;u.default.registerPlugin("graphics",S)},function(t,e,r){"use strict";e.__esModule=true;e.default=i;function i(t,e,r,i,n,a,o,s,u){var l=arguments.length>9&&arguments[9]!==undefined?arguments[9]:[];var h=0;var f=0;var c=0;var d=0;var p=0;l.push(t,e);for(var v=1,y=0;v<=u;++v){y=v/u;h=1-y;f=h*h;c=f*h;d=y*y;p=d*y;l.push(c*t+3*f*y*r+3*h*d*n+p*o,c*e+3*f*y*i+3*h*d*a+p*s)}return l}},function(t,e,r){"use strict";e.__esModule=true;var i=r(15);var n=T(i);var a=r(27);var o=T(a);var s=r(7);var u=T(s);var l=r(64);var h=T(l);var f=r(30);var c=T(f);var d=r(4);var p=r(2);var v=r(0);var y=r(34);var g=T(y);var _=r(149);var m=T(_);var b=r(14);var x=T(b);function T(t){return t&&t.__esModule?t:{default:t}}function w(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function E(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function S(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var O=void 0;var M=new d.Matrix;var P=new d.Point;var C=new Float32Array(4);var A=new Float32Array(4);var I=function(t){S(e,t);function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;w(this,e);var i=E(this,t.call(this));i.fillAlpha=1;i.lineWidth=0;i.nativeLines=r;i.lineColor=0;i.lineAlignment=.5;i.graphicsData=[];i.tint=16777215;i._prevTint=16777215;i.blendMode=v.BLEND_MODES.NORMAL;i.currentPath=null;i._webGL={};i.isMask=false;i.boundsPadding=0;i._localBounds=new g.default;i.dirty=0;i.fastRectDirty=-1;i.clearDirty=0;i.boundsDirty=-1;i.cachedSpriteDirty=false;i._spriteRect=null;i._fastRect=false;return i}e.prototype.clone=function t(){var t=new e;t.renderable=this.renderable;t.fillAlpha=this.fillAlpha;t.lineWidth=this.lineWidth;t.lineColor=this.lineColor;t.lineAlignment=this.lineAlignment;t.tint=this.tint;t.blendMode=this.blendMode;t.isMask=this.isMask;t.boundsPadding=this.boundsPadding;t.dirty=0;t.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r){t.graphicsData.push(this.graphicsData[r].clone())}t.currentPath=t.graphicsData[t.graphicsData.length-1];t.updateLocalBounds();return t};e.prototype._quadraticCurveLength=function t(e,r,i,n,a,o){var s=e-(2*i+a);var u=r-(2*n+o);var l=2*((i-2)*e);var h=2*((n-2)*r);var f=4*(s*s+u*u);var c=4*(s*l+u*h);var d=l*l+h*h;var p=2*Math.sqrt(f+c+d);var v=Math.sqrt(f);var y=2*f*v;var g=2*Math.sqrt(d);var _=c/v;return(y*p+v*c*(p-g)+(4*d*f-c*c)*Math.log((2*v+_+p)/(_+g)))/(4*y)};e.prototype._bezierCurveLength=function t(e,r,i,n,a,o,s,u){var l=10;var h=0;var f=0;var c=0;var d=0;var p=0;var v=0;var y=0;var g=0;var _=0;var m=0;var b=0;var x=e;var T=r;for(var w=1;w<=l;++w){f=w/l;c=f*f;d=c*f;p=1-f;v=p*p;y=v*p;g=y*e+3*v*f*i+3*p*c*a+d*s;_=y*r+3*v*f*n+3*p*c*o+d*u;m=x-g;b=T-_;x=g;T=_;h+=Math.sqrt(m*m+b*b)}return h};e.prototype._segmentsCount=function t(r){var i=Math.ceil(r/e.CURVES.maxLength);if(i<e.CURVES.minSegments){i=e.CURVES.minSegments}else if(i>e.CURVES.maxSegments){i=e.CURVES.maxSegments}return i};e.prototype.lineStyle=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:.5;this.lineWidth=e;this.lineColor=r;this.lineAlpha=i;this.lineAlignment=n;if(this.currentPath){if(this.currentPath.shape.points.length){var a=new d.Polygon(this.currentPath.shape.points.slice(-2));a.closed=false;this.drawShape(a)}else{this.currentPath.lineWidth=this.lineWidth;this.currentPath.lineColor=this.lineColor;this.currentPath.lineAlpha=this.lineAlpha;this.currentPath.lineAlignment=this.lineAlignment}}return this};e.prototype.moveTo=function t(e,r){var i=new d.Polygon([e,r]);i.closed=false;this.drawShape(i);return this};e.prototype.lineTo=function t(e,r){this.currentPath.shape.points.push(e,r);this.dirty++;return this};e.prototype.quadraticCurveTo=function t(r,i,n,a){if(this.currentPath){if(this.currentPath.shape.points.length===0){this.currentPath.shape.points=[0,0]}}else{this.moveTo(0,0)}var o=this.currentPath.shape.points;var s=0;var u=0;if(o.length===0){this.moveTo(0,0)}var l=o[o.length-2];var h=o[o.length-1];var f=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(l,h,r,i,n,a)):20;for(var c=1;c<=f;++c){var d=c/f;s=l+(r-l)*d;u=h+(i-h)*d;o.push(s+(r+(n-r)*d-s)*d,u+(i+(a-i)*d-u)*d)}this.dirty++;return this};e.prototype.bezierCurveTo=function t(r,i,n,a,o,s){if(this.currentPath){if(this.currentPath.shape.points.length===0){this.currentPath.shape.points=[0,0]}}else{this.moveTo(0,0)}var u=this.currentPath.shape.points;var l=u[u.length-2];var h=u[u.length-1];u.length-=2;var f=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(l,h,r,i,n,a,o,s)):20;(0,m.default)(l,h,r,i,n,a,o,s,f,u);this.dirty++;return this};e.prototype.arcTo=function t(e,r,i,n,a){if(this.currentPath){if(this.currentPath.shape.points.length===0){this.currentPath.shape.points.push(e,r)}}else{this.moveTo(e,r)}var o=this.currentPath.shape.points;var s=o[o.length-2];var u=o[o.length-1];var l=u-r;var h=s-e;var f=n-r;var c=i-e;var d=Math.abs(l*c-h*f);if(d<1e-8||a===0){if(o[o.length-2]!==e||o[o.length-1]!==r){o.push(e,r)}}else{var p=l*l+h*h;var v=f*f+c*c;var y=l*f+h*c;var g=a*Math.sqrt(p)/d;var _=a*Math.sqrt(v)/d;var m=g*y/p;var b=_*y/v;var x=g*c+_*h;var T=g*f+_*l;var w=h*(_+m);var E=l*(_+m);var S=c*(g+b);var O=f*(g+b);var M=Math.atan2(E-T,w-x);var P=Math.atan2(O-T,S-x);this.arc(x+e,T+r,a,M,P,h*f>c*l)}this.dirty++;return this};e.prototype.arc=function t(r,i,n,a,o){var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;if(a===o){return this}if(!s&&o<=a){o+=v.PI_2}else if(s&&a<=o){a+=v.PI_2}var u=o-a;var l=e.CURVES.adaptive?this._segmentsCount(Math.abs(u)*n):Math.ceil(Math.abs(u)/v.PI_2)*40;if(u===0){return this}var h=r+Math.cos(a)*n;var f=i+Math.sin(a)*n;var c=this.currentPath?this.currentPath.shape.points:null;if(c){if(c[c.length-2]!==h||c[c.length-1]!==f){c.push(h,f)}}else{this.moveTo(h,f);c=this.currentPath.shape.points}var d=u/(l*2);var p=d*2;var y=Math.cos(d);var g=Math.sin(d);var _=l-1;var m=_%1/_;for(var b=0;b<=_;++b){var x=b+m*b;var T=d+a+p*x;var w=Math.cos(T);var E=-Math.sin(T);c.push((y*w+g*E)*n+r,(y*-E+g*w)*n+i)}this.dirty++;return this};e.prototype.beginFill=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this.filling=true;this.fillColor=e;this.fillAlpha=r;if(this.currentPath){if(this.currentPath.shape.points.length<=2){this.currentPath.fill=this.filling;this.currentPath.fillColor=this.fillColor;this.currentPath.fillAlpha=this.fillAlpha}}return this};e.prototype.endFill=function t(){this.filling=false;this.fillColor=null;this.fillAlpha=1;return this};e.prototype.drawRect=function t(e,r,i,n){this.drawShape(new d.Rectangle(e,r,i,n));return this};e.prototype.drawRoundedRect=function t(e,r,i,n,a){this.drawShape(new d.RoundedRectangle(e,r,i,n,a));return this};e.prototype.drawCircle=function t(e,r,i){this.drawShape(new d.Circle(e,r,i));return this};e.prototype.drawEllipse=function t(e,r,i,n){this.drawShape(new d.Ellipse(e,r,i,n));return this};e.prototype.drawPolygon=function t(e){var r=e;var i=true;if(r instanceof d.Polygon){i=r.closed;r=r.points}if(!Array.isArray(r)){r=new Array(arguments.length);for(var n=0;n<r.length;++n){r[n]=arguments[n]}}var a=new d.Polygon(r);a.closed=i;this.drawShape(a);return this};e.prototype.drawStar=function t(e,r,i,n,a){var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;a=a||n/2;var s=-1*Math.PI/2+o;var u=i*2;var l=v.PI_2/u;var h=[];for(var f=0;f<u;f++){var c=f%2?a:n;var d=f*l+s;h.push(e+c*Math.cos(d),r+c*Math.sin(d))}return this.drawPolygon(h)};e.prototype.clear=function t(){if(this.lineWidth||this.filling||this.graphicsData.length>0){this.lineWidth=0;this.lineAlignment=.5;this.filling=false;this.boundsDirty=-1;this.dirty++;this.clearDirty++;this.graphicsData.length=0}this.currentPath=null;this._spriteRect=null;return this};e.prototype.isFastRect=function t(){return this.graphicsData.length===1&&this.graphicsData[0].shape.type===v.SHAPES.RECT&&!this.graphicsData[0].lineWidth};e.prototype._renderWebGL=function t(e){if(this.dirty!==this.fastRectDirty){this.fastRectDirty=this.dirty;this._fastRect=this.isFastRect()}if(this._fastRect){this._renderSpriteRect(e)}else{e.setObjectRenderer(e.plugins.graphics);e.plugins.graphics.render(this)}};e.prototype._renderSpriteRect=function t(e){var r=this.graphicsData[0].shape;if(!this._spriteRect){this._spriteRect=new c.default(new u.default(u.default.WHITE))}var i=this._spriteRect;if(this.tint===16777215){i.tint=this.graphicsData[0].fillColor}else{var n=C;var a=A;(0,p.hex2rgb)(this.graphicsData[0].fillColor,n);(0,p.hex2rgb)(this.tint,a);n[0]*=a[0];n[1]*=a[1];n[2]*=a[2];i.tint=(0,p.rgb2hex)(n)}i.alpha=this.graphicsData[0].fillAlpha;i.worldAlpha=this.worldAlpha*i.alpha;i.blendMode=this.blendMode;i._texture._frame.width=r.width;i._texture._frame.height=r.height;i.transform.worldTransform=this.transform.worldTransform;i.anchor.set(-r.x/r.width,-r.y/r.height);i._onAnchorUpdate();i._renderWebGL(e)};e.prototype._renderCanvas=function t(e){if(this.isMask===true){return}e.plugins.graphics.render(this)};e.prototype._calculateBounds=function t(){if(this.boundsDirty!==this.dirty){this.boundsDirty=this.dirty;this.updateLocalBounds();this.cachedSpriteDirty=true}var e=this._localBounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)};e.prototype.containsPoint=function t(e){this.worldTransform.applyInverse(e,P);var r=this.graphicsData;for(var i=0;i<r.length;++i){var n=r[i];if(!n.fill){continue}if(n.shape){if(n.shape.contains(P.x,P.y)){if(n.holes){for(var a=0;a<n.holes.length;a++){var o=n.holes[a];if(o.contains(P.x,P.y)){return false}}}return true}}}return false};e.prototype.updateLocalBounds=function t(){var e=Infinity;var r=-Infinity;var i=Infinity;var n=-Infinity;if(this.graphicsData.length){var a=0;var o=0;var s=0;var u=0;var l=0;for(var h=0;h<this.graphicsData.length;h++){var f=this.graphicsData[h];var c=f.type;var d=f.lineWidth;a=f.shape;if(c===v.SHAPES.RECT||c===v.SHAPES.RREC){o=a.x-d/2;s=a.y-d/2;u=a.width+d;l=a.height+d;e=o<e?o:e;r=o+u>r?o+u:r;i=s<i?s:i;n=s+l>n?s+l:n}else if(c===v.SHAPES.CIRC){o=a.x;s=a.y;u=a.radius+d/2;l=a.radius+d/2;e=o-u<e?o-u:e;r=o+u>r?o+u:r;i=s-l<i?s-l:i;n=s+l>n?s+l:n}else if(c===v.SHAPES.ELIP){o=a.x;s=a.y;u=a.width+d/2;l=a.height+d/2;e=o-u<e?o-u:e;r=o+u>r?o+u:r;i=s-l<i?s-l:i;n=s+l>n?s+l:n}else{var p=a.points;var y=0;var g=0;var _=0;var m=0;var b=0;var x=0;var T=0;var w=0;for(var E=0;E+2<p.length;E+=2){o=p[E];s=p[E+1];y=p[E+2];g=p[E+3];_=Math.abs(y-o);m=Math.abs(g-s);l=d;u=Math.sqrt(_*_+m*m);if(u<1e-9){continue}b=(l/u*m+_)/2;x=(l/u*_+m)/2;T=(y+o)/2;w=(g+s)/2;e=T-b<e?T-b:e;r=T+b>r?T+b:r;i=w-x<i?w-x:i;n=w+x>n?w+x:n}}}}else{e=0;r=0;i=0;n=0}var S=this.boundsPadding;this._localBounds.minX=e-S;this._localBounds.maxX=r+S;this._localBounds.minY=i-S;this._localBounds.maxY=n+S};e.prototype.drawShape=function t(e){if(this.currentPath){if(this.currentPath.shape.points.length<=2){this.graphicsData.pop()}}this.currentPath=null;var r=new h.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,e,this.lineAlignment);this.graphicsData.push(r);if(r.type===v.SHAPES.POLY){r.shape.closed=r.shape.closed||this.filling;this.currentPath=r}this.dirty++;return r};e.prototype.generateCanvasTexture=function t(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=this.getLocalBounds();var n=o.default.create(i.width,i.height,e,r);if(!O){O=new x.default}this.transform.updateLocalTransform();this.transform.localTransform.copy(M);M.invert();M.tx-=i.x;M.ty-=i.y;O.render(this,n,true,M);var a=u.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,e,"graphics");a.baseTexture.resolution=r;a.baseTexture.update();return a};e.prototype.closePath=function t(){var e=this.currentPath;if(e&&e.shape){e.shape.close()}return this};e.prototype.addHole=function t(){var e=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(e.shape);this.currentPath=null;return this};e.prototype.destroy=function e(r){t.prototype.destroy.call(this,r);for(var i=0;i<this.graphicsData.length;++i){this.graphicsData[i].destroy()}for(var n in this._webGL){for(var a=0;a<this._webGL[n].data.length;++a){this._webGL[n].data[a].destroy()}}if(this._spriteRect){this._spriteRect.destroy()}this.graphicsData=null;this.currentPath=null;this._webGL=null;this._localBounds=null};return e}(n.default);e.default=I;I._SPRITE_TEXTURE=null;I.CURVES={adaptive:false,maxLength:10,minSegments:8,maxSegments:2048}},function(t,e,r){"use strict";e.__esModule=true;e.default=i;function i(t){var e=t.width;var r=t.height;var i=t.getContext("2d");var n=i.getImageData(0,0,e,r);var a=n.data;var o=a.length;var s={top:null,left:null,right:null,bottom:null};var u=void 0;var l=void 0;var h=void 0;for(u=0;u<o;u+=4){if(a[u+3]!==0){l=u/4%e;h=~~(u/4/e);if(s.top===null){s.top=h}if(s.left===null){s.left=l}else if(l<s.left){s.left=l}if(s.right===null){s.right=l+1}else if(s.right<l){s.right=l+1}if(s.bottom===null){s.bottom=h}else if(s.bottom<h){s.bottom=h}}}e=s.right-s.left;r=s.bottom-s.top+1;var f=i.getImageData(s.left,s.top,e,r);return{height:r,width:e,data:f}}},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(30);var a=m(n);var o=r(7);var s=m(o);var u=r(4);var l=r(2);var h=r(0);var f=r(3);var c=m(f);var d=r(66);var p=m(d);var v=r(65);var y=m(v);var g=r(151);var _=m(g);function m(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function x(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function T(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var w={texture:true,children:false,baseTexture:true};var E=function(t){T(e,t);function e(r,i,n){b(this,e);n=n||document.createElement("canvas");n.width=3;n.height=3;var a=s.default.fromCanvas(n,c.default.SCALE_MODE,"text");a.orig=new u.Rectangle;a.trim=new u.Rectangle;var o=x(this,t.call(this,a));s.default.addToCache(o._texture,o._texture.baseTexture.textureCacheIds[0]);o.canvas=n;o.context=o.canvas.getContext("2d");o.resolution=c.default.RESOLUTION;o._text=null;o._style=null;o._styleListener=null;o._font="";o.text=r;o.style=i;o.localStyleID=-1;return o}e.prototype.updateText=function t(e){var r=this._style;if(this.localStyleID!==r.styleID){this.dirty=true;this.localStyleID=r.styleID}if(!this.dirty&&e){return}this._font=this._style.toFontString();var i=this.context;var n=y.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas);var a=n.width;var o=n.height;var s=n.lines;var u=n.lineHeight;var l=n.lineWidths;var h=n.maxLineWidth;var f=n.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+r.padding*2)*this.resolution);this.canvas.height=Math.ceil((Math.max(1,o)+r.padding*2)*this.resolution);i.scale(this.resolution,this.resolution);i.clearRect(0,0,this.canvas.width,this.canvas.height);i.font=this._font;i.strokeStyle=r.stroke;i.lineWidth=r.strokeThickness;i.textBaseline=r.textBaseline;i.lineJoin=r.lineJoin;i.miterLimit=r.miterLimit;var c=void 0;var d=void 0;if(r.dropShadow){i.fillStyle=r.dropShadowColor;i.globalAlpha=r.dropShadowAlpha;i.shadowBlur=r.dropShadowBlur;if(r.dropShadowBlur>0){i.shadowColor=r.dropShadowColor}var p=Math.cos(r.dropShadowAngle)*r.dropShadowDistance;var v=Math.sin(r.dropShadowAngle)*r.dropShadowDistance;for(var g=0;g<s.length;g++){c=r.strokeThickness/2;d=r.strokeThickness/2+g*u+f.ascent;if(r.align==="right"){c+=h-l[g]}else if(r.align==="center"){c+=(h-l[g])/2}if(r.fill){this.drawLetterSpacing(s[g],c+p+r.padding,d+v+r.padding);if(r.stroke&&r.strokeThickness){i.strokeStyle=r.dropShadowColor;this.drawLetterSpacing(s[g],c+p+r.padding,d+v+r.padding,true);i.strokeStyle=r.stroke}}}}i.shadowBlur=0;i.globalAlpha=1;i.fillStyle=this._generateFillStyle(r,s);for(var _=0;_<s.length;_++){c=r.strokeThickness/2;d=r.strokeThickness/2+_*u+f.ascent;if(r.align==="right"){c+=h-l[_]}else if(r.align==="center"){c+=(h-l[_])/2}if(r.stroke&&r.strokeThickness){this.drawLetterSpacing(s[_],c+r.padding,d+r.padding,true)}if(r.fill){this.drawLetterSpacing(s[_],c+r.padding,d+r.padding)}}this.updateTexture()};e.prototype.drawLetterSpacing=function t(e,r,i){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var a=this._style;var o=a.letterSpacing;if(o===0){if(n){this.context.strokeText(e,r,i)}else{this.context.fillText(e,r,i)}return}var s=String.prototype.split.call(e,"");var u=r;var l=0;var h="";while(l<e.length){h=s[l++];if(n){this.context.strokeText(h,u,i)}else{this.context.fillText(h,u,i)}u+=this.context.measureText(h).width+o}};e.prototype.updateTexture=function t(){var e=this.canvas;if(this._style.trim){var r=(0,_.default)(e);e.width=r.width;e.height=r.height;this.context.putImageData(r.data,0,0)}var i=this._texture;var n=this._style;var a=n.trim?0:n.padding;var o=i.baseTexture;o.hasLoaded=true;o.resolution=this.resolution;o.realWidth=e.width;o.realHeight=e.height;o.width=e.width/this.resolution;o.height=e.height/this.resolution;i.trim.width=i._frame.width=e.width/this.resolution;i.trim.height=i._frame.height=e.height/this.resolution;i.trim.x=-a;i.trim.y=-a;i.orig.width=i._frame.width-a*2;i.orig.height=i._frame.height-a*2;this._onTextureUpdate();o.emit("update",o);this.dirty=false};e.prototype.renderWebGL=function e(r){if(this.resolution!==r.resolution){this.resolution=r.resolution;this.dirty=true}this.updateText(true);t.prototype.renderWebGL.call(this,r)};e.prototype._renderCanvas=function e(r){if(this.resolution!==r.resolution){this.resolution=r.resolution;this.dirty=true}this.updateText(true);t.prototype._renderCanvas.call(this,r)};e.prototype.getLocalBounds=function e(r){this.updateText(true);return t.prototype.getLocalBounds.call(this,r)};e.prototype._calculateBounds=function t(){this.updateText(true);this.calculateVertices();this._bounds.addQuad(this.vertexData)};e.prototype._onStyleChange=function t(){this.dirty=true};e.prototype._generateFillStyle=function t(e,r){if(!Array.isArray(e.fill)){return e.fill}if(navigator.isCocoonJS){return e.fill[0]}var i=void 0;var n=void 0;var a=void 0;var o=void 0;var s=this.canvas.width/this.resolution;var u=this.canvas.height/this.resolution;var l=e.fill.slice();var f=e.fillGradientStops.slice();if(!f.length){var c=l.length+1;for(var d=1;d<c;++d){f.push(d/c)}}l.unshift(e.fill[0]);f.unshift(0);l.push(e.fill[e.fill.length-1]);f.push(1);if(e.fillGradientType===h.TEXT_GRADIENT.LINEAR_VERTICAL){i=this.context.createLinearGradient(s/2,0,s/2,u);n=(l.length+1)*r.length;a=0;for(var p=0;p<r.length;p++){a+=1;for(var v=0;v<l.length;v++){if(typeof f[v]==="number"){o=f[v]/r.length+p/r.length}else{o=a/n}i.addColorStop(o,l[v]);a++}}}else{i=this.context.createLinearGradient(0,u/2,s,u/2);n=l.length+1;a=1;for(var y=0;y<l.length;y++){if(typeof f[y]==="number"){o=f[y]}else{o=a/n}i.addColorStop(o,l[y]);a++}}return i};e.prototype.destroy=function e(r){if(typeof r==="boolean"){r={children:r}}r=Object.assign({},w,r);t.prototype.destroy.call(this,r);this.context=null;this.canvas=null;this._style=null};i(e,[{key:"width",get:function t(){this.updateText(true);return Math.abs(this.scale.x)*this._texture.orig.width},set:function t(e){this.updateText(true);var r=(0,l.sign)(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width;this._width=e}},{key:"height",get:function t(){this.updateText(true);return Math.abs(this.scale.y)*this._texture.orig.height},set:function t(e){this.updateText(true);var r=(0,l.sign)(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height;this._height=e}},{key:"style",get:function t(){return this._style},set:function t(e){e=e||{};if(e instanceof p.default){this._style=e}else{this._style=new p.default(e)}this.localStyleID=-1;this.dirty=true}},{key:"text",get:function t(){return this._text},set:function t(e){e=String(e===""||e===null||e===undefined?" ":e);if(this._text===e){return}this._text=e;this.dirty=true}}]);return e}(a.default);e.default=E},function(t,e,r){"use strict";e.__esModule=true;function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function t(e){i(this,t);this.vertices=new ArrayBuffer(e);this.float32View=new Float32Array(this.vertices);this.uint32View=new Uint32Array(this.vertices)}t.prototype.destroy=function t(){this.vertices=null;this.positions=null;this.uvs=null;this.colors=null};return t}();e.default=n},function(t,e,r){"use strict";e.__esModule=true;e.default=s;var i=r(5);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var o=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function s(t,e){var r=!e;if(t===0){throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`")}if(r){var i=document.createElement("canvas");i.width=1;i.height=1;e=n.default.createContext(i)}var a=e.createShader(e.FRAGMENT_SHADER);while(true){var s=o.replace(/%forloop%/gi,u(t));e.shaderSource(a,s);e.compileShader(a);if(!e.getShaderParameter(a,e.COMPILE_STATUS)){t=t/2|0}else{break}}if(r){if(e.getExtension("WEBGL_lose_context")){e.getExtension("WEBGL_lose_context").loseContext()}}return t}function u(t){var e="";for(var r=0;r<t;++r){if(r>0){e+="\nelse "}if(r<t-1){e+="if(test == "+r+".0){}"}}return e}},function(t,e,r){"use strict";e.__esModule=true;e.default=u;var i=r(12);var n=o(i);var a=r(6);function o(t){return t&&t.__esModule?t:{default:t}}var s=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");function u(t,e){var r="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n";var i=s;i=i.replace(/%count%/gi,e);i=i.replace(/%forloop%/gi,l(e));var a=new n.default(t,r,i);var o=[];for(var u=0;u<e;u++){o[u]=u}a.bind();a.uniforms.uSamplers=o;return a}function l(t){var e="";e+="\n";e+="\n";for(var r=0;r<t;r++){if(r>0){e+="\nelse "}if(r<t-1){e+="if(textureId == "+r+".0)"}e+="\n{";e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);";e+="\n}"}e+="\n";e+="\n";return e}},function(t,e,r){"use strict";e.__esModule=true;e.default=i;function i(t){var e=t.getContextAttributes();if(!e.stencil){console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}}},function(t,e,r){"use strict";e.__esModule=true;e.default=n;var i=r(0);function n(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e[i.DRAW_MODES.POINTS]=t.POINTS;e[i.DRAW_MODES.LINES]=t.LINES;e[i.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP;e[i.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP;e[i.DRAW_MODES.TRIANGLES]=t.TRIANGLES;e[i.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP;e[i.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN;return e}},function(t,e,r){"use strict";e.__esModule=true;e.default=n;var i=r(0);function n(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];e[i.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA];e[i.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR];e[i.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA];e[i.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA];e[i.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR];return e}},function(t,e,r){"use strict";e.__esModule=true;var i=r(158);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var s=0;var u=1;var l=2;var h=3;var f=4;var c=function(){function t(e){o(this,t);this.activeState=new Uint8Array(16);this.defaultState=new Uint8Array(16);this.defaultState[0]=1;this.stackIndex=0;this.stack=[];this.gl=e;this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)};this.blendModes=(0,n.default)(e);this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}t.prototype.push=function t(){var e=this.stack[this.stackIndex];if(!e){e=this.stack[this.stackIndex]=new Uint8Array(16)}++this.stackIndex;for(var r=0;r<this.activeState.length;r++){e[r]=this.activeState[r]}};t.prototype.pop=function t(){var e=this.stack[--this.stackIndex];this.setState(e)};t.prototype.setState=function t(e){this.setBlend(e[s]);this.setDepthTest(e[u]);this.setFrontFace(e[l]);this.setCullFace(e[h]);this.setBlendMode(e[f])};t.prototype.setBlend=function t(e){e=e?1:0;if(this.activeState[s]===e){return}this.activeState[s]=e;this.gl[e?"enable":"disable"](this.gl.BLEND)};t.prototype.setBlendMode=function t(e){if(e===this.activeState[f]){return}this.activeState[f]=e;var r=this.blendModes[e];if(r.length===2){this.gl.blendFunc(r[0],r[1])}else{this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3])}};t.prototype.setDepthTest=function t(e){e=e?1:0;if(this.activeState[u]===e){return}this.activeState[u]=e;this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)};t.prototype.setCullFace=function t(e){e=e?1:0;if(this.activeState[h]===e){return}this.activeState[h]=e;this.gl[e?"enable":"disable"](this.gl.CULL_FACE)};t.prototype.setFrontFace=function t(e){e=e?1:0;if(this.activeState[l]===e){return}this.activeState[l]=e;this.gl.frontFace(this.gl[e?"CW":"CCW"])};t.prototype.resetAttributes=function t(){for(var e=0;e<this.attribState.tempAttribState.length;e++){this.attribState.tempAttribState[e]=0}for(var r=0;r<this.attribState.attribState.length;r++){this.attribState.attribState[r]=0}for(var i=1;i<this.maxAttribs;i++){this.gl.disableVertexAttribArray(i)}};t.prototype.resetToDefault=function t(){if(this.nativeVaoExtension){this.nativeVaoExtension.bindVertexArrayOES(null)}this.resetAttributes();for(var e=0;e<this.activeState.length;++e){this.activeState[e]=32}this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,false);this.setState(this.defaultState)};return t}();e.default=c},function(t,e,r){"use strict";e.__esModule=true;var i=r(0);var n=r(3);var a=o(n);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function t(e){s(this,t);this.renderer=e;this.count=0;this.checkCount=0;this.maxIdle=a.default.GC_MAX_IDLE;this.checkCountMax=a.default.GC_MAX_CHECK_COUNT;this.mode=a.default.GC_MODE}t.prototype.update=function t(){this.count++;if(this.mode===i.GC_MODES.MANUAL){return}this.checkCount++;if(this.checkCount>this.checkCountMax){this.checkCount=0;this.run()}};t.prototype.run=function t(){var e=this.renderer.textureManager;var r=e._managedTextures;var i=false;for(var n=0;n<r.length;n++){var a=r[n];if(!a._glRenderTargets&&this.count-a.touched>this.maxIdle){e.destroyTexture(a,true);r[n]=null;i=true}}if(i){var o=0;for(var s=0;s<r.length;s++){if(r[s]!==null){r[o++]=r[s]}}r.length=o}};t.prototype.unload=function t(e){var r=this.renderer.textureManager;if(e._texture&&e._texture._glRenderTargets){r.destroyTexture(e._texture,true)}for(var i=e.children.length-1;i>=0;i--){this.unload(e.children[i])}};return t}();e.default=u},function(t,e,r){"use strict";e.__esModule=true;var i=r(5);var n=r(0);var a=r(19);var o=u(a);var s=r(2);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var h=function(){function t(e){l(this,t);this.renderer=e;this.gl=e.gl;this._managedTextures=[]}t.prototype.bindTexture=function t(){};t.prototype.getTexture=function t(){};t.prototype.updateTexture=function t(e,r){var a=this.gl;var s=!!e._glRenderTargets;if(!e.hasLoaded){return null}var u=this.renderer.boundTextures;if(r===undefined){r=0;for(var l=0;l<u.length;++l){if(u[l]===e){r=l;break}}}u[r]=e;a.activeTexture(a.TEXTURE0+r);var h=e._glTextures[this.renderer.CONTEXT_UID];if(!h){if(s){var f=new o.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);f.resize(e.width,e.height);e._glRenderTargets[this.renderer.CONTEXT_UID]=f;h=f.texture}else{h=new i.GLTexture(this.gl,null,null,null,null);h.bind(r);h.premultiplyAlpha=true;h.upload(e.source)}e._glTextures[this.renderer.CONTEXT_UID]=h;e.on("update",this.updateTexture,this);e.on("dispose",this.destroyTexture,this);this._managedTextures.push(e);if(e.isPowerOfTwo){if(e.mipmap){h.enableMipmap()}if(e.wrapMode===n.WRAP_MODES.CLAMP){h.enableWrapClamp()}else if(e.wrapMode===n.WRAP_MODES.REPEAT){h.enableWrapRepeat()}else{h.enableWrapMirrorRepeat()}}else{h.enableWrapClamp()}if(e.scaleMode===n.SCALE_MODES.NEAREST){h.enableNearestScaling()}else{h.enableLinearScaling()}}else if(s){e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height)}else{h.upload(e.source)}return h};t.prototype.destroyTexture=function t(e,r){e=e.baseTexture||e;if(!e.hasLoaded){return}var i=this.renderer.CONTEXT_UID;var n=e._glTextures;var a=e._glRenderTargets;if(n[i]){this.renderer.unbindTexture(e);n[i].destroy();e.off("update",this.updateTexture,this);e.off("dispose",this.destroyTexture,this);delete n[i];if(!r){var o=this._managedTextures.indexOf(e);if(o!==-1){(0,s.removeItems)(this._managedTextures,o,1)}}}if(a&&a[i]){a[i].destroy();delete a[i]}};t.prototype.removeAll=function t(){for(var e=0;e<this._managedTextures.length;++e){var r=this._managedTextures[e];if(r._glTextures[this.renderer.CONTEXT_UID]){delete r._glTextures[this.renderer.CONTEXT_UID]}}};t.prototype.destroy=function t(){for(var e=0;e<this._managedTextures.length;++e){var r=this._managedTextures[e];this.destroyTexture(r,true);r.off("update",this.updateTexture,this);r.off("dispose",this.destroyTexture,this)}this._managedTextures=null};return t}();e.default=h},function(t,e,r){"use strict";e.__esModule=true;e.calculateScreenSpaceMatrix=n;e.calculateNormalizedScreenSpaceMatrix=a;e.calculateSpriteMatrix=o;var i=r(4);function n(t,e,r){var i=t.identity();i.translate(e.x/r.width,e.y/r.height);i.scale(r.width,r.height);return i}function a(t,e,r){var i=t.identity();i.translate(e.x/r.width,e.y/r.height);var n=r.width/e.width;var a=r.height/e.height;i.scale(n,a);return i}function o(t,e,r,n){var a=n._texture.orig;var o=t.set(r.width,0,0,r.height,e.x,e.y);var s=n.worldTransform.copy(i.Matrix.TEMP_MATRIX);s.invert();o.prepend(s);o.scale(1/a.width,1/a.height);o.translate(n.anchor.x,n.anchor.y);return o}},function(t,e,r){"use strict";e.__esModule=true;var i=r(13);var n=g(i);var a=r(19);var o=g(a);var s=r(67);var u=g(s);var l=r(4);var h=r(12);var f=g(h);var c=r(162);var d=y(c);var p=r(29);var v=g(p);function y(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function g(t){return t&&t.__esModule?t:{default:t}}function _(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function m(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}function b(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var x=function(){function t(){b(this,t);this.renderTarget=null;this.target=null;this.resolution=1;this.sourceFrame=new l.Rectangle;this.destinationFrame=new l.Rectangle;this.filters=[]}t.prototype.clear=function t(){this.filters=null;this.target=null;this.renderTarget=null};return t}();var T="screen";var w=function(t){m(e,t);function e(r){b(this,e);var i=_(this,t.call(this,r));i.gl=i.renderer.gl;i.quad=new u.default(i.gl,r.state.attribState);i.shaderCache={};i.pool={};i.filterData=null;i.managedFilters=[];i.renderer.on("prerender",i.onPrerender,i);i._screenWidth=r.view.width;i._screenHeight=r.view.height;return i}e.prototype.pushFilter=function t(e,r){var i=this.renderer;var n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var a=new x;a.sourceFrame=a.destinationFrame=this.renderer._activeRenderTarget.size;a.renderTarget=i._activeRenderTarget;this.renderer._activeRenderTarget.filterData=n={index:0,stack:[a]};this.filterData=n}var o=n.stack[++n.index];var s=n.stack[0].destinationFrame;if(!o){o=n.stack[n.index]=new x}var u=e.filterArea&&e.filterArea.x===0&&e.filterArea.y===0&&e.filterArea.width===i.screen.width&&e.filterArea.height===i.screen.height;var l=r[0].resolution;var h=r[0].padding|0;var f=u?i.screen:e.filterArea||e.getBounds(true);var c=o.sourceFrame;var d=o.destinationFrame;c.x=(f.x*l|0)/l;c.y=(f.y*l|0)/l;c.width=(f.width*l|0)/l;c.height=(f.height*l|0)/l;if(!u){if(n.stack[0].renderTarget.transform){}else if(r[0].autoFit){c.fit(s)}c.pad(h)}d.width=c.width;d.height=c.height;var p=this.getPotRenderTarget(i.gl,c.width,c.height,l);o.target=e;o.filters=r;o.resolution=l;o.renderTarget=p;p.setFrame(d,c);i.bindRenderTarget(p);p.clear()};e.prototype.popFilter=function t(){var e=this.filterData;var r=e.stack[e.index-1];var i=e.stack[e.index];this.quad.map(i.renderTarget.size,i.sourceFrame).upload();var n=i.filters;if(n.length===1){n[0].apply(this,i.renderTarget,r.renderTarget,false,i);this.freePotRenderTarget(i.renderTarget)}else{var a=i.renderTarget;var o=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,i.resolution);o.setFrame(i.destinationFrame,i.sourceFrame);o.clear();var s=0;for(s=0;s<n.length-1;++s){n[s].apply(this,a,o,true,i);var u=a;a=o;o=u}n[s].apply(this,a,r.renderTarget,false,i);this.freePotRenderTarget(a);this.freePotRenderTarget(o)}i.clear();e.index--;if(e.index===0){this.filterData=null}};e.prototype.applyFilter=function t(e,r,i,n){var a=this.renderer;var o=a.gl;var s=e.glShaders[a.CONTEXT_UID];if(!s){if(e.glShaderKey){s=this.shaderCache[e.glShaderKey];if(!s){s=new f.default(this.gl,e.vertexSrc,e.fragmentSrc);e.glShaders[a.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=s;this.managedFilters.push(e)}}else{s=e.glShaders[a.CONTEXT_UID]=new f.default(this.gl,e.vertexSrc,e.fragmentSrc);this.managedFilters.push(e)}a.bindVao(null);this.quad.initVao(s)}a.bindVao(this.quad.vao);a.bindRenderTarget(i);if(n){o.disable(o.SCISSOR_TEST);a.clear();o.enable(o.SCISSOR_TEST)}if(i===a.maskManager.scissorRenderTarget){a.maskManager.pushScissorMask(null,a.maskManager.scissorData)}a.bindShader(s);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u;this.syncUniforms(s,e);a.state.setBlendMode(e.blendMode);o.activeTexture(o.TEXTURE0);o.bindTexture(o.TEXTURE_2D,r.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)};e.prototype.syncUniforms=function t(e,r){var i=r.uniformData;var n=r.uniforms;var a=1;var o=void 0;if(e.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=e.uniforms.filterArea;s[0]=o.renderTarget.size.width;s[1]=o.renderTarget.size.height;s[2]=o.sourceFrame.x;s[3]=o.sourceFrame.y;e.uniforms.filterArea=s}if(e.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var u=e.uniforms.filterClamp;u[0]=0;u[1]=0;u[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width;u[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height;e.uniforms.filterClamp=u}for(var l in i){var h=i[l].type;if(h==="sampler2d"&&n[l]!==0){if(n[l].baseTexture){e.uniforms[l]=this.renderer.bindTexture(n[l].baseTexture,a)}else{e.uniforms[l]=a;var f=this.renderer.gl;this.renderer.boundTextures[a]=this.renderer.emptyTextures[a];f.activeTexture(f.TEXTURE0+a);n[l].texture.bind()}a++}else if(h==="mat3"){if(n[l].a!==undefined){e.uniforms[l]=n[l].toArray(true)}else{e.uniforms[l]=n[l]}}else if(h==="vec2"){if(n[l].x!==undefined){var c=e.uniforms[l]||new Float32Array(2);c[0]=n[l].x;c[1]=n[l].y;e.uniforms[l]=c}else{e.uniforms[l]=n[l]}}else if(h==="float"){if(e.uniforms.data[l].value!==i[l]){e.uniforms[l]=n[l]}}else{e.uniforms[l]=n[l]}}};e.prototype.getRenderTarget=function t(e,r){var i=this.filterData.stack[this.filterData.index];var n=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,r||i.resolution);n.setFrame(i.destinationFrame,i.sourceFrame);return n};e.prototype.returnRenderTarget=function t(e){this.freePotRenderTarget(e)};e.prototype.calculateScreenSpaceMatrix=function t(e){var r=this.filterData.stack[this.filterData.index];return d.calculateScreenSpaceMatrix(e,r.sourceFrame,r.renderTarget.size)};e.prototype.calculateNormalizedScreenSpaceMatrix=function t(e){var r=this.filterData.stack[this.filterData.index];return d.calculateNormalizedScreenSpaceMatrix(e,r.sourceFrame,r.renderTarget.size,r.destinationFrame)};e.prototype.calculateSpriteMatrix=function t(e,r){var i=this.filterData.stack[this.filterData.index];return d.calculateSpriteMatrix(e,i.sourceFrame,i.renderTarget.size,r)};e.prototype.destroy=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.renderer;var i=this.managedFilters;r.off("prerender",this.onPrerender,this);for(var n=0;n<i.length;n++){if(!e){i[n].glShaders[r.CONTEXT_UID].destroy()}delete i[n].glShaders[r.CONTEXT_UID]}this.shaderCache={};if(!e){this.emptyPool()}else{this.pool={}}};e.prototype.getPotRenderTarget=function t(e,r,i,n){var a=T;r*=n;i*=n;if(r!==this._screenWidth||i!==this._screenHeight){r=v.default.nextPow2(r);i=v.default.nextPow2(i);a=(r&65535)<<16|i&65535}if(!this.pool[a]){this.pool[a]=[]}var s=this.pool[a].pop();if(!s){var u=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0);s=new o.default(e,r,i,null,1);e.bindTexture(e.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)}s.resolution=n;s.defaultFrame.width=s.size.width=r/n;s.defaultFrame.height=s.size.height=i/n;s.filterPoolKey=a;return s};e.prototype.emptyPool=function t(){for(var e in this.pool){var r=this.pool[e];if(r){for(var i=0;i<r.length;i++){r[i].destroy(true)}}}this.pool={}};e.prototype.freePotRenderTarget=function t(e){this.pool[e.filterPoolKey].push(e)};e.prototype.onPrerender=function t(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width;this._screenHeight=this.renderer.view.height;var e=this.pool[T];if(e){for(var r=0;r<e.length;r++){e[r].destroy(true)}}this.pool[T]=[]}};return e}(n.default);e.default=w},function(t,e,r){"use strict";e.__esModule=true;var i=r(13);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function s(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function u(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var l=function(t){u(e,t);function e(r){o(this,e);var i=s(this,t.call(this,r));i.stencilMaskStack=null;return i}e.prototype.setMaskStack=function t(e){this.stencilMaskStack=e;var r=this.renderer.gl;if(e.length===0){r.disable(r.STENCIL_TEST)}else{r.enable(r.STENCIL_TEST)}};e.prototype.pushStencil=function t(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var r=this.renderer.gl;var i=this.stencilMaskStack.length;if(i===0){r.enable(r.STENCIL_TEST)}this.stencilMaskStack.push(e);r.colorMask(false,false,false,false);r.stencilFunc(r.EQUAL,i,this._getBitwiseMask());r.stencilOp(r.KEEP,r.KEEP,r.INCR);this.renderer.plugins.graphics.render(e);this._useCurrent()};e.prototype.popStencil=function t(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl;var r=this.stencilMaskStack.pop();if(this.stencilMaskStack.length===0){e.disable(e.STENCIL_TEST);e.clear(e.STENCIL_BUFFER_BIT);e.clearStencil(0)}else{e.colorMask(false,false,false,false);e.stencilOp(e.KEEP,e.KEEP,e.DECR);this.renderer.plugins.graphics.render(r);this._useCurrent()}};e.prototype._useCurrent=function t(){var e=this.renderer.gl;e.colorMask(true,true,true,true);e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask());e.stencilOp(e.KEEP,e.KEEP,e.KEEP)};e.prototype._getBitwiseMask=function t(){return(1<<this.stencilMaskStack.length)-1};e.prototype.destroy=function t(){n.default.prototype.destroy.call(this);this.stencilMaskStack.stencilStack=null};return e}(n.default);e.default=l},function(t,e,r){"use strict";e.__esModule=true;e.default=s;var i=r(5);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var o=n.default.shader.defaultValue;function s(t,e,r){var i=u(t,r);var n=u(e,r);return Object.assign(i,n)}function u(t){var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$");var r={};var i=void 0;var n=t.replace(/\s+/g," ").split(/\s*;\s*/);for(var a=0;a<n.length;a++){var s=n[a].trim();if(s.indexOf("uniform")>-1){var u=s.split(" ");var l=u[1];var h=u[2];var f=1;if(h.indexOf("[")>-1){i=h.split(/\[|]/);h=i[0];f*=Number(i[1])}if(!h.match(e)){r[h]={value:o(l,f),name:h,type:l}}}}return r}},function(t,e,r){"use strict";e.__esModule=true;var i=r(13);var n=s(i);var a=r(70);var o=s(a);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function l(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function h(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var f=function(t){h(e,t);function e(r){u(this,e);var i=l(this,t.call(this,r));i.scissor=false;i.scissorData=null;i.scissorRenderTarget=null;i.enableScissor=true;i.alphaMaskPool=[];i.alphaMaskIndex=0;return i}e.prototype.pushMask=function t(e,r){if(r.texture){this.pushSpriteMask(e,r)}else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&r.isFastRect()){var i=r.worldTransform;var n=Math.atan2(i.b,i.a);n=Math.round(n*(180/Math.PI));if(n%90){this.pushStencilMask(r)}else{this.pushScissorMask(e,r)}}else{this.pushStencilMask(r)}};e.prototype.popMask=function t(e,r){if(r.texture){this.popSpriteMask(e,r)}else if(this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length){this.popScissorMask(e,r)}else{this.popStencilMask(e,r)}};e.prototype.pushSpriteMask=function t(e,r){var i=this.alphaMaskPool[this.alphaMaskIndex];if(!i){i=this.alphaMaskPool[this.alphaMaskIndex]=[new o.default(r)]}i[0].resolution=this.renderer.resolution;i[0].maskSprite=r;e.filterArea=r.getBounds(true);this.renderer.filterManager.pushFilter(e,i);this.alphaMaskIndex++};e.prototype.popSpriteMask=function t(){this.renderer.filterManager.popFilter();this.alphaMaskIndex--};e.prototype.pushStencilMask=function t(e){this.renderer.currentRenderer.stop();this.renderer.stencilManager.pushStencil(e)};e.prototype.popStencilMask=function t(){this.renderer.currentRenderer.stop();this.renderer.stencilManager.popStencil()};e.prototype.pushScissorMask=function t(e,r){r.renderable=true;var i=this.renderer._activeRenderTarget;var n=r.getBounds();n.fit(i.size);r.renderable=false;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var a=this.renderer.resolution;this.renderer.gl.scissor(n.x*a,(i.root?i.size.height-n.y-n.height:n.y)*a,n.width*a,n.height*a);this.scissorRenderTarget=i;this.scissorData=r;this.scissor=true};e.prototype.popScissorMask=function t(){this.scissorRenderTarget=null;this.scissorData=null;this.scissor=false;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)};return e}(n.default);e.default=f},function(t,e,r){"use strict";e.__esModule=true;var i=r(21);var n=T(i);var a=r(20);var o=T(a);var s=r(25);var u=T(s);var l=r(155);var h=T(l);var f=r(154);var c=T(f);var d=r(153);var p=T(d);var v=r(3);var y=T(v);var g=r(2);var _=r(5);var m=T(_);var b=r(29);var x=T(b);function T(t){return t&&t.__esModule?t:{default:t}}function w(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function E(t,e){if(!t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e&&(typeof e==="object"||typeof e==="function")?e:t}function S(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e)}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}});if(e)Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e}var O=0;var M=0;var P=function(t){S(e,t);function e(r){w(this,e);var i=E(this,t.call(this,r));i.vertSize=5;i.vertByteSize=i.vertSize*4;i.size=y.default.SPRITE_BATCH_SIZE;i.buffers=[];for(var n=1;n<=x.default.nextPow2(i.size);n*=2){i.buffers.push(new p.default(n*4*i.vertByteSize))}i.indices=(0,u.default)(i.size);i.shader=null;i.currentIndex=0;i.groups=[];for(var a=0;a<i.size;a++){i.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0}}i.sprites=[];i.vertexBuffers=[];i.vaos=[];i.vaoMax=2;i.vertexCount=0;i.renderer.on("prerender",i.onPrerender,i);return i}e.prototype.onContextChange=function t(){var e=this.renderer.gl;if(this.renderer.legacy){this.MAX_TEXTURES=1}else{this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),y.default.SPRITE_MAX_TEXTURES);this.MAX_TEXTURES=(0,c.default)(this.MAX_TEXTURES,e)}this.shader=(0,h.default)(e,this.MAX_TEXTURES);this.indexBuffer=m.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW);this.renderer.bindVao(null);var r=this.shader.attributes;for(var i=0;i<this.vaoMax;i++){var n=this.vertexBuffers[i]=m.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW);var a=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,r.aVertexPosition,e.FLOAT,false,this.vertByteSize,0).addAttribute(n,r.aTextureCoord,e.UNSIGNED_SHORT,true,this.vertByteSize,2*4).addAttribute(n,r.aColor,e.UNSIGNED_BYTE,true,this.vertByteSize,3*4);if(r.aTextureId){a.addAttribute(n,r.aTextureId,e.FLOAT,false,this.vertByteSize,4*4)}this.vaos[i]=a}this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=new Array(this.MAX_TEXTURES)};e.prototype.onPrerender=function t(){this.vertexCount=0};e.prototype.render=function t(e){if(this.currentIndex>=this.size){this.flush()}if(!e._texture._uvs){return}this.sprites[this.currentIndex++]=e};e.prototype.flush=function t(){if(this.currentIndex===0){return}var e=this.renderer.gl;var r=this.MAX_TEXTURES;var i=x.default.nextPow2(this.currentIndex);var n=x.default.log2(i);var a=this.buffers[n];var o=this.sprites;var s=this.groups;var u=a.float32View;var l=a.uint32View;var h=this.boundTextures;var f=this.renderer.boundTextures;var c=this.renderer.textureGC.count;var d=0;var p=void 0;var v=void 0;var _=1;var b=0;var T=s[0];var w=void 0;var E=void 0;var S=g.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];T.textureCount=0;T.start=0;T.blend=S;O++;var P=void 0;for(P=0;P<r;++P){var C=f[P];if(C._enabled===O){h[P]=this.renderer.emptyTextures[P];continue}h[P]=C;C._virtalBoundId=P;C._enabled=O}O++;for(P=0;P<this.currentIndex;++P){var A=o[P];o[P]=null;p=A._texture.baseTexture;var I=g.premultiplyBlendMode[Number(p.premultipliedAlpha)][A.blendMode];if(S!==I){S=I;v=null;b=r;O++}if(v!==p){v=p;if(p._enabled!==O){if(b===r){O++;T.size=P-T.start;b=0;T=s[_++];T.blend=S;T.textureCount=0;T.start=P}p.touched=c;if(p._virtalBoundId===-1){for(var R=0;R<r;++R){var D=(R+M)%r;var L=h[D];if(L._enabled!==O){M++;L._virtalBoundId=-1;p._virtalBoundId=D;h[D]=p;break}}}p._enabled=O;T.textureCount++;T.ids[b]=p._virtalBoundId;T.textures[b++]=p}}w=A.vertexData;E=A._texture._uvs.uvsUint32;if(this.renderer.roundPixels){var N=this.renderer.resolution;u[d]=(w[0]*N|0)/N;u[d+1]=(w[1]*N|0)/N;u[d+5]=(w[2]*N|0)/N;u[d+6]=(w[3]*N|0)/N;u[d+10]=(w[4]*N|0)/N;u[d+11]=(w[5]*N|0)/N;u[d+15]=(w[6]*N|0)/N;u[d+16]=(w[7]*N|0)/N}else{u[d]=w[0];u[d+1]=w[1];u[d+5]=w[2];u[d+6]=w[3];u[d+10]=w[4];u[d+11]=w[5];u[d+15]=w[6];u[d+16]=w[7]}l[d+2]=E[0];l[d+7]=E[1];l[d+12]=E[2];l[d+17]=E[3];var k=Math.min(A.worldAlpha,1);var F=k<1&&p.premultipliedAlpha?(0,g.premultiplyTint)(A._tintRGB,k):A._tintRGB+(k*255<<24);l[d+3]=l[d+8]=l[d+13]=l[d+18]=F;u[d+4]=u[d+9]=u[d+14]=u[d+19]=p._virtalBoundId;d+=20}T.size=P-T.start;if(!y.default.CAN_UPLOAD_SAME_BUFFER){if(this.vaoMax<=this.vertexCount){this.vaoMax++;var B=this.shader.attributes;var U=this.vertexBuffers[this.vertexCount]=m.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW);var j=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(U,B.aVertexPosition,e.FLOAT,false,this.vertByteSize,0).addAttribute(U,B.aTextureCoord,e.UNSIGNED_SHORT,true,this.vertByteSize,2*4).addAttribute(U,B.aColor,e.UNSIGNED_BYTE,true,this.vertByteSize,3*4);if(B.aTextureId){j.addAttribute(U,B.aTextureId,e.FLOAT,false,this.vertByteSize,4*4)}this.vaos[this.vertexCount]=j}this.renderer.bindVao(this.vaos[this.vertexCount]);this.vertexBuffers[this.vertexCount].upload(a.vertices,0,false);this.vertexCount++}else{this.vertexBuffers[this.vertexCount].upload(a.vertices,0,true)}for(P=0;P<r;++P){f[P]._virtalBoundId=-1}for(P=0;P<_;++P){var X=s[P];var G=X.textureCount;for(var W=0;W<G;W++){v=X.textures[W];if(f[X.ids[W]]!==v){this.renderer.bindTexture(v,X.ids[W],true)}v._virtalBoundId=-1}this.renderer.state.setBlendMode(X.blend);e.drawElements(e.TRIANGLES,X.size*6,e.UNSIGNED_SHORT,X.start*6*2)}this.currentIndex=0};e.prototype.start=function t(){this.renderer.bindShader(this.shader);if(y.default.CAN_UPLOAD_SAME_BUFFER){this.renderer.bindVao(this.vaos[this.vertexCount]);this.vertexBuffers[this.vertexCount].bind()}};e.prototype.stop=function t(){this.flush()};e.prototype.destroy=function e(){for(var r=0;r<this.vaoMax;r++){if(this.vertexBuffers[r]){this.vertexBuffers[r].destroy()}if(this.vaos[r]){this.vaos[r].destroy()}}if(this.indexBuffer){this.indexBuffer.destroy()}this.renderer.off("prerender",this.onPrerender,this);t.prototype.destroy.call(this);if(this.shader){this.shader.destroy();this.shader=null}this.vertexBuffers=null;this.vaos=null;this.indexBuffer=null;this.indices=null;this.sprites=null;for(var i=0;i<this.buffers.length;++i){this.buffers[i].destroy()}};return e}(n.default);e.default=P;o.default.registerPlugin("sprite",P)},function(t,e,r){"use strict";e.__esModule=true;e.default=s;var i=r(0);var n=r(71);var a=o(n);function o(t){return t&&t.__esModule?t:{default:t}}function s(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if((0,a.default)()){t[i.BLEND_MODES.NORMAL]="source-over";t[i.BLEND_MODES.ADD]="lighter";t[i.BLEND_MODES.MULTIPLY]="multiply";t[i.BLEND_MODES.SCREEN]="screen";t[i.BLEND_MODES.OVERLAY]="overlay";t[i.BLEND_MODES.DARKEN]="darken";t[i.BLEND_MODES.LIGHTEN]="lighten";t[i.BLEND_MODES.COLOR_DODGE]="color-dodge";t[i.BLEND_MODES.COLOR_BURN]="color-burn";t[i.BLEND_MODES.HARD_LIGHT]="hard-light";t[i.BLEND_MODES.SOFT_LIGHT]="soft-light";t[i.BLEND_MODES.DIFFERENCE]="difference";t[i.BLEND_MODES.EXCLUSION]="exclusion";t[i.BLEND_MODES.HUE]="hue";t[i.BLEND_MODES.SATURATION]="saturate";t[i.BLEND_MODES.COLOR]="color";t[i.BLEND_MODES.LUMINOSITY]="luminosity"}else{t[i.BLEND_MODES.NORMAL]="source-over";t[i.BLEND_MODES.ADD]="lighter";t[i.BLEND_MODES.MULTIPLY]="source-over";t[i.BLEND_MODES.SCREEN]="source-over";t[i.BLEND_MODES.OVERLAY]="source-over";t[i.BLEND_MODES.DARKEN]="source-over";t[i.BLEND_MODES.LIGHTEN]="source-over";t[i.BLEND_MODES.COLOR_DODGE]="source-over";t[i.BLEND_MODES.COLOR_BURN]="source-over";t[i.BLEND_MODES.HARD_LIGHT]="source-over";t[i.BLEND_MODES.SOFT_LIGHT]="source-over";t[i.BLEND_MODES.DIFFERENCE]="source-over";t[i.BLEND_MODES.EXCLUSION]="source-over";t[i.BLEND_MODES.HUE]="source-over";t[i.BLEND_MODES.SATURATION]="source-over";t[i.BLEND_MODES.COLOR]="source-over";t[i.BLEND_MODES.LUMINOSITY]="source-over"}t[i.BLEND_MODES.NORMAL_NPM]=t[i.BLEND_MODES.NORMAL];t[i.BLEND_MODES.ADD_NPM]=t[i.BLEND_MODES.ADD];t[i.BLEND_MODES.SCREEN_NPM]=t[i.BLEND_MODES.SCREEN];return t}},function(t,e,r){"use strict";e.__esModule=true;var i=r(0);function n(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(e){n(this,t);this.renderer=e}t.prototype.pushMask=function t(e){var r=this.renderer;r.context.save();var i=e.alpha;var n=e.transform.worldTransform;var a=r.resolution;r.context.setTransform(n.a*a,n.b*a,n.c*a,n.d*a,n.tx*a,n.ty*a);if(!e._texture){this.renderGraphicsShape(e);r.context.clip()}e.worldAlpha=i};t.prototype.renderGraphicsShape=function t(e){var r=this.renderer.context;var n=e.graphicsData.length;if(n===0){return}r.beginPath();for(var a=0;a<n;a++){var o=e.graphicsData[a];var s=o.shape;if(o.type===i.SHAPES.POLY){var u=s.points;r.moveTo(u[0],u[1]);for(var l=1;l<u.length/2;l++){r.lineTo(u[l*2],u[l*2+1])}if(u[0]===u[u.length-2]&&u[1]===u[u.length-1]){r.closePath()}}else if(o.type===i.SHAPES.RECT){r.rect(s.x,s.y,s.width,s.height);r.closePath()}else if(o.type===i.SHAPES.CIRC){r.arc(s.x,s.y,s.radius,0,2*Math.PI);r.closePath()}else if(o.type===i.SHAPES.ELIP){var h=s.width*2;var f=s.height*2;var c=s.x-h/2;var d=s.y-f/2;var p=.5522848;var v=h/2*p;var y=f/2*p;var g=c+h;var _=d+f;var m=c+h/2;var b=d+f/2;r.moveTo(c,b);r.bezierCurveTo(c,b-y,m-v,d,m,d);r.bezierCurveTo(m+v,d,g,b-y,g,b);r.bezierCurveTo(g,b+y,m+v,_,m,_);r.bezierCurveTo(m-v,_,c,b+y,c,b);r.closePath()}else if(o.type===i.SHAPES.RREC){var x=s.x;var T=s.y;var w=s.width;var E=s.height;var S=s.radius;var O=Math.min(w,E)/2|0;S=S>O?O:S;r.moveTo(x,T+S);r.lineTo(x,T+E-S);r.quadraticCurveTo(x,T+E,x+S,T+E);r.lineTo(x+w-S,T+E);r.quadraticCurveTo(x+w,T+E,x+w,T+E-S);r.lineTo(x+w,T+S);r.quadraticCurveTo(x+w,T,x+w-S,T);r.lineTo(x+S,T);r.quadraticCurveTo(x,T,x,T+S);r.closePath()}}};t.prototype.popMask=function t(e){e.context.restore();e.invalidateBlendMode()};t.prototype.destroy=function t(){};return t}();e.default=a},function(t,e,r){"use strict";e.__esModule=true;var i=r(14);var n=l(i);var a=r(0);var o=r(4);var s=r(26);var u=l(s);function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var f=new o.Matrix;var c=function(){function t(e){h(this,t);this.renderer=e}t.prototype.render=function t(e){var r=e._texture;var i=this.renderer;var n=r._frame.width;var s=r._frame.height;var l=e.transform.worldTransform;var h=0;var c=0;if(r.orig.width<=0||r.orig.height<=0||!r.baseTexture.source){return}i.setBlendMode(e.blendMode);if(r.valid){i.context.globalAlpha=e.worldAlpha;var d=r.baseTexture.scaleMode===a.SCALE_MODES.LINEAR;if(i.smoothProperty&&i.context[i.smoothProperty]!==d){i.context[i.smoothProperty]=d}if(r.trim){h=r.trim.width/2+r.trim.x-e.anchor.x*r.orig.width;c=r.trim.height/2+r.trim.y-e.anchor.y*r.orig.height}else{h=(.5-e.anchor.x)*r.orig.width;c=(.5-e.anchor.y)*r.orig.height}if(r.rotate){l.copy(f);l=f;o.GroupD8.matrixAppendRotationInv(l,r.rotate,h,c);h=0;c=0}h-=n/2;c-=s/2;if(i.roundPixels){i.context.setTransform(l.a,l.b,l.c,l.d,l.tx*i.resolution|0,l.ty*i.resolution|0);h=h|0;c=c|0}else{i.context.setTransform(l.a,l.b,l.c,l.d,l.tx*i.resolution,l.ty*i.resolution)}var p=r.baseTexture.resolution;if(e.tint!==16777215){if(e.cachedTint!==e.tint||e.tintedTexture.tintId!==e._texture._updateID){e.cachedTint=e.tint;e.tintedTexture=u.default.getTintedTexture(e,e.tint)}i.context.drawImage(e.tintedTexture,0,0,n*p,s*p,h*i.resolution,c*i.resolution,n*i.resolution,s*i.resolution)}else{i.context.drawImage(r.baseTexture.source,r._frame.x*p,r._frame.y*p,n*p,s*p,h*i.resolution,c*i.resolution,n*i.resolution,s*i.resolution)}}};t.prototype.destroy=function t(){this.renderer=null};return t}();e.default=c;n.default.registerPlugin("sprite",c)},function(t,e,r){"use strict";e.__esModule=true;function i(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var n=function(){function t(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;i(this,t);this.fn=e;this.context=r;this.priority=n;this.once=a;this.next=null;this.previous=null;this._destroyed=false}t.prototype.match=function t(e,r){r=r||null;return this.fn===e&&this.context===r};t.prototype.emit=function t(e){if(this.fn){if(this.context){this.fn.call(this.context,e)}else{this.fn(e)}}var r=this.next;if(this.once){this.destroy(true)}if(this._destroyed){this.next=null}return r};t.prototype.connect=function t(e){this.previous=e;if(e.next){e.next.previous=this}this.next=e.next;e.next=this};t.prototype.destroy=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this._destroyed=true;this.fn=null;this.context=null;if(this.previous){this.previous.next=this.next}if(this.next){this.next.previous=this.previous}var r=this.next;this.next=e?null:r;this.previous=null;return r};return t}();e.default=n},function(t,e,r){"use strict";e.__esModule=true;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(e,r,i){if(r)t(e.prototype,r);if(i)t(e,i);return e}}();var n=r(3);var a=l(n);var o=r(0);var s=r(171);var u=l(s);function l(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var f=function(){function t(){var e=this;h(this,t);this._head=new u.default(null,null,Infinity);this._requestId=null;this._maxElapsedMS=100;this.autoStart=false;this.deltaTime=1;this.elapsedMS=1/a.default.TARGET_FPMS;this.lastTime=-1;this.speed=1;this.started=false;this._tick=function(t){e._requestId=null;if(e.started){e.update(t);if(e.started&&e._requestId===null&&e._head.next){e._requestId=requestAnimationFrame(e._tick)}}}}t.prototype._requestIfNeeded=function t(){if(this._requestId===null&&this._head.next){this.lastTime=performance.now();this._requestId=requestAnimationFrame(this._tick)}};t.prototype._cancelIfNeeded=function t(){if(this._requestId!==null){cancelAnimationFrame(this._requestId);this._requestId=null}};t.prototype._startIfPossible=function t(){if(this.started){this._requestIfNeeded()}else if(this.autoStart){this.start()}};t.prototype.add=function t(e,r){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,r,i))};t.prototype.addOnce=function t(e,r){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(e,r,i,true))};t.prototype._addListener=function t(e){var r=this._head.next;var i=this._head;if(!r){e.connect(i)}else{while(r){if(e.priority>r.priority){e.connect(i);break}i=r;r=r.next}if(!e.previous){e.connect(i)}}this._startIfPossible();return this};t.prototype.remove=function t(e,r){var i=this._head.next;while(i){if(i.match(e,r)){i=i.destroy()}else{i=i.next}}if(!this._head.next){this._cancelIfNeeded()}return this};t.prototype.start=function t(){if(!this.started){this.started=true;this._requestIfNeeded()}};t.prototype.stop=function t(){if(this.started){this.started=false;this._cancelIfNeeded()}};t.prototype.destroy=function t(){this.stop();var e=this._head.next;while(e){e=e.destroy(true)}this._head.destroy();this._head=null};t.prototype.update=function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:performance.now();var r=void 0;if(e>this.lastTime){r=this.elapsedMS=e-this.lastTime;if(r>this._maxElapsedMS){r=this._maxElapsedMS}this.deltaTime=r*a.default.TARGET_FPMS*this.speed;var i=this._head;var n=i.next;while(n){n=n.emit(this.deltaTime)}if(!i.next){this._cancelIfNeeded()}}else{this.deltaTime=this.elapsedMS=0}this.lastTime=e};i(t,[{key:"FPS",get:function t(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function t(){return 1e3/this._maxElapsedMS},set:function t(e){var r=Math.min(Math.max(0,e)/1e3,a.default.TARGET_FPMS);this._maxElapsedMS=1/r}}]);return t}();e.default=f},function(t,e,r){"use strict";e.__esModule=true;e.default=n;var i=r(0);function n(){var t=[];var e=[];for(var r=0;r<32;r++){t[r]=r;e[r]=r}t[i.BLEND_MODES.NORMAL_NPM]=i.BLEND_MODES.NORMAL;t[i.BLEND_MODES.ADD_NPM]=i.BLEND_MODES.ADD;t[i.BLEND_MODES.SCREEN_NPM]=i.BLEND_MODES.SCREEN;e[i.BLEND_MODES.NORMAL]=i.BLEND_MODES.NORMAL_NPM;e[i.BLEND_MODES.ADD]=i.BLEND_MODES.ADD_NPM;e[i.BLEND_MODES.SCREEN]=i.BLEND_MODES.SCREEN_NPM;var n=[];n.push(e);n.push(t);return n}},function(t,e,r){"use strict";t.exports=function t(e,r,i){var n,a=e.length;if(r>=a||i===0){return}i=r+i>a?a-r:i;var o=a-i;for(n=r;n<o;++n){e[n]=e[n+i]}e.length=o}},function(t,e,r){"use strict";e.__esModule=true;e.mixin=i;e.delayMixin=a;e.performMixins=o;function i(t,e){if(!t||!e)return;var r=Object.keys(e);for(var i=0;i<r.length;++i){var n=r[i];Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}}var n=[];function a(t,e){n.push(t,e)}function o(){for(var t=0;t<n.length;t+=2){i(n[t],n[t+1])}n.length=0}},function(t,e,r){"use strict";e.__esModule=true;function i(t){t.__plugins={};t.registerPlugin=function e(r,i){t.__plugins[r]=i};t.prototype.initPlugins=function e(){this.plugins=this.plugins||{};for(var r in t.__plugins){this.plugins[r]=new t.__plugins[r](this)}};t.prototype.destroyPlugins=function t(){for(var e in this.plugins){this.plugins[e].destroy();this.plugins[e]=null}this.plugins=null}}e.default={mixin:function t(e){i(e)}}},function(t,e,r){"use strict";e.__esModule=true;e.default=i;function i(){var t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!t}},function(t,e,r){"use strict";e.__esModule=true;e.default=o;var i=r(33);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function o(t){if(n.default.tablet||n.default.phone){return 4}return t}},function(t,e,r){t.exports={compileProgram:r(87),defaultValue:r(83),extractAttributes:r(86),extractUniforms:r(84),generateUniformAccessObject:r(81),setPrecision:r(82),mapSize:r(85),mapType:r(35)}},function(t,e,r){var i=r(89);function n(t,e){this.nativeVaoExtension=null;if(!n.FORCE_NATIVE){this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}this.nativeState=e;if(this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t;this.attributes=[];this.indexBuffer=null;this.dirty=false}n.prototype.constructor=n;t.exports=n;n.FORCE_NATIVE=false;n.prototype.bind=function(){if(this.nativeVao){this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);if(this.dirty){this.dirty=false;this.activate();return this}if(this.indexBuffer){this.indexBuffer.bind()}}else{this.activate()}return this};n.prototype.unbind=function(){if(this.nativeVao){this.nativeVaoExtension.bindVertexArrayOES(null)}return this};n.prototype.activate=function(){var t=this.gl;var e=null;for(var r=0;r<this.attributes.length;r++){var n=this.attributes[r];if(e!==n.buffer){n.buffer.bind();e=n.buffer}t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||false,n.stride||0,n.start||0)}i(t,this.attributes,this.nativeState);if(this.indexBuffer){this.indexBuffer.bind()}return this};n.prototype.addAttribute=function(t,e,r,i,n,a){this.attributes.push({buffer:t,attribute:e,location:e.location,type:r||this.gl.FLOAT,normalized:i||false,stride:n||0,start:a||0});this.dirty=true;return this};n.prototype.addIndex=function(t){this.indexBuffer=t;this.dirty=true;return this};n.prototype.clear=function(){if(this.nativeVao){this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao)}this.attributes.length=0;this.indexBuffer=null;return this};n.prototype.draw=function(t,e,r){var i=this.gl;if(this.indexBuffer){i.drawElements(t,e||this.indexBuffer.data.length,i.UNSIGNED_SHORT,(r||0)*2)}else{i.drawArrays(t,r,e||this.getSize())}return this};n.prototype.destroy=function(){this.gl=null;this.indexBuffer=null;this.attributes=null;this.nativeState=null;if(this.nativeVao){this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao)}this.nativeVaoExtension=null;this.nativeVao=null};n.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e,r){var i=r(87),n=r(86),a=r(84),o=r(82),s=r(81);var u=function(t,e,r,u,l){this.gl=t;if(u){e=o(e,u);r=o(r,u)}this.program=i(t,e,r,l);this.attributes=n(t,this.program);this.uniformData=a(t,this.program);this.uniforms=s(t,this.uniformData)};u.prototype.bind=function(){this.gl.useProgram(this.program);return this};u.prototype.destroy=function(){this.attributes=null;this.uniformData=null;this.uniforms=null;var t=this.gl;t.deleteProgram(this.program)};t.exports=u},function(t,e,r){var i=r(88);var n=function(t,e,r){this.gl=t;this.framebuffer=t.createFramebuffer();this.stencil=null;this.texture=null;this.width=e||100;this.height=r||100};n.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new i(e);this.texture.bind();this.bind();e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)};n.prototype.enableStencil=function(){if(this.stencil)return;var t=this.gl;this.stencil=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,this.stencil);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil);t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)};n.prototype.clear=function(t,e,r,i){this.bind();var n=this.gl;n.clearColor(t,e,r,i);n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)};n.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)};n.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)};n.prototype.resize=function(t,e){var r=this.gl;this.width=t;this.height=e;if(this.texture){this.texture.uploadData(null,t,e)}if(this.stencil){r.bindRenderbuffer(r.RENDERBUFFER,this.stencil);r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t,e)}};n.prototype.destroy=function(){var t=this.gl;if(this.texture){this.texture.destroy()}t.deleteFramebuffer(this.framebuffer);this.gl=null;this.stencil=null;this.texture=null};n.createRGBA=function(t,e,r,a){var o=i.fromData(t,null,e,r);o.enableNearestScaling();o.enableWrapClamp();var s=new n(t,e,r);s.enableTexture(o);s.unbind();return s};n.createFloat32=function(t,e,r,a){var o=new i.fromData(t,a,e,r);o.enableNearestScaling();o.enableWrapClamp();var s=new n(t,e,r);s.enableTexture(o);s.unbind();return s};t.exports=n},function(t,e){var r=new ArrayBuffer(0);var i=function(t,e,i,n){this.gl=t;this.buffer=t.createBuffer();this.type=e||t.ARRAY_BUFFER;this.drawType=n||t.STATIC_DRAW;this.data=r;if(i){this.upload(i)}this._updateID=0};i.prototype.upload=function(t,e,r){if(!r)this.bind();var i=this.gl;t=t||this.data;e=e||0;if(this.data.byteLength>=t.byteLength){i.bufferSubData(this.type,e,t)}else{i.bufferData(this.type,t,this.drawType)}this.data=t};i.prototype.bind=function(){var t=this.gl;t.bindBuffer(this.type,this.buffer)};i.createVertexBuffer=function(t,e,r){return new i(t,t.ARRAY_BUFFER,e,r)};i.createIndexBuffer=function(t,e,r){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,r)};i.create=function(t,e,r,n){return new i(t,e,r,n)};i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};t.exports=i},function(t,e){var r=function(t,e){var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!r){throw new Error("This browser does not support webGL. Try using the canvas renderer")}return r};t.exports=r},function(t,e,r){"use strict";e.__esModule=true;var i=r(0);function n(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:20;n(this,t);this.x=e;this.y=r;this.width=a;this.height=o;this.radius=s;this.type=i.SHAPES.RREC}t.prototype.clone=function e(){return new t(this.x,this.y,this.width,this.height,this.radius)};t.prototype.contains=function t(e,r){if(this.width<=0||this.height<=0){return false}if(e>=this.x&&e<=this.x+this.width){if(r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius){return true}var i=e-(this.x+this.radius);var n=r-(this.y+this.radius);var a=this.radius*this.radius;if(i*i+n*n<=a){return true}i=e-(this.x+this.width-this.radius);if(i*i+n*n<=a){return true}n=r-(this.y+this.height-this.radius);if(i*i+n*n<=a){return true}i=e-(this.x+this.radius);if(i*i+n*n<=a){return true}}}return false};return t}();e.default=a},function(t,e,r){"use strict";e.__esModule=true;var i=r(38);var n=o(i);var a=r(0);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function t(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++){r[i]=arguments[i]}s(this,t);if(Array.isArray(r[0])){r=r[0]}if(r[0]instanceof n.default){var o=[];for(var u=0,l=r.length;u<l;u++){o.push(r[u].x,r[u].y)}r=o}this.closed=true;this.points=r;this.type=a.SHAPES.POLY}t.prototype.clone=function e(){return new t(this.points.slice())};t.prototype.close=function t(){var e=this.points;if(e[0]!==e[e.length-2]||e[1]!==e[e.length-1]){e.push(e[0],e[1])}};t.prototype.contains=function t(e,r){var i=false;var n=this.points.length/2;for(var a=0,o=n-1;a<n;o=a++){var s=this.points[a*2];var u=this.points[a*2+1];var l=this.points[o*2];var h=this.points[o*2+1];var f=u>r!==h>r&&e<(l-s)*((r-u)/(h-u))+s;if(f){i=!i}}return i};return t}();e.default=u},function(t,e,r){"use strict";e.__esModule=true;var i=r(36);var n=o(i);var a=r(0);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;s(this,t);this.x=e;this.y=r;this.width=i;this.height=n;this.type=a.SHAPES.ELIP}t.prototype.clone=function e(){return new t(this.x,this.y,this.width,this.height)};t.prototype.contains=function t(e,r){if(this.width<=0||this.height<=0){return false}var i=(e-this.x)/this.width;var n=(r-this.y)/this.height;i*=i;n*=n;return i+n<=1};t.prototype.getBounds=function t(){return new n.default(this.x-this.width,this.y-this.height,this.width,this.height)};return t}();e.default=u},function(t,e,r){"use strict";e.__esModule=true;var i=r(36);var n=o(i);var a=r(0);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;s(this,t);this.x=e;this.y=r;this.radius=i;this.type=a.SHAPES.CIRC}t.prototype.clone=function e(){return new t(this.x,this.y,this.radius)};t.prototype.contains=function t(e,r){if(this.radius<=0){return false}var i=this.radius*this.radius;var n=this.x-e;var a=this.y-r;n*=n;a*=a;return n+a<=i};t.prototype.getBounds=function t(){return new n.default(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)};return t}();e.default=u},function(t,e,r){"use strict";if(!Number.isInteger){Number.isInteger=function t(e){return typeof e==="number"&&isFinite(e)&&Math.floor(e)===e}}},function(t,e,r){"use strict";if(!Math.sign){Math.sign=function t(e){e=Number(e);if(e===0||isNaN(e)){return e}return e>0?1:-1}}},function(t,e,r){"use strict";var i=16;if(!(Date.now&&Date.prototype.getTime)){Date.now=function t(){return(new Date).getTime()}}if(!(global.performance&&global.performance.now)){var n=Date.now();if(!global.performance){global.performance={}}global.performance.now=function(){return Date.now()-n}}var a=Date.now();var o=["ms","moz","webkit","o"];for(var s=0;s<o.length&&!global.requestAnimationFrame;++s){var u=o[s];global.requestAnimationFrame=global[u+"RequestAnimationFrame"];global.cancelAnimationFrame=global[u+"CancelAnimationFrame"]||global[u+"CancelRequestAnimationFrame"]}if(!global.requestAnimationFrame){global.requestAnimationFrame=function(t){if(typeof t!=="function"){throw new TypeError(t+"is not a function")}var e=Date.now();var r=i+a-e;if(r<0){r=0}a=e;return setTimeout(function(){a=Date.now();t(performance.now())},r)}}if(!global.cancelAnimationFrame){global.cancelAnimationFrame=function(t){return clearTimeout(t)}}},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols;var n=Object.prototype.hasOwnProperty;var a=Object.prototype.propertyIsEnumerable;function o(t){if(t===null||t===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(t)}function s(){try{if(!Object.assign){return false}var t=new String("abc");t[5]="de";if(Object.getOwnPropertyNames(t)[0]==="5"){return false}var e={};for(var r=0;r<10;r++){e["_"+String.fromCharCode(r)]=r}var i=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if(i.join("")!=="0123456789"){return false}var n={};"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t});if(Object.keys(Object.assign({},n)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(t){return false}}t.exports=s()?Object.assign:function(t,e){var r;var s=o(t);var u;for(var l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var h in r){if(n.call(r,h)){s[h]=r[h]}}if(i){u=i(r);for(var f=0;f<u.length;f++){if(a.call(r,u[f])){s[u[f]]=r[u[f]]}}}}return s}},function(t,e,r){"use strict";var i=r(192);var n=a(i);function a(t){return t&&t.__esModule?t:{default:t}}if(!Object.assign){Object.assign=n.default}},function(t,e,r){"use strict";r(193);r(191);r(190);r(189);if(!window.ArrayBuffer){window.ArrayBuffer=Array}if(!window.Float32Array){window.Float32Array=Array}if(!window.Uint32Array){window.Uint32Array=Array}if(!window.Uint16Array){window.Uint16Array=Array}},function(t,e,r){"use strict";e.__esModule=true;e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=undefined;var i=r(194);Object.keys(i).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(e,t,{enumerable:true,get:function e(){return i[t]}})});var n=r(1);Object.keys(n).forEach(function(t){if(t==="default"||t==="__esModule")return;Object.defineProperty(e,t,{enumerable:true,get:function e(){return n[t]}})});var a=r(139);var o=O(a);var s=r(138);var u=S(s);var l=r(136);var h=S(l);var f=r(60);var c=S(f);var d=r(126);var p=S(d);var v=r(119);var y=S(v);var g=r(117);var _=S(g);var m=r(113);var b=S(m);var x=r(108);var T=S(x);var w=r(103);var E=S(w);function S(t){if(t&&t.__esModule){return t}else{var e={};if(t!=null){for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}}e.default=t;return e}}function O(t){return t&&t.__esModule?t:{default:t}}n.utils.mixins.performMixins();var M=_.shared||null;e.accessibility=u;e.extract=h;e.extras=c;e.filters=p;e.interaction=y;e.loaders=_;e.mesh=b;e.particles=T;e.prepare=E;e.loader=M;if(typeof o.default==="function"){(0,o.default)(e)}global.PIXI=e}]);
//# sourceMappingURL=test3.js.map